"use strict";(self.webpackChunkzezo_admin=self.webpackChunkzezo_admin||[]).push([[179],{778:(po,Dr,Bt)=>{Bt.d(Dr,{Z:()=>ae});var xt,Je,je=Bt(582),I=Bt(157),We=Bt(75),nt=Bt(83),Di=((xt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",xt["bad-app-name"]="Illegal App name: '{$appName}",xt["duplicate-app"]="Firebase App named '{$appName}' already exists",xt["app-deleted"]="Firebase App named '{$appName}' already deleted",xt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",xt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",xt),sr=new I.LL("app","Firebase",Di),Ui="@firebase/app",bn="[DEFAULT]",Yr=((Je={})[Ui]="fire-core",Je["@firebase/analytics"]="fire-analytics",Je["@firebase/app-check"]="fire-app-check",Je["@firebase/auth"]="fire-auth",Je["@firebase/database"]="fire-rtdb",Je["@firebase/functions"]="fire-fn",Je["@firebase/installations"]="fire-iid",Je["@firebase/messaging"]="fire-fcm",Je["@firebase/performance"]="fire-perf",Je["@firebase/remote-config"]="fire-rc",Je["@firebase/storage"]="fire-gcs",Je["@firebase/firestore"]="fire-fst",Je["fire-js"]="fire-js",Je["firebase-wrapper"]="fire-js-all",Je),Zt=new nt.Yd("@firebase/app"),ai=function(){function q(J,ge,pe){var we=this;this.firebase_=pe,this.isDeleted_=!1,this.name_=ge.name,this.automaticDataCollectionEnabled_=ge.automaticDataCollectionEnabled||!1,this.options_=(0,I.p$)(J),this.container=new We.H0(ge.name),this._addComponent(new We.wA("app",function(){return we},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Tt){return we._addComponent(Tt)})}return Object.defineProperty(q.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(J){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=J},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),q.prototype.delete=function(){var J=this;return new Promise(function(ge){J.checkDestroyed_(),ge()}).then(function(){return J.firebase_.INTERNAL.removeApp(J.name_),Promise.all(J.container.getProviders().map(function(ge){return ge.delete()}))}).then(function(){J.isDeleted_=!0})},q.prototype._getService=function(J,ge){var pe;void 0===ge&&(ge=bn),this.checkDestroyed_();var we=this.container.getProvider(J);return!we.isInitialized()&&"EXPLICIT"===(null===(pe=we.getComponent())||void 0===pe?void 0:pe.instantiationMode)&&we.initialize(),we.getImmediate({identifier:ge})},q.prototype._removeServiceInstance=function(J,ge){void 0===ge&&(ge=bn),this.container.getProvider(J).clearInstance(ge)},q.prototype._addComponent=function(J){try{this.container.addComponent(J)}catch(ge){Zt.debug("Component "+J.name+" failed to register with FirebaseApp "+this.name,ge)}},q.prototype._addOrOverwriteComponent=function(J){this.container.addOrOverwriteComponent(J)},q.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},q.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw sr.create("app-deleted",{appName:this.name_})},q}();ai.prototype.name&&ai.prototype.options||ai.prototype.delete||console.log("dc");var tr=function ui(){var q=function Hi(q){var J={},ge=new Map,pe={__esModule:!0,initializeApp:function tt(wt,$){void 0===$&&($={}),("object"!=typeof $||null===$)&&($={name:$});var te=$;void 0===te.name&&(te.name=bn);var he=te.name;if("string"!=typeof he||!he)throw sr.create("bad-app-name",{appName:String(he)});if((0,I.r3)(J,he))throw sr.create("duplicate-app",{appName:he});var Ne=new q(wt,te,pe);return J[he]=Ne,Ne},app:Tt,registerVersion:function wn(wt,$,G){var te,he=null!==(te=Yr[wt])&&void 0!==te?te:wt;G&&(he+="-"+G);var Ne=he.match(/\s|\//),De=$.match(/\s|\//);if(Ne||De){var Ht=['Unable to register library "'+he+'" with version "'+$+'":'];return Ne&&Ht.push('library name "'+he+'" contains illegal characters (whitespace or "/")'),Ne&&De&&Ht.push("and"),De&&Ht.push('version name "'+$+'" contains illegal characters (whitespace or "/")'),void Zt.warn(Ht.join(" "))}an(new We.wA(he+"-version",function(){return{library:he,version:$}},"VERSION"))},setLogLevel:nt.Ub,onLog:function It(wt,$){if(null!==wt&&"function"!=typeof wt)throw sr.create("invalid-log-argument");(0,nt.Am)(wt,$)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:an,removeApp:function we(wt){delete J[wt]},components:ge,useAsService:function Cr(wt,$){return"serverAuth"===$?null:$}}};function Tt(wt){if(!(0,I.r3)(J,wt=wt||bn))throw sr.create("no-app",{appName:wt});return J[wt]}function an(wt){var $=wt.name;if(ge.has($))return Zt.debug("There were multiple attempts to register component "+$+"."),"PUBLIC"===wt.type?pe[$]:null;if(ge.set($,wt),"PUBLIC"===wt.type){var G=function(De){if(void 0===De&&(De=Tt()),"function"!=typeof De[$])throw sr.create("invalid-app-argument",{appName:$});return De[$]()};void 0!==wt.serviceProps&&(0,I.ZB)(G,wt.serviceProps),pe[$]=G,q.prototype[$]=function(){for(var De=[],Ht=0;Ht<arguments.length;Ht++)De[Ht]=arguments[Ht];return this._getService.bind(this,$).apply(this,wt.multipleInstances?De:[])}}for(var te=0,he=Object.keys(J);te<he.length;te++)J[he[te]]._addComponent(wt);return"PUBLIC"===wt.type?pe[$]:null}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function Qe(){return Object.keys(J).map(function(wt){return J[wt]})}}),Tt.App=q,pe}(ai);return q.INTERNAL=(0,je.pi)((0,je.pi)({},q.INTERNAL),{createFirebaseNamespace:ui,extendNamespace:function J(ge){(0,I.ZB)(q,ge)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),q}(),$n=function(){function q(J){this.container=J}return q.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ge){if(function Ci(q){var J=q.getComponent();return"VERSION"===J?.type}(ge)){var pe=ge.getImmediate();return pe.library+"/"+pe.version}return null}).filter(function(ge){return ge}).join(" ")},q}();if((0,I.jU)()&&void 0!==self.firebase){Zt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ei=self.firebase.SDK_VERSION;Ei&&Ei.indexOf("LITE")>=0&&Zt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Gn=tr.initializeApp;tr.initializeApp=function(){for(var q=[],J=0;J<arguments.length;J++)q[J]=arguments[J];return(0,I.UG)()&&Zt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Gn.apply(void 0,q)};var ne=tr;!function lt(q,J){q.INTERNAL.registerComponent(new We.wA("platform-logger",function(ge){return new $n(ge)},"PRIVATE")),q.registerVersion(Ui,"0.6.30",J),q.registerVersion("fire-js","")}(ne);const ae=ne},75:(po,Dr,Bt)=>{Bt.d(Dr,{H0:()=>Ui,wA:()=>We});var je=Bt(582),I=Bt(157),We=function(){function ce(Ce,ve,Oe){this.name=Ce,this.instanceFactory=ve,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ce.prototype.setInstantiationMode=function(Ce){return this.instantiationMode=Ce,this},ce.prototype.setMultipleInstances=function(Ce){return this.multipleInstances=Ce,this},ce.prototype.setServiceProps=function(Ce){return this.serviceProps=Ce,this},ce.prototype.setInstanceCreatedCallback=function(Ce){return this.onInstanceCreated=Ce,this},ce}(),nt="[DEFAULT]",xt=function(){function ce(Ce,ve){this.name=Ce,this.container=ve,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ce.prototype.get=function(Ce){var ve=this.normalizeInstanceIdentifier(Ce);if(!this.instancesDeferred.has(ve)){var Oe=new I.BH;if(this.instancesDeferred.set(ve,Oe),this.isInitialized(ve)||this.shouldAutoInitialize())try{var Me=this.getOrInitializeService({instanceIdentifier:ve});Me&&Oe.resolve(Me)}catch{}}return this.instancesDeferred.get(ve).promise},ce.prototype.getImmediate=function(Ce){var ve,Oe=this.normalizeInstanceIdentifier(Ce?.identifier),Me=null!==(ve=Ce?.optional)&&void 0!==ve&&ve;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(Ue){if(Me)return null;throw Ue}},ce.prototype.getComponent=function(){return this.component},ce.prototype.setComponent=function(Ce){var ve,Oe;if(Ce.name!==this.name)throw Error("Mismatching Component "+Ce.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=Ce,this.shouldAutoInitialize()){if(function sr(ce){return"EAGER"===ce.instantiationMode}(Ce))try{this.getOrInitializeService({instanceIdentifier:nt})}catch{}try{for(var Me=(0,je.XA)(this.instancesDeferred.entries()),Ue=Me.next();!Ue.done;Ue=Me.next()){var Mt=(0,je.CR)(Ue.value,2),Wt=Mt[1],Yt=this.normalizeInstanceIdentifier(Mt[0]);try{var Qn=this.getOrInitializeService({instanceIdentifier:Yt});Wt.resolve(Qn)}catch{}}}catch(jt){ve={error:jt}}finally{try{Ue&&!Ue.done&&(Oe=Me.return)&&Oe.call(Me)}finally{if(ve)throw ve.error}}}},ce.prototype.clearInstance=function(Ce){void 0===Ce&&(Ce=nt),this.instancesDeferred.delete(Ce),this.instancesOptions.delete(Ce),this.instances.delete(Ce)},ce.prototype.delete=function(){return(0,je.mG)(this,void 0,void 0,function(){var Ce;return(0,je.Jh)(this,function(ve){switch(ve.label){case 0:return Ce=Array.from(this.instances.values()),[4,Promise.all((0,je.ev)((0,je.ev)([],(0,je.CR)(Ce.filter(function(Oe){return"INTERNAL"in Oe}).map(function(Oe){return Oe.INTERNAL.delete()}))),(0,je.CR)(Ce.filter(function(Oe){return"_delete"in Oe}).map(function(Oe){return Oe._delete()}))))];case 1:return ve.sent(),[2]}})})},ce.prototype.isComponentSet=function(){return null!=this.component},ce.prototype.isInitialized=function(Ce){return void 0===Ce&&(Ce=nt),this.instances.has(Ce)},ce.prototype.getOptions=function(Ce){return void 0===Ce&&(Ce=nt),this.instancesOptions.get(Ce)||{}},ce.prototype.initialize=function(Ce){var ve,Oe;void 0===Ce&&(Ce={});var Me=Ce.options,Ue=void 0===Me?{}:Me,Mt=this.normalizeInstanceIdentifier(Ce.instanceIdentifier);if(this.isInitialized(Mt))throw Error(this.name+"("+Mt+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Ft=this.getOrInitializeService({instanceIdentifier:Mt,options:Ue});try{for(var Wt=(0,je.XA)(this.instancesDeferred.entries()),Yt=Wt.next();!Yt.done;Yt=Wt.next()){var Qn=(0,je.CR)(Yt.value,2),jn=Qn[1];Mt===this.normalizeInstanceIdentifier(Qn[0])&&jn.resolve(Ft)}}catch(bn){ve={error:bn}}finally{try{Yt&&!Yt.done&&(Oe=Wt.return)&&Oe.call(Wt)}finally{if(ve)throw ve.error}}return Ft},ce.prototype.onInit=function(Ce,ve){var Oe,Me=this.normalizeInstanceIdentifier(ve),Ue=null!==(Oe=this.onInitCallbacks.get(Me))&&void 0!==Oe?Oe:new Set;Ue.add(Ce),this.onInitCallbacks.set(Me,Ue);var Mt=this.instances.get(Me);return Mt&&Ce(Mt,Me),function(){Ue.delete(Ce)}},ce.prototype.invokeOnInitCallbacks=function(Ce,ve){var Oe,Me,Ue=this.onInitCallbacks.get(ve);if(Ue)try{for(var Mt=(0,je.XA)(Ue),Ft=Mt.next();!Ft.done;Ft=Mt.next()){var Wt=Ft.value;try{Wt(Ce,ve)}catch{}}}catch(Yt){Oe={error:Yt}}finally{try{Ft&&!Ft.done&&(Me=Mt.return)&&Me.call(Mt)}finally{if(Oe)throw Oe.error}}},ce.prototype.getOrInitializeService=function(Ce){var ve=Ce.instanceIdentifier,Oe=Ce.options,Me=void 0===Oe?{}:Oe,Ue=this.instances.get(ve);if(!Ue&&this.component&&(Ue=this.component.instanceFactory(this.container,{instanceIdentifier:Di(ve),options:Me}),this.instances.set(ve,Ue),this.instancesOptions.set(ve,Me),this.invokeOnInitCallbacks(Ue,ve),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ve,Ue)}catch{}return Ue||null},ce.prototype.normalizeInstanceIdentifier=function(Ce){return void 0===Ce&&(Ce=nt),this.component?this.component.multipleInstances?Ce:nt:Ce},ce.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ce}();function Di(ce){return ce===nt?void 0:ce}var Ui=function(){function ce(Ce){this.name=Ce,this.providers=new Map}return ce.prototype.addComponent=function(Ce){var ve=this.getProvider(Ce.name);if(ve.isComponentSet())throw new Error("Component "+Ce.name+" has already been registered with "+this.name);ve.setComponent(Ce)},ce.prototype.addOrOverwriteComponent=function(Ce){this.getProvider(Ce.name).isComponentSet()&&this.providers.delete(Ce.name),this.addComponent(Ce)},ce.prototype.getProvider=function(Ce){if(this.providers.has(Ce))return this.providers.get(Ce);var ve=new xt(Ce,this);return this.providers.set(Ce,ve),ve},ce.prototype.getProviders=function(){return Array.from(this.providers.values())},ce}()},83:(po,Dr,Bt)=>{function je(){for(var Oe=0,Me=0,Ue=arguments.length;Me<Ue;Me++)Oe+=arguments[Me].length;var Mt=Array(Oe),Ft=0;for(Me=0;Me<Ue;Me++)for(var Wt=arguments[Me],Yt=0,Qn=Wt.length;Yt<Qn;Yt++,Ft++)Mt[Ft]=Wt[Yt];return Mt}Bt.d(Dr,{Am:()=>ve,Ub:()=>Ce,Yd:()=>ce,in:()=>nt});var I,We=[],nt=function(Oe){return Oe[Oe.DEBUG=0]="DEBUG",Oe[Oe.VERBOSE=1]="VERBOSE",Oe[Oe.INFO=2]="INFO",Oe[Oe.WARN=3]="WARN",Oe[Oe.ERROR=4]="ERROR",Oe[Oe.SILENT=5]="SILENT",Oe}(nt||{}),xt={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},Di=nt.INFO,sr=((I={})[nt.DEBUG]="log",I[nt.VERBOSE]="log",I[nt.INFO]="info",I[nt.WARN]="warn",I[nt.ERROR]="error",I),Ui=function(Oe,Me){for(var Ue=[],Mt=2;Mt<arguments.length;Mt++)Ue[Mt-2]=arguments[Mt];if(!(Me<Oe.logLevel)){var Ft=(new Date).toISOString(),Wt=sr[Me];if(!Wt)throw new Error("Attempted to log a message with an invalid logType (value: "+Me+")");console[Wt].apply(console,je(["["+Ft+"]  "+Oe.name+":"],Ue))}},ce=function(){function Oe(Me){this.name=Me,this._logLevel=Di,this._logHandler=Ui,this._userLogHandler=null,We.push(this)}return Object.defineProperty(Oe.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Me){if(!(Me in nt))throw new TypeError('Invalid value "'+Me+'" assigned to `logLevel`');this._logLevel=Me},enumerable:!1,configurable:!0}),Oe.prototype.setLogLevel=function(Me){this._logLevel="string"==typeof Me?xt[Me]:Me},Object.defineProperty(Oe.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Me){if("function"!=typeof Me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Me},enumerable:!1,configurable:!0}),Object.defineProperty(Oe.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Me){this._userLogHandler=Me},enumerable:!1,configurable:!0}),Oe.prototype.debug=function(){for(var Me=[],Ue=0;Ue<arguments.length;Ue++)Me[Ue]=arguments[Ue];this._userLogHandler&&this._userLogHandler.apply(this,je([this,nt.DEBUG],Me)),this._logHandler.apply(this,je([this,nt.DEBUG],Me))},Oe.prototype.log=function(){for(var Me=[],Ue=0;Ue<arguments.length;Ue++)Me[Ue]=arguments[Ue];this._userLogHandler&&this._userLogHandler.apply(this,je([this,nt.VERBOSE],Me)),this._logHandler.apply(this,je([this,nt.VERBOSE],Me))},Oe.prototype.info=function(){for(var Me=[],Ue=0;Ue<arguments.length;Ue++)Me[Ue]=arguments[Ue];this._userLogHandler&&this._userLogHandler.apply(this,je([this,nt.INFO],Me)),this._logHandler.apply(this,je([this,nt.INFO],Me))},Oe.prototype.warn=function(){for(var Me=[],Ue=0;Ue<arguments.length;Ue++)Me[Ue]=arguments[Ue];this._userLogHandler&&this._userLogHandler.apply(this,je([this,nt.WARN],Me)),this._logHandler.apply(this,je([this,nt.WARN],Me))},Oe.prototype.error=function(){for(var Me=[],Ue=0;Ue<arguments.length;Ue++)Me[Ue]=arguments[Ue];this._userLogHandler&&this._userLogHandler.apply(this,je([this,nt.ERROR],Me)),this._logHandler.apply(this,je([this,nt.ERROR],Me))},Oe}();function Ce(Oe){We.forEach(function(Me){Me.setLogLevel(Oe)})}function ve(Oe,Me){for(var Ue=function(Yt){var Qn=null;Me&&Me.level&&(Qn=xt[Me.level]),Yt.userLogHandler=null===Oe?null:function(jt,jn){for(var Je=[],bn=2;bn<arguments.length;bn++)Je[bn-2]=arguments[bn];var Yr=Je.map(function(Zt){if(null==Zt)return null;if("string"==typeof Zt)return Zt;if("number"==typeof Zt||"boolean"==typeof Zt)return Zt.toString();if(Zt instanceof Error)return Zt.message;try{return JSON.stringify(Zt)}catch{return null}}).filter(function(Zt){return Zt}).join(" ");jn>=(Qn??jt.logLevel)&&Oe({level:nt[jn].toLowerCase(),message:Yr,args:Je,type:jt.name})}},Mt=0,Ft=We;Mt<Ft.length;Mt++)Ue(Ft[Mt])}},157:(po,Dr,Bt)=>{Bt.d(Dr,{BH:()=>Ue,G6:()=>ai,LL:()=>lt,Mn:()=>Yr,Sg:()=>Mt,UG:()=>Yt,ZB:()=>Oe,ZR:()=>Ci,b$:()=>jn,d:()=>Je,jU:()=>Qn,m9:()=>jo,ne:()=>te,p$:()=>ve,r3:()=>Tt,ru:()=>jt,uI:()=>Wt,w1:()=>bn,z$:()=>Ft});var je=Bt(582),xt=function(H){for(var U=[],Q=0,ue=0;ue<H.length;ue++){var Z=H.charCodeAt(ue);Z<128?U[Q++]=Z:Z<2048?(U[Q++]=Z>>6|192,U[Q++]=63&Z|128):55296==(64512&Z)&&ue+1<H.length&&56320==(64512&H.charCodeAt(ue+1))?(Z=65536+((1023&Z)<<10)+(1023&H.charCodeAt(++ue)),U[Q++]=Z>>18|240,U[Q++]=Z>>12&63|128,U[Q++]=Z>>6&63|128,U[Q++]=63&Z|128):(U[Q++]=Z>>12|224,U[Q++]=Z>>6&63|128,U[Q++]=63&Z|128)}return U},sr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(H,U){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Q=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[],Z=0;Z<H.length;Z+=3){var ke=H[Z],mt=Z+1<H.length,Qt=mt?H[Z+1]:0,mn=Z+2<H.length,un=mn?H[Z+2]:0,_t=(15&Qt)<<2|un>>6,go=63&un;mn||(go=64,mt||(_t=64)),ue.push(Q[ke>>2],Q[(3&ke)<<4|Qt>>4],Q[_t],Q[go])}return ue.join("")},encodeString:function(H,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(H):this.encodeByteArray(xt(H),U)},decodeString:function(H,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(H):function(H){for(var U=[],Q=0,ue=0;Q<H.length;){var Z=H[Q++];if(Z<128)U[ue++]=String.fromCharCode(Z);else if(Z>191&&Z<224){var ke=H[Q++];U[ue++]=String.fromCharCode((31&Z)<<6|63&ke)}else if(Z>239&&Z<365){var mn=((7&Z)<<18|(63&(ke=H[Q++]))<<12|(63&(mt=H[Q++]))<<6|63&H[Q++])-65536;U[ue++]=String.fromCharCode(55296+(mn>>10)),U[ue++]=String.fromCharCode(56320+(1023&mn))}else{ke=H[Q++];var mt=H[Q++];U[ue++]=String.fromCharCode((15&Z)<<12|(63&ke)<<6|63&mt)}}return U.join("")}(this.decodeStringToByteArray(H,U))},decodeStringToByteArray:function(H,U){this.init_();for(var Q=U?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[],Z=0;Z<H.length;){var ke=Q[H.charAt(Z++)],Qt=Z<H.length?Q[H.charAt(Z)]:0,un=++Z<H.length?Q[H.charAt(Z)]:64,hn=++Z<H.length?Q[H.charAt(Z)]:64;if(++Z,null==ke||null==Qt||null==un||null==hn)throw Error();ue.push(ke<<2|Qt>>4),64!==un&&(ue.push(Qt<<4&240|un>>2),64!==hn&&ue.push(un<<6&192|hn))}return ue},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ce=function(H){return function(H){var U=xt(H);return sr.encodeByteArray(U,!0)}(H).replace(/\./g,"")};function ve(H){return Oe(void 0,H)}function Oe(H,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return U}for(var ue in U)!U.hasOwnProperty(ue)||!Me(ue)||(H[ue]=Oe(H[ue],U[ue]));return H}function Me(H){return"__proto__"!==H}var Ue=function(){function H(){var U=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Q,ue){U.resolve=Q,U.reject=ue})}return H.prototype.wrapCallback=function(U){var Q=this;return function(ue,Z){ue?Q.reject(ue):Q.resolve(Z),"function"==typeof U&&(Q.promise.catch(function(){}),1===U.length?U(ue):U(ue,Z))}},H}();function Mt(H,U){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ue=U||"demo-project",Z=H.iat||0,ke=H.sub||H.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var mt=(0,je.pi)({iss:"https://securetoken.google.com/"+ue,aud:ue,iat:Z,exp:Z+3600,auth_time:Z,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(mt)),""].join(".")}function Ft(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Wt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function Yt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qn(){return"object"==typeof self&&self.self===self}function jt(){var H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function jn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Je(){return Ft().indexOf("Electron/")>=0}function bn(){var H=Ft();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Yr(){return Ft().indexOf("MSAppHost/")>=0}function ai(){return!Yt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Ci=function(H){function U(Q,ue,Z){var ke=H.call(this,ue)||this;return ke.code=Q,ke.customData=Z,ke.name="FirebaseError",Object.setPrototypeOf(ke,U.prototype),Error.captureStackTrace&&Error.captureStackTrace(ke,lt.prototype.create),ke}return(0,je.ZT)(U,H),U}(Error),lt=function(){function H(U,Q,ue){this.service=U,this.serviceName=Q,this.errors=ue}return H.prototype.create=function(U){for(var Q=[],ue=1;ue<arguments.length;ue++)Q[ue-1]=arguments[ue];var Z=Q[0]||{},ke=this.service+"/"+U,mt=this.errors[U],Qt=mt?function Ei(H,U){return H.replace(Gn,function(Q,ue){var Z=U[ue];return null!=Z?String(Z):"<"+ue+"?>"})}(mt,Z):"Error";return new Ci(ke,this.serviceName+": "+Qt+" ("+ke+").",Z)},H}(),Gn=/\{\$([^}]+)}/g;function Tt(H,U){return Object.prototype.hasOwnProperty.call(H,U)}function te(H,U){var Q=new he(H,U);return Q.subscribe.bind(Q)}!function(){function H(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}H.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},H.prototype.compress_=function(U,Q){Q||(Q=0);var ue=this.W_;if("string"==typeof U)for(var Z=0;Z<16;Z++)ue[Z]=U.charCodeAt(Q)<<24|U.charCodeAt(Q+1)<<16|U.charCodeAt(Q+2)<<8|U.charCodeAt(Q+3),Q+=4;else for(Z=0;Z<16;Z++)ue[Z]=U[Q]<<24|U[Q+1]<<16|U[Q+2]<<8|U[Q+3],Q+=4;for(Z=16;Z<80;Z++)ue[Z]=4294967295&((ke=ue[Z-3]^ue[Z-8]^ue[Z-14]^ue[Z-16])<<1|ke>>>31);var hn,_t,mt=this.chain_[0],Qt=this.chain_[1],mn=this.chain_[2],un=this.chain_[3],Or=this.chain_[4];for(Z=0;Z<80;Z++){Z<40?Z<20?(hn=un^Qt&(mn^un),_t=1518500249):(hn=Qt^mn^un,_t=1859775393):Z<60?(hn=Qt&mn|un&(Qt|mn),_t=2400959708):(hn=Qt^mn^un,_t=3395469782);var ke=(mt<<5|mt>>>27)+hn+Or+_t+ue[Z]&4294967295;Or=un,un=mn,mn=4294967295&(Qt<<30|Qt>>>2),Qt=mt,mt=ke}this.chain_[0]=this.chain_[0]+mt&4294967295,this.chain_[1]=this.chain_[1]+Qt&4294967295,this.chain_[2]=this.chain_[2]+mn&4294967295,this.chain_[3]=this.chain_[3]+un&4294967295,this.chain_[4]=this.chain_[4]+Or&4294967295},H.prototype.update=function(U,Q){if(null!=U){void 0===Q&&(Q=U.length);for(var ue=Q-this.blockSize,Z=0,ke=this.buf_,mt=this.inbuf_;Z<Q;){if(0===mt)for(;Z<=ue;)this.compress_(U,Z),Z+=this.blockSize;if("string"==typeof U){for(;Z<Q;)if(ke[mt]=U.charCodeAt(Z),++Z,++mt===this.blockSize){this.compress_(ke),mt=0;break}}else for(;Z<Q;)if(ke[mt]=U[Z],++Z,++mt===this.blockSize){this.compress_(ke),mt=0;break}}this.inbuf_=mt,this.total_+=Q}},H.prototype.digest=function(){var U=[],Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ue=this.blockSize-1;ue>=56;ue--)this.buf_[ue]=255&Q,Q/=256;this.compress_(this.buf_);var Z=0;for(ue=0;ue<5;ue++)for(var ke=24;ke>=0;ke-=8)U[Z]=this.chain_[ue]>>ke&255,++Z;return U}}();var he=function(){function H(U,Q){var ue=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(function(){U(ue)}).catch(function(Z){ue.error(Z)})}return H.prototype.next=function(U){this.forEachObserver(function(Q){Q.next(U)})},H.prototype.error=function(U){this.forEachObserver(function(Q){Q.error(U)}),this.close(U)},H.prototype.complete=function(){this.forEachObserver(function(U){U.complete()}),this.close()},H.prototype.subscribe=function(U,Q,ue){var ke,Z=this;if(void 0===U&&void 0===Q&&void 0===ue)throw new Error("Missing Observer.");ke=function De(H,U){if("object"!=typeof H||null===H)return!1;for(var Q=0,ue=U;Q<ue.length;Q++){var Z=ue[Q];if(Z in H&&"function"==typeof H[Z])return!0}return!1}(U,["next","error","complete"])?U:{next:U,error:Q,complete:ue},void 0===ke.next&&(ke.next=Ht),void 0===ke.error&&(ke.error=Ht),void 0===ke.complete&&(ke.complete=Ht);var mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Z.finalError?ke.error(Z.finalError):ke.complete()}catch{}}),this.observers.push(ke),mt},H.prototype.unsubscribeOne=function(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},H.prototype.forEachObserver=function(U){if(!this.finalized)for(var Q=0;Q<this.observers.length;Q++)this.sendOne(Q,U)},H.prototype.sendOne=function(U,Q){var ue=this;this.task.then(function(){if(void 0!==ue.observers&&void 0!==ue.observers[U])try{Q(ue.observers[U])}catch(Z){typeof console<"u"&&console.error&&console.error(Z)}})},H.prototype.close=function(U){var Q=this;this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(function(){Q.observers=void 0,Q.onNoObservers=void 0}))},H}();function Ht(){}function jo(H){return H&&H._delegate?H._delegate:H}},245:(po,Dr,Bt)=>{function je(e){return"function"==typeof e}function I(e){const t=e(o=>{Error.call(o),o.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const We=I(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((o,s)=>`${s+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function nt(e,i){if(e){const t=e.indexOf(i);0<=t&&e.splice(t,1)}}class xt{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const l of t)l.remove(this);else t.remove(this);const{initialTeardown:o}=this;if(je(o))try{o()}catch(l){i=l instanceof We?l.errors:[l]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const l of s)try{Ui(l)}catch(f){i=i??[],f instanceof We?i=[...i,...f.errors]:i.push(f)}}if(i)throw new We(i)}}add(i){var t;if(i&&i!==this)if(this.closed)Ui(i);else{if(i instanceof xt){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(i)}}_hasParent(i){const{_parentage:t}=this;return t===i||Array.isArray(t)&&t.includes(i)}_addParent(i){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(i),t):t?[t,i]:i}_removeParent(i){const{_parentage:t}=this;t===i?this._parentage=null:Array.isArray(t)&&nt(t,i)}remove(i){const{_finalizers:t}=this;t&&nt(t,i),i instanceof xt&&i._removeParent(this)}}xt.EMPTY=(()=>{const e=new xt;return e.closed=!0,e})();const Di=xt.EMPTY;function sr(e){return e instanceof xt||e&&"closed"in e&&je(e.remove)&&je(e.add)&&je(e.unsubscribe)}function Ui(e){je(e)?e():e.unsubscribe()}const ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ce={setTimeout(e,i,...t){const{delegate:o}=Ce;return o?.setTimeout?o.setTimeout(e,i,...t):setTimeout(e,i,...t)},clearTimeout(e){const{delegate:i}=Ce;return(i?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ve(e){Ce.setTimeout(()=>{const{onUnhandledError:i}=ce;if(!i)throw e;i(e)})}function Oe(){}const Me=Ft("C",void 0,void 0);function Ft(e,i,t){return{kind:e,value:i,error:t}}let Wt=null;function Yt(e){if(ce.useDeprecatedSynchronousErrorHandling){const i=!Wt;if(i&&(Wt={errorThrown:!1,error:null}),e(),i){const{errorThrown:t,error:o}=Wt;if(Wt=null,t)throw o}}else e()}class jt extends xt{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,sr(i)&&i.add(this)):this.destination=Hi}static create(i,t,o){return new Yr(i,t,o)}next(i){this.isStopped?ro(function Mt(e){return Ft("N",e,void 0)}(i),this):this._next(i)}error(i){this.isStopped?ro(function Ue(e){return Ft("E",void 0,e)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?ro(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const jn=Function.prototype.bind;function Je(e,i){return jn.call(e,i)}class bn{constructor(i){this.partialObserver=i}next(i){const{partialObserver:t}=this;if(t.next)try{t.next(i)}catch(o){Zt(o)}}error(i){const{partialObserver:t}=this;if(t.error)try{t.error(i)}catch(o){Zt(o)}else Zt(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(t){Zt(t)}}}class Yr extends jt{constructor(i,t,o){let s;if(super(),je(i)||!i)s={next:i??void 0,error:t??void 0,complete:o??void 0};else{let l;this&&ce.useDeprecatedNextContext?(l=Object.create(i),l.unsubscribe=()=>this.unsubscribe(),s={next:i.next&&Je(i.next,l),error:i.error&&Je(i.error,l),complete:i.complete&&Je(i.complete,l)}):s=i}this.destination=new bn(s)}}function Zt(e){ce.useDeprecatedSynchronousErrorHandling?function Qn(e){ce.useDeprecatedSynchronousErrorHandling&&Wt&&(Wt.errorThrown=!0,Wt.error=e)}(e):ve(e)}function ro(e,i){const{onStoppedNotification:t}=ce;t&&Ce.setTimeout(()=>t(e,i))}const Hi={closed:!0,next:Oe,error:function ai(e){throw e},complete:Oe},ui="function"==typeof Symbol&&Symbol.observable||"@@observable";function tr(e){return e}function Ci(e){return 0===e.length?tr:1===e.length?e[0]:function(t){return e.reduce((o,s)=>s(o),t)}}let lt=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const o=new e;return o.source=this,o.operator=t,o}subscribe(t,o,s){const l=function ne(e){return e&&e instanceof jt||function Gn(e){return e&&je(e.next)&&je(e.error)&&je(e.complete)}(e)&&sr(e)}(t)?t:new Yr(t,o,s);return Yt(()=>{const{operator:f,source:p}=this;l.add(f?f.call(l,p):p?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(t){try{return this._subscribe(t)}catch(o){t.error(o)}}forEach(t,o){return new(o=Ei(o))((s,l)=>{const f=new Yr({next:p=>{try{t(p)}catch(m){l(m),f.unsubscribe()}},error:l,complete:s});this.subscribe(f)})}_subscribe(t){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(t)}[ui](){return this}pipe(...t){return Ci(t)(this)}toPromise(t){return new(t=Ei(t))((o,s)=>{let l;this.subscribe(f=>l=f,f=>s(f),()=>o(l))})}}return e.create=i=>new e(i),e})();function Ei(e){var i;return null!==(i=e??ce.Promise)&&void 0!==i?i:Promise}const ae=I(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let q=(()=>{class e extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const o=new J(this,this);return o.operator=t,o}_throwIfClosed(){if(this.closed)throw new ae}next(t){Yt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(t)}})}error(t){Yt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:o}=this;for(;o.length;)o.shift().error(t)}})}complete(){Yt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:o,isStopped:s,observers:l}=this;return o||s?Di:(this.currentObservers=null,l.push(t),new xt(()=>{this.currentObservers=null,nt(l,t)}))}_checkFinalizedStatuses(t){const{hasError:o,thrownError:s,isStopped:l}=this;o?t.error(s):l&&t.complete()}asObservable(){const t=new lt;return t.source=this,t}}return e.create=(i,t)=>new J(i,t),e})();class J extends q{constructor(i,t){super(),this.destination=i,this.source=t}next(i){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===o||o.call(t,i)}error(i){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===o||o.call(t,i)}complete(){var i,t;null===(t=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===t||t.call(i)}_subscribe(i){var t,o;return null!==(o=null===(t=this.source)||void 0===t?void 0:t.subscribe(i))&&void 0!==o?o:Di}}function ge(e){return je(e?.lift)}function pe(e){return i=>{if(ge(i))return i.lift(function(t){try{return e(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(e,i,t,o,s){return new Tt(e,i,t,o,s)}class Tt extends jt{constructor(i,t,o,s,l,f){super(i),this.onFinalize=l,this.shouldUnsubscribe=f,this._next=t?function(p){try{t(p)}catch(m){i.error(m)}}:super._next,this._error=s?function(p){try{s(p)}catch(m){i.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(p){i.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function tt(e,i){return pe((t,o)=>{let s=0;t.subscribe(we(o,l=>{o.next(e.call(i,l,s++))}))})}var Qe=Bt(582);const an=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function wn(e){return je(e?.then)}function It(e){return je(e[ui])}function Cr(e){return Symbol.asyncIterator&&je(e?.[Symbol.asyncIterator])}function wt(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const G=function $(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function te(e){return je(e?.[G])}function he(e){return(0,Qe.FC)(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:o,done:s}=yield(0,Qe.qq)(t.read());if(s)return yield(0,Qe.qq)(void 0);yield yield(0,Qe.qq)(o)}}finally{t.releaseLock()}})}function Ne(e){return je(e?.getReader)}function De(e){if(e instanceof lt)return e;if(null!=e){if(It(e))return function Ht(e){return new lt(i=>{const t=e[ui]();if(je(t.subscribe))return t.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(an(e))return function Kt(e){return new lt(i=>{for(let t=0;t<e.length&&!i.closed;t++)i.next(e[t]);i.complete()})}(e);if(wn(e))return function Rt(e){return new lt(i=>{e.then(t=>{i.closed||(i.next(t),i.complete())},t=>i.error(t)).then(null,ve)})}(e);if(Cr(e))return Pn(e);if(te(e))return function ar(e){return new lt(i=>{for(const t of e)if(i.next(t),i.closed)return;i.complete()})}(e);if(Ne(e))return function ci(e){return Pn(he(e))}(e)}throw wt(e)}function Pn(e){return new lt(i=>{(function ks(e,i){var t,o,s,l;return(0,Qe.mG)(this,void 0,void 0,function*(){try{for(t=(0,Qe.KL)(e);!(o=yield t.next()).done;)if(i.next(o.value),i.closed)return}catch(f){s={error:f}}finally{try{o&&!o.done&&(l=t.return)&&(yield l.call(t))}finally{if(s)throw s.error}}i.complete()})})(e,i).catch(t=>i.error(t))})}function Er(e,i,t,o=0,s=!1){const l=i.schedule(function(){t(),s?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(l),!s)return l}function Mn(e,i,t=1/0){return je(i)?Mn((o,s)=>tt((l,f)=>i(o,l,s,f))(De(e(o,s))),t):("number"==typeof i&&(t=i),pe((o,s)=>function li(e,i,t,o,s,l,f,p){const m=[];let v=0,b=0,C=!1;const S=()=>{C&&!m.length&&!v&&i.complete()},M=j=>v<o?P(j):m.push(j),P=j=>{l&&i.next(j),v++;let K=!1;De(t(j,b++)).subscribe(we(i,ie=>{s?.(ie),l?M(ie):i.next(ie)},()=>{K=!0},void 0,()=>{if(K)try{for(v--;m.length&&v<o;){const ie=m.shift();f?Er(i,f,()=>P(ie)):P(ie)}S()}catch(ie){i.error(ie)}}))};return e.subscribe(we(i,M,()=>{C=!0,S()})),()=>{p?.()}}(o,s,e,t)))}function fn(e=1/0){return Mn(tr,e)}const zn=new lt(e=>e.complete());function To(e){return e&&je(e.schedule)}function jo(e){return e[e.length-1]}function H(e){return je(jo(e))?e.pop():void 0}function U(e){return To(jo(e))?e.pop():void 0}function ue(e,i=0){return pe((t,o)=>{t.subscribe(we(o,s=>Er(o,e,()=>o.next(s),i),()=>Er(o,e,()=>o.complete(),i),s=>Er(o,e,()=>o.error(s),i)))})}function Z(e,i=0){return pe((t,o)=>{o.add(e.schedule(()=>t.subscribe(o),i))})}function un(e,i){if(!e)throw new Error("Iterable cannot be null");return new lt(t=>{Er(t,i,()=>{const o=e[Symbol.asyncIterator]();Er(t,i,()=>{o.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function _t(e,i){return i?function hn(e,i){if(null!=e){if(It(e))return function ke(e,i){return De(e).pipe(Z(i),ue(i))}(e,i);if(an(e))return function Qt(e,i){return new lt(t=>{let o=0;return i.schedule(function(){o===e.length?t.complete():(t.next(e[o++]),t.closed||this.schedule())})})}(e,i);if(wn(e))return function mt(e,i){return De(e).pipe(Z(i),ue(i))}(e,i);if(Cr(e))return un(e,i);if(te(e))return function mn(e,i){return new lt(t=>{let o;return Er(t,i,()=>{o=e[G](),Er(t,i,()=>{let s,l;try{({value:s,done:l}=o.next())}catch(f){return void t.error(f)}l?t.complete():t.next(s)},0,!0)}),()=>je(o?.return)&&o.return()})}(e,i);if(Ne(e))return function Or(e,i){return un(he(e),i)}(e,i)}throw wt(e)}(e,i):De(e)}class xr extends q{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const t=super._subscribe(i);return!t.closed&&i.next(this._value),t}getValue(){const{hasError:i,thrownError:t,_value:o}=this;if(i)throw t;return this._throwIfClosed(),o}next(i){super.next(this._value=i)}}function ht(...e){return _t(e,U(e))}function ff(e={}){const{connector:i=(()=>new q),resetOnError:t=!0,resetOnComplete:o=!0,resetOnRefCountZero:s=!0}=e;return l=>{let f,p,m,v=0,b=!1,C=!1;const S=()=>{p?.unsubscribe(),p=void 0},M=()=>{S(),f=m=void 0,b=C=!1},P=()=>{const j=f;M(),j?.unsubscribe()};return pe((j,K)=>{v++,!C&&!b&&S();const ie=m=m??i();K.add(()=>{v--,0===v&&!C&&!b&&(p=io(P,s))}),ie.subscribe(K),!f&&v>0&&(f=new Yr({next:W=>ie.next(W),error:W=>{C=!0,S(),p=io(M,t,W),ie.error(W)},complete:()=>{b=!0,S(),p=io(M,o),ie.complete()}}),De(j).subscribe(f))})(l)}}function io(e,i,...t){if(!0===i)return void e();if(!1===i)return;const o=new Yr({next:()=>{o.unsubscribe(),e()}});return De(i(...t)).subscribe(o)}function ur(e,i){return pe((t,o)=>{let s=null,l=0,f=!1;const p=()=>f&&!s&&o.complete();t.subscribe(we(o,m=>{s?.unsubscribe();let v=0;const b=l++;De(e(m,b)).subscribe(s=we(o,C=>o.next(i?i(m,C,b,v++):C),()=>{s=null,p()}))},()=>{f=!0,p()}))})}function yl(e,i){return e===i}function cn(e){for(let i in e)if(e[i]===cn)return i;throw Error("Could not find renamed property on target object.")}function Uo(e,i){for(const t in i)i.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=i[t])}function Un(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Un).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const i=e.toString();if(null==i)return""+i;const t=i.indexOf("\n");return-1===t?i:i.substring(0,t)}function iu(e,i){return null==e||""===e?null===i?"":i:null==i||""===i?e:e+" "+i}const Tp=cn({__forward_ref__:cn});function Pt(e){return e.__forward_ref__=Pt,e.toString=function(){return Un(this())},e}function pt(e){return ou(e)?e():e}function ou(e){return"function"==typeof e&&e.hasOwnProperty(Tp)&&e.__forward_ref__===Pt}function ic(e){return e&&!!e.\u0275providers}const va="https://g.co/ng/security#xss";class se extends Error{constructor(i,t){super(function Fs(e,i){return`NG0${Math.abs(e)}${i?": "+i:""}`}(i,t)),this.code=i}}function Dt(e){return"string"==typeof e?e:null==e?"":String(e)}function us(e,i){throw new se(-201,!1)}function Ii(e,i){null==e&&function gt(e,i,t,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${t} ${o} ${i} <=Actual]`))}(i,e,null,"!=")}function Re(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Nt(e){return{providers:e.providers||[],imports:e.imports||[]}}function lu(e){return ac(e,du)||ac(e,ba)}function ac(e,i){return e.hasOwnProperty(i)?e[i]:null}function Ls(e){return e&&(e.hasOwnProperty(cc)||e.hasOwnProperty(_f))?e[cc]:null}const du=cn({\u0275prov:cn}),cc=cn({\u0275inj:cn}),ba=cn({ngInjectableDef:cn}),_f=cn({ngInjectorDef:cn});var At=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(At||{});let cs;function Sr(e){const i=cs;return cs=e,i}function ls(e,i,t){const o=lu(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:t&At.Optional?null:void 0!==i?i:void us(Un(e))}const Nn=globalThis;class w{constructor(i,t){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Re({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const cr={},Dn="__NG_DI_FLAG__",kn="ngTempTokenPath",ds=/\n/gm,$i="__source";let Ni;function Gi(e){const i=Ni;return Ni=e,i}function Vs(e,i=At.Default){if(void 0===Ni)throw new se(-203,!1);return null===Ni?ls(e,void 0,i):Ni.get(e,i&At.Optional?null:void 0,i)}function Ee(e,i=At.Default){return(function fu(){return cs}()||Vs)(pt(e),i)}function Ve(e,i=At.Default){return Ee(e,Dl(i))}function Dl(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Da(e){const i=[];for(let t=0;t<e.length;t++){const o=pt(e[t]);if(Array.isArray(o)){if(0===o.length)throw new se(900,!1);let s,l=At.Default;for(let f=0;f<o.length;f++){const p=o[f],m=kb(p);"number"==typeof m?-1===m?s=p.token:l|=m:s=p}i.push(Ee(s,l))}else i.push(Ee(o))}return i}function Cl(e,i){return e[Dn]=i,e.prototype[Dn]=i,e}function kb(e){return e[Dn]}function fs(e){return{toString:e}.toString()}var El=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(El||{}),oo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(oo||{});const Io={},ln=[],Sl=cn({\u0275cmp:cn}),Tl=cn({\u0275dir:cn}),Op=cn({\u0275pipe:cn}),x_=cn({\u0275mod:cn}),Bs=cn({\u0275fac:cn}),Ca=cn({__NG_ELEMENT_ID__:cn}),lc=cn({__NG_ENV_ID__:cn});function Il(e,i,t){let o=e.length;for(;;){const s=e.indexOf(i,t);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const l=i.length;if(s+l===o||e.charCodeAt(s+l)<=32)return s}t=s+1}}function Ml(e,i,t){let o=0;for(;o<t.length;){const s=t[o];if("number"==typeof s){if(0!==s)break;o++;const l=t[o++],f=t[o++],p=t[o++];e.setAttribute(i,f,p,l)}else{const l=s,f=t[++o];dc(l)?e.setProperty(i,l,f):e.setAttribute(i,l,f),o++}}return o}function xp(e){return 3===e||4===e||6===e}function dc(e){return 64===e.charCodeAt(0)}function js(e,i){if(null!==i&&0!==i.length)if(null===e||0===e.length)e=i.slice();else{let t=-1;for(let o=0;o<i.length;o++){const s=i[o];"number"==typeof s?t=s:0===t||R_(e,t,s,null,-1===t||2===t?i[++o]:null)}}return e}function R_(e,i,t,o,s){let l=0,f=e.length;if(-1===i)f=-1;else for(;l<e.length;){const p=e[l++];if("number"==typeof p){if(p===i){f=-1;break}if(p>i){f=l-1;break}}}for(;l<e.length;){const p=e[l];if("number"==typeof p)break;if(p===t){if(null===o)return void(null!==s&&(e[l+1]=s));if(o===e[l+1])return void(e[l+2]=s)}l++,null!==o&&l++,null!==s&&l++}-1!==f&&(e.splice(f,0,i),l=f+1),e.splice(l++,0,t),null!==o&&e.splice(l++,0,o),null!==s&&e.splice(l++,0,s)}const pr="ng-template";function P_(e,i,t){let o=0,s=!0;for(;o<e.length;){let l=e[o++];if("string"==typeof l&&s){const f=e[o++];if(t&&"class"===l&&-1!==Il(f.toLowerCase(),i,0))return!0}else{if(1===l){for(;o<e.length&&"string"==typeof(l=e[o++]);)if(l.toLowerCase()===i)return!0;return!1}"number"==typeof l&&(s=!1)}}return!1}function k_(e){return 4===e.type&&e.value!==pr}function Lb(e,i,t){return i===(4!==e.type||t?e.value:pr)}function Vb(e,i,t){let o=4;const s=e.attrs||[],l=function bf(e){for(let i=0;i<e.length;i++)if(xp(e[i]))return i;return e.length}(s);let f=!1;for(let p=0;p<i.length;p++){const m=i[p];if("number"!=typeof m){if(!f)if(4&o){if(o=2|1&o,""!==m&&!Lb(e,m,t)||""===m&&1===i.length){if(Go(o))return!1;f=!0}}else{const v=8&o?m:i[++p];if(8&o&&null!==e.attrs){if(!P_(e.attrs,v,t)){if(Go(o))return!1;f=!0}continue}const C=F_(8&o?"class":m,s,k_(e),t);if(-1===C){if(Go(o))return!1;f=!0;continue}if(""!==v){let S;S=C>l?"":s[C+1].toLowerCase();const M=8&o?S:null;if(M&&-1!==Il(M,v,0)||2&o&&v!==S){if(Go(o))return!1;f=!0}}}}else{if(!f&&!Go(o)&&!Go(m))return!1;if(f&&Go(m))continue;f=!1,o=m|1&o}}return Go(o)||f}function Go(e){return 0==(1&e)}function F_(e,i,t,o){if(null===i)return-1;let s=0;if(o||!t){let l=!1;for(;s<i.length;){const f=i[s];if(f===e)return s;if(3===f||6===f)l=!0;else{if(1===f||2===f){let p=i[++s];for(;"string"==typeof p;)p=i[++s];continue}if(4===f)break;if(0===f){s+=4;continue}}s+=l?1:2}return-1}return function V_(e,i){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const o=e[t];if("number"==typeof o)return-1;if(o===i)return t;t++}return-1}(i,e)}function Rp(e,i,t=!1){for(let o=0;o<i.length;o++)if(Vb(e,i[o],t))return!0;return!1}function Us(e,i){e:for(let t=0;t<i.length;t++){const o=i[t];if(e.length===o.length){for(let s=0;s<e.length;s++)if(e[s]!==o[s])continue e;return!0}}return!1}function Pp(e,i){return e?":not("+i.trim()+")":i}function Bb(e){let i=e[0],t=1,o=2,s="",l=!1;for(;t<e.length;){let f=e[t];if("string"==typeof f)if(2&o){const p=e[++t];s+="["+f+(p.length>0?'="'+p+'"':"")+"]"}else 8&o?s+="."+f:4&o&&(s+=" "+f);else""!==s&&!Go(f)&&(i+=Pp(l,s),s=""),o=f,l=l||!Go(o);t++}return""!==s&&(i+=Pp(l,s)),i}function $t(e){return fs(()=>{const i=Al(e),t={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===El.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||oo.Emulated,styles:e.styles||ln,_:null,schemas:e.schemas||null,tView:null,id:""};Lp(t);const o=e.dependencies;return t.directiveDefs=Ol(o,!1),t.pipeDefs=Ol(o,!0),t.id=function U_(e){let i=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const s of t)i=Math.imul(31,i)+s.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(t),t})}function wf(e){return Xt(e)||Jr(e)}function B_(e){return null!==e}function Gt(e){return fs(()=>({type:e.type,bootstrap:e.bootstrap||ln,declarations:e.declarations||ln,imports:e.imports||ln,exports:e.exports||ln,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function j_(e,i){if(null==e)return Io;const t={};for(const o in e)if(e.hasOwnProperty(o)){let s=e[o],l=s;Array.isArray(s)&&(l=s[1],s=s[0]),t[s]=o,i&&(i[s]=l)}return t}function Pe(e){return fs(()=>{const i=Al(e);return Lp(i),i})}function Rr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Xt(e){return e[Sl]||null}function Jr(e){return e[Tl]||null}function di(e){return e[Op]||null}function so(e,i){const t=e[x_]||null;if(!t&&!0===i)throw new Error(`Type ${Un(e)} does not have '\u0275mod' property.`);return t}function Al(e){const i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||Io,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ln,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:j_(e.inputs,i),outputs:j_(e.outputs)}}function Lp(e){e.features?.forEach(i=>i(e))}function Ol(e,i){if(!e)return null;const t=i?di:wf;return()=>("function"==typeof e?e():e).map(o=>t(o)).filter(B_)}const rr=0,ze=1,Ot=2,Fn=3,ir=4,fc=5,fi=6,zo=7,lr=8,Hs=9,$s=10,St=11,hc=12,Cf=13,pu=14,qn=15,pc=16,xl=17,Gs=18,hi=19,oe=20,_e=21,Pr=22,gu=23,xe=24,it=25,Rl=1,et=2,rt=7,gc=9,dt=11;function qi(e){return Array.isArray(e)&&"object"==typeof e[Rl]}function An(e){return Array.isArray(e)&&!0===e[Rl]}function Lt(e){return 0!=(4&e.flags)}function Sa(e){return e.componentOffset>-1}function hs(e){return 1==(1&e.flags)}function Mo(e){return!!e.template}function Sf(e){return 0!=(512&e[Ot])}function zs(e,i){return e.hasOwnProperty(Bs)?e[Bs]:null}let Xr=null,Ll=!1;function Zi(e){const i=Xr;return Xr=e,i}const wc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Bp(e){if(!Bl(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Vl(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Up(e){e.dirty=!0,function ei(e){if(void 0===e.liveConsumerNode)return;const i=Ll;Ll=!0;try{for(const t of e.liveConsumerNode)t.dirty||Up(t)}finally{Ll=i}}(e),e.consumerMarkedDirty?.(e)}function _u(e){return e&&(e.nextProducerIndex=0),Zi(e)}function Dc(e,i){if(Zi(i),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Bl(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)If(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Vl(e){vu(e);for(let i=0;i<e.producerNode.length;i++){const t=e.producerNode[i],o=e.producerLastReadVersion[i];if(o!==t.version||(Bp(t),o!==t.version))return!0}return!1}function uo(e){if(vu(e),Bl(e))for(let i=0;i<e.producerNode.length;i++)If(e.producerNode[i],e.producerIndexOfThis[i]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function If(e,i){if(function W_(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),vu(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)If(e.producerNode[o],e.producerIndexOfThis[o]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[i]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[i]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,i<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[i],s=e.liveConsumerNode[i];vu(s),s.producerIndexOfThis[o]=i}}function Bl(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function vu(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Z_=null;const Ec=()=>{},Y_=(()=>({...wc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Ec}))();class Gl{constructor(i,t,o){this.previousValue=i,this.currentValue=t,this.firstChange=o}isFirstChange(){return this.firstChange}}function Fr(){return X_}function X_(e){return e.type.prototype.ngOnChanges&&(e.setInput=tv),ev}function ev(){const e=zl(this),i=e?.current;if(i){const t=e.previous;if(t===Io)e.previous=i;else for(let o in i)t[o]=i[o];e.current=null,this.ngOnChanges(i)}}function tv(e,i,t,o){const s=this.declaredInputs[t],l=zl(e)||function zb(e,i){return e[Gp]=i}(e,{previous:Io,current:null}),f=l.current||(l.current={}),p=l.previous,m=p[s];f[s]=new Gl(m&&m.currentValue,i,p===Io),e[o]=i}Fr.ngInherit=!0;const Gp="__ngSimpleChanges__";function zl(e){return e[Gp]||null}const Ki=function(e,i,t){};function gn(e){for(;Array.isArray(e);)e=e[rr];return e}function qs(e,i){return gn(i[e])}function Qi(e,i){return gn(i[e.index])}function Sc(e,i){return e.data[i]}function Tc(e,i){return e[i]}function On(e,i){const t=i[e];return qi(t)?t:t[rr]}function gs(e,i){return null==i?null:e[i]}function iv(e){e[xl]=0}function ov(e){1024&e[Ot]||(e[Ot]|=1024,Ic(e,1))}function Wp(e){1024&e[Ot]&&(e[Ot]&=-1025,Ic(e,-1))}function Ic(e,i){let t=e[Fn];if(null===t)return;t[fc]+=i;let o=t;for(t=t[Fn];null!==t&&(1===i&&1===o[fc]||-1===i&&0===o[fc]);)t[fc]+=i,o=t,t=t[Fn]}const vt={lFrame:Ko(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function av(){return vt.bindingsEnabled}function yu(){return null!==vt.skipHydrationRootTNode}function me(){return vt.lFrame.lView}function rn(){return vt.lFrame.tView}function Ye(e){return vt.lFrame.contextLView=e,e[lr]}function yt(e){return vt.lFrame.contextLView=null,e}function Br(){let e=cv();for(;null!==e&&64===e.type;)e=e.parent;return e}function cv(){return vt.lFrame.currentTNode}function ms(e,i){const t=vt.lFrame;t.currentTNode=e,t.isParent=i}function _n(){return vt.lFrame.isParent}function Qp(){vt.lFrame.isParent=!1}function ti(){const e=vt.lFrame;let i=e.bindingRootIndex;return-1===i&&(i=e.bindingRootIndex=e.tView.bindingStartIndex),i}function bu(){return vt.lFrame.bindingIndex++}function Zs(e){const i=vt.lFrame,t=i.bindingIndex;return i.bindingIndex=i.bindingIndex+e,t}function Wb(e,i){const t=vt.lFrame;t.bindingIndex=t.bindingRootIndex=e,Xp(i)}function Xp(e){vt.lFrame.currentDirectiveIndex=e}function eg(){return vt.lFrame.currentQueryIndex}function tg(e){vt.lFrame.currentQueryIndex=e}function ni(e){const i=e[ze];return 2===i.type?i.declTNode:1===i.type?e[fi]:null}function Vf(e,i,t){if(t&At.SkipSelf){let s=i,l=e;for(;!(s=s.parent,null!==s||t&At.Host||(s=ni(l),null===s||(l=l[pu],10&s.type))););if(null===s)return!1;i=s,e=l}const o=vt.lFrame=Nc();return o.currentTNode=i,o.lView=e,!0}function Bf(e){const i=Nc(),t=e[ze];vt.lFrame=i,i.currentTNode=t.firstChild,i.lView=e,i.tView=t,i.contextLView=e,i.bindingIndex=t.bindingStartIndex,i.inI18n=!1}function Nc(){const e=vt.lFrame,i=null===e?null:e.child;return null===i?Ko(e):i}function Ko(e){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=i),i}function jf(){const e=vt.lFrame;return vt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ng=jf;function Du(){const e=jf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Oi(){return vt.lFrame.selectedIndex}function vs(e){vt.lFrame.selectedIndex=e}function Yn(){const e=vt.lFrame;return Sc(e.tView,e.selectedIndex)}let ig=!0;function Uf(){return ig}function Ma(e){ig=e}function Ks(e,i){for(let t=i.directiveStart,o=i.directiveEnd;t<o;t++){const l=e.data[t].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:p,ngAfterViewInit:m,ngAfterViewChecked:v,ngOnDestroy:b}=l;f&&(e.contentHooks??=[]).push(-t,f),p&&((e.contentHooks??=[]).push(t,p),(e.contentCheckHooks??=[]).push(t,p)),m&&(e.viewHooks??=[]).push(-t,m),v&&((e.viewHooks??=[]).push(t,v),(e.viewCheckHooks??=[]).push(t,v)),null!=b&&(e.destroyHooks??=[]).push(t,b)}}function Hf(e,i,t){sg(e,i,3,t)}function $f(e,i,t,o){(3&e[Ot])===t&&sg(e,i,t,o)}function og(e,i){let t=e[Ot];(3&t)===i&&(t&=8191,t+=1,e[Ot]=t)}function sg(e,i,t,o){const l=o??-1,f=i.length-1;let p=0;for(let m=void 0!==o?65535&e[xl]:0;m<f;m++)if("number"==typeof i[m+1]){if(p=i[m],null!=o&&p>=o)break}else i[m]<0&&(e[xl]+=65536),(p<l||-1==l)&&(Kb(e,t,i,m),e[xl]=(4294901760&e[xl])+m+2),m++}function No(e,i){Ki(4,e,i);const t=Zi(null);try{i.call(e)}finally{Zi(t),Ki(5,e,i)}}function Kb(e,i,t,o){const s=t[o]<0,l=t[o+1],p=e[s?-t[o]:t[o]];s?e[Ot]>>13<e[xl]>>16&&(3&e[Ot])===i&&(e[Ot]+=8192,No(p,l)):No(p,l)}const Cu=-1;class _o{constructor(i,t,o){this.factory=i,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=o}}function Oo(e){return e!==Cu}function ri(e){return 32767&e}function gi(e,i){let t=function pi(e){return e>>16}(e),o=i;for(;t>0;)o=o[pu],t--;return o}let Qs=!0;function xo(e){const i=Qs;return Qs=e,i}const Eu=255,vv=5;let yv=0;const Qo={};function Se(e,i){const t=Su(e,i);if(-1!==t)return t;const o=i[ze];o.firstCreatePass&&(e.injectorIndex=i.length,Gf(o.data,e),Gf(i,null),Gf(o.blueprint,null));const s=zf(e,i),l=e.injectorIndex;if(Oo(s)){const f=ri(s),p=gi(s,i),m=p[ze].data;for(let v=0;v<8;v++)i[l+v]=p[f+v]|m[f+v]}return i[l+8]=s,l}function Gf(e,i){e.push(0,0,0,0,0,0,0,0,i)}function Su(e,i){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===i[e.injectorIndex+8]?-1:e.injectorIndex}function zf(e,i){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,o=null,s=i;for(;null!==s;){if(o=xc(s),null===o)return Cu;if(t++,s=s[pu],-1!==o.injectorIndex)return o.injectorIndex|t<<16}return Cu}function Tu(e,i,t){!function Ri(e,i,t){let o;"string"==typeof t?o=t.charCodeAt(0)||0:t.hasOwnProperty(Ca)&&(o=t[Ca]),null==o&&(o=t[Ca]=yv++);const s=o&Eu;i.data[e+(s>>vv)]|=1<<s}(e,i,t)}function bv(e,i,t){if(t&At.Optional||void 0!==e)return e;us()}function Na(e,i,t,o){if(t&At.Optional&&void 0===o&&(o=null),!(t&(At.Self|At.Host))){const s=e[Hs],l=Sr(void 0);try{return s?s.get(i,o,t&At.Optional):ls(i,o,t&At.Optional)}finally{Sr(l)}}return bv(o,0,t)}function ag(e,i,t,o=At.Default,s){if(null!==e){if(2048&i[Ot]&&!(o&At.Self)){const f=function Oc(e,i,t,o,s){let l=e,f=i;for(;null!==l&&null!==f&&2048&f[Ot]&&!(512&f[Ot]);){const p=qf(l,f,t,o|At.Self,Qo);if(p!==Qo)return p;let m=l.parent;if(!m){const v=f[oe];if(v){const b=v.get(t,Qo,o);if(b!==Qo)return b}m=xc(f),f=f[pu]}l=m}return s}(e,i,t,o,Qo);if(f!==Qo)return f}const l=qf(e,i,t,o,Qo);if(l!==Qo)return l}return Na(i,t,o,s)}function qf(e,i,t,o,s){const l=function Jb(e){if("string"==typeof e)return e.charCodeAt(0)||0;const i=e.hasOwnProperty(Ca)?e[Ca]:void 0;return"number"==typeof i?i>=0?i&Eu:Cv:i}(t);if("function"==typeof l){if(!Vf(i,e,o))return o&At.Host?bv(s,0,o):Na(i,t,o,s);try{let f;if(f=l(o),null!=f||o&At.Optional)return f;us()}finally{ng()}}else if("number"==typeof l){let f=null,p=Su(e,i),m=Cu,v=o&At.Host?i[qn][fi]:null;for((-1===p||o&At.SkipSelf)&&(m=-1===p?zf(e,i):i[p+8],m!==Cu&&ug(o,!1)?(f=i[ze],p=ri(m),i=gi(m,i)):p=-1);-1!==p;){const b=i[ze];if(Zl(l,p,b.data)){const C=wv(p,i,t,f,o,v);if(C!==Qo)return C}m=i[p+8],m!==Cu&&ug(o,i[ze].data[p+8]===v)&&Zl(l,p,i)?(f=b,p=ri(m),i=gi(m,i)):p=-1}}return s}function wv(e,i,t,o,s,l){const f=i[ze],p=f.data[e+8],b=mi(p,f,t,null==o?Sa(p)&&Qs:o!=f&&0!=(3&p.type),s&At.Host&&l===p);return null!==b?Ys(i,f,b,p):Qo}function mi(e,i,t,o,s){const l=e.providerIndexes,f=i.data,p=1048575&l,m=e.directiveStart,b=l>>20,S=s?p+b:e.directiveEnd;for(let M=o?p:p+b;M<S;M++){const P=f[M];if(M<m&&t===P||M>=m&&P.type===t)return M}if(s){const M=f[m];if(M&&Mo(M)&&M.type===t)return m}return null}function Ys(e,i,t,o){let s=e[t];const l=i.data;if(function Qb(e){return e instanceof _o}(s)){const f=s;f.resolving&&function hf(e,i){const t=i?`. Dependency path: ${i.join(" > ")} > ${e}`:"";throw new se(-200,`Circular dependency in DI detected for ${e}${t}`)}(function Jt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Dt(e)}(l[t]));const p=xo(f.canSeeViewProviders);f.resolving=!0;const v=f.injectImpl?Sr(f.injectImpl):null;Vf(e,o,At.Default);try{s=e[t]=f.factory(void 0,l,e,o),i.firstCreatePass&&t>=o.directiveStart&&function Ac(e,i,t){const{ngOnChanges:o,ngOnInit:s,ngDoCheck:l}=i.type.prototype;if(o){const f=X_(i);(t.preOrderHooks??=[]).push(e,f),(t.preOrderCheckHooks??=[]).push(e,f)}s&&(t.preOrderHooks??=[]).push(0-e,s),l&&((t.preOrderHooks??=[]).push(e,l),(t.preOrderCheckHooks??=[]).push(e,l))}(t,l[t],i)}finally{null!==v&&Sr(v),xo(p),f.resolving=!1,ng()}}return s}function Zl(e,i,t){return!!(t[i+(e>>vv)]&1<<e)}function ug(e,i){return!(e&At.Self||e&At.Host&&i)}class _i{constructor(i,t){this._tNode=i,this._lView=t}get(i,t,o){return ag(this._tNode,this._lView,i,Dl(o),t)}}function Cv(){return new _i(Br(),me())}function Hn(e){return fs(()=>{const i=e.prototype.constructor,t=i[Bs]||Aa(i),o=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==o;){const l=s[Bs]||Aa(s);if(l&&l!==t)return l;s=Object.getPrototypeOf(s)}return l=>new l})}function Aa(e){return ou(e)?()=>{const i=Aa(pt(e));return i&&i()}:zs(e)}function xc(e){const i=e[ze],t=i.type;return 2===t?i.declTNode:1===t?e[fi]:null}const Rc="__parameters__";function Ra(e,i,t){return fs(()=>{const o=function lg(e){return function(...t){if(e){const o=e(...t);for(const s in o)this[s]=o[s]}}}(i);function s(...l){if(this instanceof s)return o.apply(this,l),this;const f=new s(...l);return p.annotation=f,p;function p(m,v,b){const C=m.hasOwnProperty(Rc)?m[Rc]:Object.defineProperty(m,Rc,{value:[]})[Rc];for(;C.length<=b;)C.push(null);return(C[b]=C[b]||[]).push(f),m}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function Ro(e,i){e.forEach(t=>Array.isArray(t)?Ro(t,i):i(t))}function fg(e,i,t){i>=e.length?e.push(t):e.splice(i,0,t)}function Wf(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}function Kl(e,i){const t=[];for(let o=0;o<e;o++)t.push(i);return t}function co(e,i,t){let o=kc(e,i);return o>=0?e[1|o]=t:(o=~o,function Zf(e,i,t,o){let s=e.length;if(s==i)e.push(t,o);else if(1===s)e.push(o,e[0]),e[0]=t;else{for(s--,e.push(e[s-1],e[s]);s>i;)e[s]=e[s-2],s--;e[i]=t,e[i+1]=o}}(e,o,i,t)),o}function hg(e,i){const t=kc(e,i);if(t>=0)return e[1|t]}function kc(e,i){return function Xs(e,i,t){let o=0,s=e.length>>t;for(;s!==o;){const l=o+(s-o>>1),f=e[l<<t];if(i===f)return l<<t;f>i?s=l:o=l+1}return~(s<<t)}(e,i,1)}const Jl=Cl(Ra("Optional"),8),Xl=Cl(Ra("SkipSelf"),4);function Pa(e){return 128==(128&e.flags)}var ea=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ea||{});const w1=/^>|^->|<!--|-->|--!>|<!-$/g,D1=/(<|>)/g,C1="\u200b$1\u200b";const Dg=new Map;let rd=0;const eh="__ngContext__";function ki(e,i){qi(i)?(e[eh]=i[hi],function Xf(e){Dg.set(e[hi],e)}(i)):e[eh]=i}let ad;function ka(e,i){return ad(e,i)}function ud(e){const i=e[Fn];return An(i)?i[Fn]:i}function Sg(e){return $v(e[hc])}function cd(e){return $v(e[ir])}function $v(e){for(;null!==e&&!An(e);)e=e[ir];return e}function qc(e,i,t,o,s){if(null!=o){let l,f=!1;An(o)?l=o:qi(o)&&(f=!0,o=o[rr]);const p=gn(o);0===e&&null!==t?null==s?qv(i,t,p):Ou(i,t,p,s||null,!0):1===e&&null!==t?Ou(i,t,p,s||null,!0):2===e?function ch(e,i,t){const o=oh(e,i);o&&function Wv(e,i,t,o){e.removeChild(i,t,o)}(e,o,i,t)}(i,p,f):3===e&&i.destroyNode(p),null!=l&&function Yv(e,i,t,o,s){const l=t[rt];l!==gn(t)&&qc(i,e,o,l,s);for(let p=dt;p<t.length;p++){const m=t[p];fd(m[ze],m,e,i,o,l)}}(i,e,l,t,s)}}function Tg(e,i){return e.createComment(function Fv(e){return e.replace(w1,i=>i.replace(D1,C1))}(i))}function nh(e,i,t){return e.createElement(i,t)}function Ng(e,i){const t=e[gc],o=t.indexOf(i);Wp(i),t.splice(o,1)}function ld(e,i){if(e.length<=dt)return;const t=dt+i,o=e[t];if(o){const s=o[pc];null!==s&&s!==e&&Ng(s,o),i>0&&(e[t-1][ir]=o[ir]);const l=Wf(e,dt+i);!function Ig(e,i){fd(e,i,i[St],2,null,null),i[rr]=null,i[fi]=null}(o[ze],o);const f=l[Gs];null!==f&&f.detachView(l[ze]),o[Fn]=null,o[ir]=null,o[Ot]&=-129}return o}function rh(e,i){if(!(256&i[Ot])){const t=i[St];i[gu]&&uo(i[gu]),i[xe]&&uo(i[xe]),t.destroyNode&&fd(e,i,t,3,null,null),function Gv(e){let i=e[hc];if(!i)return Ag(e[ze],e);for(;i;){let t=null;if(qi(i))t=i[hc];else{const o=i[dt];o&&(t=o)}if(!t){for(;i&&!i[ir]&&i!==e;)qi(i)&&Ag(i[ze],i),i=i[Fn];null===i&&(i=e),qi(i)&&Ag(i[ze],i),t=i&&i[ir]}i=t}}(i)}}function Ag(e,i){if(!(256&i[Ot])){i[Ot]&=-129,i[Ot]|=256,function A1(e,i){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let o=0;o<t.length;o+=2){const s=i[t[o]];if(!(s instanceof _o)){const l=t[o+1];if(Array.isArray(l))for(let f=0;f<l.length;f+=2){const p=s[l[f]],m=l[f+1];Ki(4,p,m);try{m.call(p)}finally{Ki(5,p,m)}}else{Ki(4,s,l);try{l.call(s)}finally{Ki(5,s,l)}}}}}(e,i),function N1(e,i){const t=e.cleanup,o=i[zo];if(null!==t)for(let l=0;l<t.length-1;l+=2)if("string"==typeof t[l]){const f=t[l+3];f>=0?o[f]():o[-f].unsubscribe(),l+=2}else t[l].call(o[t[l+1]]);null!==o&&(i[zo]=null);const s=i[_e];if(null!==s){i[_e]=null;for(let l=0;l<s.length;l++)(0,s[l])()}}(e,i),1===i[ze].type&&i[St].destroy();const t=i[pc];if(null!==t&&An(i[Fn])){t!==i[Fn]&&Ng(t,i);const o=i[Gs];null!==o&&o.detachView(e)}!function Cg(e){Dg.delete(e[hi])}(i)}}function Og(e,i,t){return function ih(e,i,t){let o=i;for(;null!==o&&40&o.type;)o=(i=o).parent;if(null===o)return t[rr];{const{componentOffset:s}=o;if(s>-1){const{encapsulation:l}=e.data[o.directiveStart+s];if(l===oo.None||l===oo.Emulated)return null}return Qi(o,t)}}(e,i.parent,t)}function Ou(e,i,t,o,s){e.insertBefore(i,t,o,s)}function qv(e,i,t){e.appendChild(i,t)}function xg(e,i,t,o,s){null!==o?Ou(e,i,t,o,s):qv(e,i,t)}function oh(e,i){return e.parentNode(i)}function Zv(e,i,t){return ah(e,i,t)}let La,Kc,lh,fh,ah=function sh(e,i,t){return 40&e.type?Qi(e,t):null};function Zc(e,i,t,o){const s=Og(e,o,i),l=i[St],p=Zv(o.parent||i[fi],o,i);if(null!=s)if(Array.isArray(t))for(let m=0;m<t.length;m++)xg(l,s,t[m],p,!1);else xg(l,s,t,p,!1);void 0!==La&&La(l,o,i,t,s)}function dd(e,i){if(null!==i){const t=i.type;if(3&t)return Qi(i,e);if(4&t)return Yo(-1,e[i.index]);if(8&t){const o=i.child;if(null!==o)return dd(e,o);{const s=e[i.index];return An(s)?Yo(-1,s):gn(s)}}if(32&t)return ka(i,e)()||gn(e[i.index]);{const o=uh(e,i);return null!==o?Array.isArray(o)?o[0]:dd(ud(e[qn]),o):dd(e,i.next)}}return null}function uh(e,i){return null!==i?e[qn][fi].projection[i.projection]:null}function Yo(e,i){const t=dt+e+1;if(t<i.length){const o=i[t],s=o[ze].firstChild;if(null!==s)return dd(o,s)}return i[rt]}function Pg(e,i,t,o,s,l,f){for(;null!=t;){const p=o[t.index],m=t.type;if(f&&0===i&&(p&&ki(gn(p),o),t.flags|=2),32!=(32&t.flags))if(8&m)Pg(e,i,t.child,o,s,l,!1),qc(i,e,s,p,l);else if(32&m){const v=ka(t,o);let b;for(;b=v();)qc(i,e,s,b,l);qc(i,e,s,p,l)}else 16&m?Qv(e,i,o,t,s,l):qc(i,e,s,p,l);t=f?t.projectionNext:t.next}}function fd(e,i,t,o,s,l){Pg(t,o,e.firstChild,i,s,l,!1)}function Qv(e,i,t,o,s,l){const f=t[qn],m=f[fi].projection[o.projection];if(Array.isArray(m))for(let v=0;v<m.length;v++)qc(i,e,s,m[v],l);else{let v=m;const b=f[Fn];Pa(o)&&(v.flags|=128),Pg(e,i,v,b,s,l,!0)}}function Xv(e,i,t){""===t?e.removeAttribute(i,"class"):e.setAttribute(i,"class",t)}function ey(e,i,t){const{mergedAttrs:o,classes:s,styles:l}=t;null!==o&&Ml(e,i,o),null!==s&&Xv(e,i,s),null!==l&&function R1(e,i,t){e.setAttribute(i,"style",t)}(e,i,l)}function Qc(e){return function hd(){if(void 0===Kc&&(Kc=null,Nn.trustedTypes))try{Kc=Nn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Kc}()?.createHTML(e)||e}function Vg(e){return function Fg(){if(void 0===fh&&(fh=null,Nn.trustedTypes))try{fh=Nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return fh}()?.createScriptURL(e)||e}class na{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${va})`}}class hh extends na{getTypeName(){return"HTML"}}class iy extends na{getTypeName(){return"Style"}}class Bg extends na{getTypeName(){return"Script"}}class oy extends na{getTypeName(){return"URL"}}class jg extends na{getTypeName(){return"ResourceURL"}}function ii(e){return e instanceof na?e.changingThisBreaksApplicationSecurity:e}function Jo(e,i){const t=function sy(e){return e instanceof na&&e.getTypeName()||null}(e);if(null!=t&&t!==i){if("ResourceURL"===t&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${t} (see ${va})`)}return t===i}class k1{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const t=(new window.DOMParser).parseFromString(Qc(i),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(i):(t.removeChild(t.firstChild),t)}catch{return null}}}class F1{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const t=this.inertDocument.createElement("template");return t.innerHTML=Qc(i),t}}const Ug=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jc(e){return(e=String(e)).match(Ug)?e:"unsafe:"+e}function Ds(e){const i={};for(const t of e.split(","))i[t]=!0;return i}function Xc(...e){const i={};for(const t of e)for(const o in t)t.hasOwnProperty(o)&&(i[o]=!0);return i}const Hg=Ds("area,br,col,hr,img,wbr"),pd=Ds("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dn=Ds("rp,rt"),Wn=Xc(Hg,Xc(pd,Ds("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xc(dn,Ds("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xc(dn,pd)),Fi=Ds("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gd=Xc(Fi,Ds("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ds("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dy=Ds("script,style,template");class fy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let t=i.firstChild,o=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?o=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,o&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=this.checkClobberedElement(t,t.nextSibling);if(s){t=s;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(i){const t=i.nodeName.toLowerCase();if(!Wn.hasOwnProperty(t))return this.sanitizedSomething=!0,!dy.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const o=i.attributes;for(let s=0;s<o.length;s++){const l=o.item(s),f=l.name,p=f.toLowerCase();if(!gd.hasOwnProperty(p)){this.sanitizedSomething=!0;continue}let m=l.value;Fi[p]&&(m=Jc(m)),this.buf.push(" ",f,'="',hy(m),'"')}return this.buf.push(">"),!0}endElement(i){const t=i.nodeName.toLowerCase();Wn.hasOwnProperty(t)&&!Hg.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(i){this.buf.push(hy(i))}checkClobberedElement(i,t){if(t&&(i.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return t}}const U1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,el=/([^\#-~ |!])/g;function hy(e){return e.replace(/&/g,"&amp;").replace(U1,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(el,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mh;function fr(e,i){let t=null;try{mh=mh||function ly(e){const i=new F1(e);return function L1(){try{return!!(new window.DOMParser).parseFromString(Qc(""),"text/html")}catch{return!1}}()?new k1(i):i}(e);let o=i?String(i):"";t=mh.getInertBodyElement(o);let s=5,l=o;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,o=l,l=t.innerHTML,t=mh.getInertBodyElement(o)}while(o!==l);return Qc((new fy).sanitizeChildren(Ir(t)||t))}finally{if(t){const o=Ir(t)||t;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Ir(e){return"content"in e&&function py(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var yo=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(yo||{});function $r(e){const i=Xo();return i?i.sanitize(yo.URL,e)||"":Jo(e,"URL")?ii(e):Jc(Dt(e))}function Va(e){const i=Xo();if(i)return Vg(i.sanitize(yo.RESOURCE_URL,e)||"");if(Jo(e,"ResourceURL"))return Vg(ii(e));throw new se(904,!1)}function Xo(){const e=me();return e&&e[$s].sanitizer}const Ba=new w("ENVIRONMENT_INITIALIZER"),vh=new w("INJECTOR",-1),Gg=new w("INJECTOR_DEF_TYPES");class zg{get(i,t=cr){if(t===cr){const o=new Error(`NullInjectorError: No provider for ${Un(i)}!`);throw o.name="NullInjectorError",o}return t}}function z1(...e){return{\u0275providers:vy(0,e),\u0275fromNgModule:!0}}function vy(e,...i){const t=[],o=new Set;let s;const l=f=>{t.push(f)};return Ro(i,f=>{const p=f;tl(p,l,[],o)&&(s||=[],s.push(p))}),void 0!==s&&yh(s,l),t}function yh(e,i){for(let t=0;t<e.length;t++){const{ngModule:o,providers:s}=e[t];ra(s,l=>{i(l,o)})}}function tl(e,i,t,o){if(!(e=pt(e)))return!1;let s=null,l=Ls(e);const f=!l&&Xt(e);if(l||f){if(f&&!f.standalone)return!1;s=e}else{const m=e.ngModule;if(l=Ls(m),!l)return!1;s=m}const p=o.has(s);if(f){if(p)return!1;if(o.add(s),f.dependencies){const m="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const v of m)tl(v,i,t,o)}}else{if(!l)return!1;{if(null!=l.imports&&!p){let v;o.add(s);try{Ro(l.imports,b=>{tl(b,i,t,o)&&(v||=[],v.push(b))})}finally{}void 0!==v&&yh(v,i)}if(!p){const v=zs(s)||(()=>new s);i({provide:s,useFactory:v,deps:ln},s),i({provide:Gg,useValue:s,multi:!0},s),i({provide:Ba,useValue:()=>Ee(s),multi:!0},s)}const m=l.providers;if(null!=m&&!p){const v=e;ra(m,b=>{i(b,v)})}}}return s!==e&&void 0!==e.providers}function ra(e,i){for(let t of e)ic(t)&&(t=t.\u0275providers),Array.isArray(t)?ra(t,i):i(t)}const yy=cn({provide:String,useValue:cn});function bh(e){return null!==e&&"object"==typeof e&&yy in e}function Ru(e){return"function"==typeof e}const nl=new w("Set Injector scope."),md={},_d={};let Wg;function Pu(){return void 0===Wg&&(Wg=new zg),Wg}class Mr{}class lo extends Mr{get destroyed(){return this._destroyed}constructor(i,t,o,s){super(),this.parent=t,this.source=o,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kg(i,f=>this.processProvider(f)),this.records.set(vh,Fu(void 0,this)),s.has("environment")&&this.records.set(Mr,Fu(void 0,this));const l=this.records.get(nl);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Gg.multi,ln,At.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of i)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const t=Gi(this),o=Sr(void 0);try{return i()}finally{Gi(t),Sr(o)}}get(i,t=cr,o=At.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(lc))return i[lc](this);o=Dl(o);const l=Gi(this),f=Sr(void 0);try{if(!(o&At.SkipSelf)){let m=this.records.get(i);if(void 0===m){const v=function Z1(e){return"function"==typeof e||"object"==typeof e&&e instanceof w}(i)&&lu(i);m=v&&this.injectableDefInScope(v)?Fu(ku(i),md):null,this.records.set(i,m)}if(null!=m)return this.hydrate(i,m)}return(o&At.Self?Pu():this.parent).get(i,t=o&At.Optional&&t===cr?null:t)}catch(p){if("NullInjectorError"===p.name){if((p[kn]=p[kn]||[]).unshift(Un(i)),l)throw p;return function O_(e,i,t,o){const s=e[kn];throw i[$i]&&s.unshift(i[$i]),e.message=function Fb(e,i,t,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=Un(i);if(Array.isArray(i))s=i.map(Un).join(" -> ");else if("object"==typeof i){let l=[];for(let f in i)if(i.hasOwnProperty(f)){let p=i[f];l.push(f+":"+("string"==typeof p?JSON.stringify(p):Un(p)))}s=`{${l.join(", ")}}`}return`${t}${o?"("+o+")":""}[${s}]: ${e.replace(ds,"\n  ")}`}("\n"+e.message,s,t,o),e.ngTokenPath=s,e[kn]=null,e}(p,i,"R3InjectorError",this.source)}throw p}finally{Sr(f),Gi(l)}}resolveInjectorInitializers(){const i=Gi(this),t=Sr(void 0);try{const s=this.get(Ba.multi,ln,At.Self);for(const l of s)l()}finally{Gi(i),Sr(t)}}toString(){const i=[],t=this.records;for(const o of t.keys())i.push(Un(o));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(i){let t=Ru(i=pt(i))?i:pt(i&&i.provide);const o=function W1(e){return bh(e)?Fu(void 0,e.useValue):Fu(Zg(e),md)}(i);if(Ru(i)||!0!==i.multi)this.records.get(t);else{let s=this.records.get(t);s||(s=Fu(void 0,md,!0),s.factory=()=>Da(s.multi),this.records.set(t,s)),t=i,s.multi.push(i)}this.records.set(t,o)}hydrate(i,t){return t.value===md&&(t.value=_d,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Ua(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(i){if(!i.providedIn)return!1;const t=pt(i.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(i){const t=this._onDestroyHooks.indexOf(i);-1!==t&&this._onDestroyHooks.splice(t,1)}}function ku(e){const i=lu(e),t=null!==i?i.factory:zs(e);if(null!==t)return t;if(e instanceof w)throw new se(204,!1);if(e instanceof Function)return function ja(e){const i=e.length;if(i>0)throw Kl(i,"?"),new se(204,!1);const t=function uc(e){return e&&(e[du]||e[ba])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new se(204,!1)}function Zg(e,i,t){let o;if(Ru(e)){const s=pt(e);return zs(s)||ku(s)}if(bh(e))o=()=>pt(e.useValue);else if(function Dh(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Da(e.deps||[]));else if(function wh(e){return!(!e||!e.useExisting)}(e))o=()=>Ee(pt(e.useExisting));else{const s=pt(e&&(e.useClass||e.provide));if(!function vd(e){return!!e.deps}(e))return zs(s)||ku(s);o=()=>new s(...Da(e.deps))}return o}function Fu(e,i,t=!1){return{factory:e,value:i,multi:t?[]:void 0}}function Kg(e,i){for(const t of e)Array.isArray(t)?Kg(t,i):t&&ic(t)?Kg(t.\u0275providers,i):i(t)}const yd=new w("AppId",{providedIn:"root",factory:()=>by}),by="ng",Qg=new w("Platform Initializer"),Lu=new w("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Yg=new w("AnimationModuleType"),Jg=new w("CSP nonce",{providedIn:"root",factory:()=>function Yc(){if(void 0!==lh)return lh;if(typeof document<"u")return document;throw new se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let tm=(e,i,t)=>null;function vi(e,i,t=!1){return tm(e,i,t)}class YE{}class Y1{}class u{resolveComponentFactory(i){throw function J1(e){const i=Error(`No component factory found for ${Un(e)}.`);return i.ngComponent=e,i}(i)}}let a=(()=>{class e{static#e=this.NULL=new u}return e})();function c(){return d(Br(),me())}function d(e,i){return new h(Qi(e,i))}let h=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=c}return e})();function g(e){return e instanceof h?e.nativeElement:e}class _{}let y=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function D(){const e=me(),t=On(Br().index,e);return(qi(t)?t:e)[St]}()}return e})(),T=(()=>{class e{static#e=this.\u0275prov=Re({token:e,providedIn:"root",factory:()=>null})}return e})();class N{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const R=new N("16.2.12"),L={};function kh(e,i=null,t=null,o){const s=il(e,i,t,o);return s.resolveInjectorInitializers(),s}function il(e,i=null,t=null,o,s=new Set){const l=[t||ln,z1(e)];return o=o||("object"==typeof e?void 0:Un(e)),new lo(l,i||Pu(),o||null,s)}let Gr=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=cr;static#t=this.NULL=new zg;static create(t,o){if(Array.isArray(t))return kh({name:""},o,t,"");{const s=t.name??"";return kh({name:s},t.parent,t.providers,s)}}static#n=this.\u0275prov=Re({token:e,providedIn:"any",factory:()=>Ee(vh)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function X1(e){return e.ngOriginalError}class $u{constructor(){this._console=console}handleError(i){const t=this._findOriginalError(i);this._console.error("ERROR",i),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(i){let t=i&&X1(i);for(;t&&X1(t);)t=X1(t);return t||null}}function ew(e){return i=>{setTimeout(e,void 0,i)}}const Ke=class ZP extends q{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,t,o){let s=i,l=t||(()=>null),f=o;if(i&&"object"==typeof i){const m=i;s=m.next?.bind(m),l=m.error?.bind(m),f=m.complete?.bind(m)}this.__isAsync&&(l=ew(l),s&&(s=ew(s)),f&&(f=ew(f)));const p=super.subscribe({next:s,error:l,complete:f});return i instanceof xt&&i.add(p),p}};function XE(...e){}class en{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&t,s.shouldCoalesceRunChangeDetection=o,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function KP(){const e="function"==typeof Nn.requestAnimationFrame;let i=Nn[e?"requestAnimationFrame":"setTimeout"],t=Nn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&t){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function JP(e){const i=()=>{!function YP(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Nn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,nw(e),e.isCheckStableRunning=!0,tw(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),nw(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,o,s,l,f,p)=>{if(function ek(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(p))return t.invokeTask(s,l,f,p);try{return eS(e),t.invokeTask(s,l,f,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&i(),tS(e)}},onInvoke:(t,o,s,l,f,p,m)=>{try{return eS(e),t.invoke(s,l,f,p,m)}finally{e.shouldCoalesceRunChangeDetection&&i(),tS(e)}},onHasTask:(t,o,s,l)=>{t.hasTask(s,l),o===s&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,nw(e),tw(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(t,o,s,l)=>(t.handleError(s,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!en.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(en.isInAngularZone())throw new se(909,!1)}run(i,t,o){return this._inner.run(i,t,o)}runTask(i,t,o,s){const l=this._inner,f=l.scheduleEventTask("NgZoneEvent: "+s,i,QP,XE,XE);try{return l.runTask(f,t,o)}finally{l.cancelTask(f)}}runGuarded(i,t,o){return this._inner.runGuarded(i,t,o)}runOutsideAngular(i){return this._outer.run(i)}}const QP={};function tw(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function nw(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function eS(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function tS(e){e._nesting--,tw(e)}class XP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(i,t,o){return i.apply(t,o)}runGuarded(i,t,o){return i.apply(t,o)}runOutsideAngular(i){return i()}runTask(i,t,o,s){return i.apply(t,o)}}const nS=new w("",{providedIn:"root",factory:rS});function rS(){const e=Ve(en);let i=!0;return function go(...e){const i=U(e),t=function Q(e,i){return"number"==typeof jo(e)?e.pop():i}(e,1/0),o=e;return o.length?1===o.length?De(o[0]):fn(t)(_t(o,i)):zn}(new lt(s=>{i=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{s.next(i),s.complete()})}),new lt(s=>{let l;e.runOutsideAngular(()=>{l=e.onStable.subscribe(()=>{en.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(i=!0,s.next(!0))})})});const f=e.onUnstable.subscribe(()=>{en.assertInAngularZone(),i&&(i=!1,e.runOutsideAngular(()=>{s.next(!1)}))});return()=>{l.unsubscribe(),f.unsubscribe()}}).pipe(ff()))}function Gu(e){return e instanceof Function?e():e}let rw=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Re({token:e,providedIn:"root",factory:()=>new e})}return e})();function om(e){for(;e;){e[Ot]|=64;const i=ud(e);if(Sf(e)&&!i)return e;e=i}return null}const uS=new w("",{providedIn:"root",factory:()=>!1});let Sy=null;function fS(e,i){return e[i]??gS()}function hS(e,i){const t=gS();t.producerNode?.length&&(e[i]=Sy,t.lView=e,Sy=pS())}const lk={...wc,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{om(e.lView)},lView:null};function pS(){return Object.create(lk)}function gS(){return Sy??=pS(),Sy}const kt={};function V(e){mS(rn(),me(),Oi()+e,!1)}function mS(e,i,t,o){if(!o)if(3==(3&i[Ot])){const l=e.preOrderCheckHooks;null!==l&&Hf(i,l,t)}else{const l=e.preOrderHooks;null!==l&&$f(i,l,0,t)}vs(t)}function B(e,i=At.Default){const t=me();return null===t?Ee(e,i):ag(Br(),t,pt(e),i)}function Ty(e,i,t,o,s,l,f,p,m,v,b){const C=i.blueprint.slice();return C[rr]=s,C[Ot]=140|o,(null!==v||e&&2048&e[Ot])&&(C[Ot]|=2048),iv(C),C[Fn]=C[pu]=e,C[lr]=t,C[$s]=f||e&&e[$s],C[St]=p||e&&e[St],C[Hs]=m||e&&e[Hs]||null,C[fi]=l,C[hi]=function $c(){return rd++}(),C[Pr]=b,C[oe]=v,C[qn]=2==i.type?e[qn]:C,C}function Bh(e,i,t,o,s){let l=e.data[i];if(null===l)l=function iw(e,i,t,o,s){const l=cv(),f=_n(),m=e.data[i]=function vk(e,i,t,o,s,l){let f=i?i.injectorIndex:-1,p=0;return yu()&&(p|=128),{type:t,index:o,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:s,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?l:l&&l.parent,t,i,o,s);return null===e.firstChild&&(e.firstChild=m),null!==l&&(f?null==l.child&&null!==m.parent&&(l.child=m):null===l.next&&(l.next=m,m.prev=l)),m}(e,i,t,o,s),function dv(){return vt.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=t,l.value=o,l.attrs=s;const f=function Mc(){const e=vt.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}();l.injectorIndex=null===f?-1:f.injectorIndex}return ms(l,!0),l}function sm(e,i,t,o){if(0===t)return-1;const s=i.length;for(let l=0;l<t;l++)i.push(o),e.blueprint.push(o),e.data.push(null);return s}function vS(e,i,t,o,s){const l=fS(i,gu),f=Oi(),p=2&o;try{vs(-1),p&&i.length>it&&mS(e,i,it,!1),Ki(p?2:0,s);const v=p?l:null,b=_u(v);try{null!==v&&(v.dirty=!1),t(o,s)}finally{Dc(v,b)}}finally{p&&null===i[gu]&&hS(i,gu),vs(f),Ki(p?3:1,s)}}function ow(e,i,t){if(Lt(i)){const o=Zi(null);try{const l=i.directiveEnd;for(let f=i.directiveStart;f<l;f++){const p=e.data[f];p.contentQueries&&p.contentQueries(1,t[f],f)}}finally{Zi(o)}}}function sw(e,i,t){av()&&(function Sk(e,i,t,o){const s=t.directiveStart,l=t.directiveEnd;Sa(t)&&function xk(e,i,t){const o=Qi(i,e),s=yS(t);let f=16;t.signals?f=4096:t.onPush&&(f=64);const p=Iy(e,Ty(e,s,null,f,o,i,null,e[$s].rendererFactory.createRenderer(o,t),null,null,null));e[i.index]=p}(i,t,e.data[s+t.componentOffset]),e.firstCreatePass||Se(t,i),ki(o,i);const f=t.initialInputs;for(let p=s;p<l;p++){const m=e.data[p],v=Ys(i,e,p,t);ki(v,i),null!==f&&Rk(0,p-s,v,m,0,f),Mo(m)&&(On(t.index,i)[lr]=Ys(i,e,p,t))}}(e,i,t,Qi(t,i)),64==(64&t.flags)&&ES(e,i,t))}function aw(e,i,t=Qi){const o=i.localNames;if(null!==o){let s=i.index+1;for(let l=0;l<o.length;l+=2){const f=o[l+1],p=-1===f?t(i,e):e[f];e[s++]=p}}}function yS(e){const i=e.tView;return null===i||i.incompleteFirstPass?e.tView=uw(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function uw(e,i,t,o,s,l,f,p,m,v,b){const C=it+o,S=C+s,M=function fk(e,i){const t=[];for(let o=0;o<i;o++)t.push(o<e?null:kt);return t}(C,S),P="function"==typeof v?v():v;return M[ze]={type:e,blueprint:M,template:t,queries:null,viewQuery:p,declTNode:i,data:M.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:m,consts:P,incompleteFirstPass:!1,ssrId:b}}let bS=e=>null;function wS(e,i,t,o){for(let s in e)if(e.hasOwnProperty(s)){t=null===t?{}:t;const l=e[s];null===o?DS(t,i,s,l):o.hasOwnProperty(s)&&DS(t,i,o[s],l)}return t}function DS(e,i,t,o){e.hasOwnProperty(t)?e[t].push(i,o):e[t]=[i,o]}function es(e,i,t,o,s,l,f,p){const m=Qi(i,t);let b,v=i.inputs;!p&&null!=v&&(b=v[o])?(hw(e,t,b,o,s),Sa(i)&&function wk(e,i){const t=On(i,e);16&t[Ot]||(t[Ot]|=64)}(t,i.index)):3&i.type&&(o=function bk(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),s=null!=f?f(s,i.value||"",o):s,l.setProperty(m,o,s))}function cw(e,i,t,o){if(av()){const s=null===o?null:{"":-1},l=function Ik(e,i){const t=e.directiveRegistry;let o=null,s=null;if(t)for(let l=0;l<t.length;l++){const f=t[l];if(Rp(i,f.selectors,!1))if(o||(o=[]),Mo(f))if(null!==f.findHostDirectiveDefs){const p=[];s=s||new Map,f.findHostDirectiveDefs(f,p,s),o.unshift(...p,f),lw(e,i,p.length)}else o.unshift(f),lw(e,i,0);else s=s||new Map,f.findHostDirectiveDefs?.(f,o,s),o.push(f)}return null===o?null:[o,s]}(e,t);let f,p;null===l?f=p=null:[f,p]=l,null!==f&&CS(e,i,t,f,s,p),s&&function Mk(e,i,t){if(i){const o=e.localNames=[];for(let s=0;s<i.length;s+=2){const l=t[i[s+1]];if(null==l)throw new se(-301,!1);o.push(i[s],l)}}}(t,o,s)}t.mergedAttrs=js(t.mergedAttrs,t.attrs)}function CS(e,i,t,o,s,l){for(let v=0;v<o.length;v++)Tu(Se(t,i),e,o[v].type);!function Ak(e,i,t){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+t,e.providerIndexes=i}(t,e.data.length,o.length);for(let v=0;v<o.length;v++){const b=o[v];b.providersResolver&&b.providersResolver(b)}let f=!1,p=!1,m=sm(e,i,o.length,null);for(let v=0;v<o.length;v++){const b=o[v];t.mergedAttrs=js(t.mergedAttrs,b.hostAttrs),Ok(e,t,i,m,b),Nk(m,b,s),null!==b.contentQueries&&(t.flags|=4),(null!==b.hostBindings||null!==b.hostAttrs||0!==b.hostVars)&&(t.flags|=64);const C=b.type.prototype;!f&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),f=!0),!p&&(C.ngOnChanges||C.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),p=!0),m++}!function yk(e,i,t){const s=i.directiveEnd,l=e.data,f=i.attrs,p=[];let m=null,v=null;for(let b=i.directiveStart;b<s;b++){const C=l[b],S=t?t.get(C):null,P=S?S.outputs:null;m=wS(C.inputs,b,m,S?S.inputs:null),v=wS(C.outputs,b,v,P);const j=null===m||null===f||k_(i)?null:Pk(m,b,f);p.push(j)}null!==m&&(m.hasOwnProperty("class")&&(i.flags|=8),m.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=p,i.inputs=m,i.outputs=v}(e,t,l)}function ES(e,i,t){const o=t.directiveStart,s=t.directiveEnd,l=t.index,f=function Zb(){return vt.lFrame.currentDirectiveIndex}();try{vs(l);for(let p=o;p<s;p++){const m=e.data[p],v=i[p];Xp(p),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&Tk(m,v)}}finally{vs(-1),Xp(f)}}function Tk(e,i){null!==e.hostBindings&&e.hostBindings(1,i)}function lw(e,i,t){i.componentOffset=t,(e.components??=[]).push(i.index)}function Nk(e,i,t){if(t){if(i.exportAs)for(let o=0;o<i.exportAs.length;o++)t[i.exportAs[o]]=e;Mo(i)&&(t[""]=e)}}function Ok(e,i,t,o,s){e.data[o]=s;const l=s.factory||(s.factory=zs(s.type)),f=new _o(l,Mo(s),B);e.blueprint[o]=f,t[o]=f,function Ck(e,i,t,o,s){const l=s.hostBindings;if(l){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const p=~i.index;(function Ek(e){let i=e.length;for(;i>0;){const t=e[--i];if("number"==typeof t&&t<0)return t}return 0})(f)!=p&&f.push(p),f.push(t,o,l)}}(e,i,o,sm(e,t,s.hostVars,kt),s)}function Ga(e,i,t,o,s,l){const f=Qi(e,i);!function dw(e,i,t,o,s,l,f){if(null==l)e.removeAttribute(i,s,t);else{const p=null==f?Dt(l):f(l,o||"",s);e.setAttribute(i,s,p,t)}}(i[St],f,l,e.value,t,o,s)}function Rk(e,i,t,o,s,l){const f=l[i];if(null!==f)for(let p=0;p<f.length;)SS(o,t,f[p++],f[p++],f[p++])}function SS(e,i,t,o,s){const l=Zi(null);try{const f=e.inputTransforms;null!==f&&f.hasOwnProperty(o)&&(s=f[o].call(i,s)),null!==e.setInput?e.setInput(i,s,t,o):i[o]=s}finally{Zi(l)}}function Pk(e,i,t){let o=null,s=0;for(;s<t.length;){const l=t[s];if(0!==l)if(5!==l){if("number"==typeof l)break;if(e.hasOwnProperty(l)){null===o&&(o=[]);const f=e[l];for(let p=0;p<f.length;p+=2)if(f[p]===i){o.push(l,f[p+1],t[s+1]);break}}s+=2}else s+=2;else s+=4}return o}function TS(e,i,t,o){return[e,!0,!1,i,null,0,o,t,null,null,null]}function IS(e,i){const t=e.contentQueries;if(null!==t)for(let o=0;o<t.length;o+=2){const l=t[o+1];if(-1!==l){const f=e.data[l];tg(t[o]),f.contentQueries(2,i[l],l)}}}function Iy(e,i){return e[hc]?e[Cf][ir]=i:e[hc]=i,e[Cf]=i,i}function fw(e,i,t){tg(0);const o=Zi(null);try{i(e,t)}finally{Zi(o)}}function MS(e){return e[zo]||(e[zo]=[])}function NS(e){return e.cleanup||(e.cleanup=[])}function OS(e,i){const t=e[Hs],o=t?t.get($u,null):null;o&&o.handleError(i)}function hw(e,i,t,o,s){for(let l=0;l<t.length;){const f=t[l++],p=t[l++];SS(e.data[f],i[f],o,p,s)}}function zu(e,i,t){const o=qs(i,e);!function th(e,i,t){e.setValue(i,t)}(e[St],o,t)}function kk(e,i){const t=On(i,e),o=t[ze];!function Fk(e,i){for(let t=i.length;t<e.blueprint.length;t++)i.push(e.blueprint[t])}(o,t);const s=t[rr];null!==s&&null===t[Pr]&&(t[Pr]=vi(s,t[Hs])),pw(o,t,t[lr])}function pw(e,i,t){Bf(i);try{const o=e.viewQuery;null!==o&&fw(1,o,t);const s=e.template;null!==s&&vS(e,i,s,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&IS(e,i),e.staticViewQueries&&fw(2,e.viewQuery,t);const l=e.components;null!==l&&function Lk(e,i){for(let t=0;t<i.length;t++)kk(e,i[t])}(i,l)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{i[Ot]&=-5,Du()}}let xS=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,o,s){const l=typeof Zone>"u"?null:Zone.current,f=function Q_(e,i,t){const o=Object.create(Y_);t&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=i;const s=f=>{o.cleanupFn=f};return o.ref={notify:()=>Up(o),run:()=>{if(o.dirty=!1,o.hasRun&&!Vl(o))return;o.hasRun=!0;const f=_u(o);try{o.cleanupFn(),o.cleanupFn=Ec,o.fn(s)}finally{Dc(o,f)}},cleanup:()=>o.cleanupFn()},o.ref}(t,v=>{this.all.has(v)&&this.queue.set(v,l)},s);let p;this.all.add(f),f.notify();const m=()=>{f.cleanup(),p?.(),this.all.delete(f),this.queue.delete(f)};return p=o?.onDestroy(m),{destroy:m}}flush(){if(0!==this.queue.size)for(const[t,o]of this.queue)this.queue.delete(t),o?o.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Re({token:e,providedIn:"root",factory:()=>new e})}return e})();function My(e,i,t){let o=t?e.styles:null,s=t?e.classes:null,l=0;if(null!==i)for(let f=0;f<i.length;f++){const p=i[f];"number"==typeof p?l=p:1==l?s=iu(s,p):2==l&&(o=iu(o,p+": "+i[++f]+";"))}t?e.styles=o:e.stylesWithoutHost=o,t?e.classes=s:e.classesWithoutHost=s}function am(e,i,t,o,s=!1){for(;null!==t;){const l=i[t.index];null!==l&&o.push(gn(l)),An(l)&&RS(l,o);const f=t.type;if(8&f)am(e,i,t.child,o);else if(32&f){const p=ka(t,i);let m;for(;m=p();)o.push(m)}else if(16&f){const p=uh(i,t);if(Array.isArray(p))o.push(...p);else{const m=ud(i[qn]);am(m[ze],m,p,o,!0)}}t=s?t.projectionNext:t.next}return o}function RS(e,i){for(let t=dt;t<e.length;t++){const o=e[t],s=o[ze].firstChild;null!==s&&am(o[ze],o,s,i)}e[rt]!==e[rr]&&i.push(e[rt])}function Ny(e,i,t,o=!0){const s=i[$s],l=s.rendererFactory,f=s.afterRenderEventManager;l.begin?.(),f?.begin();try{PS(e,i,e.template,t)}catch(m){throw o&&OS(i,m),m}finally{l.end?.(),s.effectManager?.flush(),f?.end()}}function PS(e,i,t,o){const s=i[Ot];if(256!=(256&s)){i[$s].effectManager?.flush(),Bf(i);try{iv(i),function Yp(e){return vt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&vS(e,i,t,2,o);const f=3==(3&s);if(f){const v=e.preOrderCheckHooks;null!==v&&Hf(i,v,null)}else{const v=e.preOrderHooks;null!==v&&$f(i,v,0,null),og(i,0)}if(function jk(e){for(let i=Sg(e);null!==i;i=cd(i)){if(!i[et])continue;const t=i[gc];for(let o=0;o<t.length;o++){ov(t[o])}}}(i),kS(i,2),null!==e.contentQueries&&IS(e,i),f){const v=e.contentCheckHooks;null!==v&&Hf(i,v)}else{const v=e.contentHooks;null!==v&&$f(i,v,1),og(i,1)}!function dk(e,i){const t=e.hostBindingOpCodes;if(null===t)return;const o=fS(i,xe);try{for(let s=0;s<t.length;s++){const l=t[s];if(l<0)vs(~l);else{const f=l,p=t[++s],m=t[++s];Wb(p,f),o.dirty=!1;const v=_u(o);try{m(2,i[f])}finally{Dc(o,v)}}}}finally{null===i[xe]&&hS(i,xe),vs(-1)}}(e,i);const p=e.components;null!==p&&LS(i,p,0);const m=e.viewQuery;if(null!==m&&fw(2,m,o),f){const v=e.viewCheckHooks;null!==v&&Hf(i,v)}else{const v=e.viewHooks;null!==v&&$f(i,v,2),og(i,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i[Ot]&=-73,Wp(i)}finally{Du()}}}function kS(e,i){for(let t=Sg(e);null!==t;t=cd(t))for(let o=dt;o<t.length;o++)FS(t[o],i)}function Uk(e,i,t){FS(On(i,e),t)}function FS(e,i){if(!function Pf(e){return 128==(128&e[Ot])}(e))return;const t=e[ze],o=e[Ot];if(80&o&&0===i||1024&o||2===i)PS(t,e,t.template,e[lr]);else if(e[fc]>0){kS(e,1);const s=t.components;null!==s&&LS(e,s,1)}}function LS(e,i,t){for(let o=0;o<i.length;o++)Uk(e,i[o],t)}class um{get rootNodes(){const i=this._lView,t=i[ze];return am(t,i,t.firstChild,[])}constructor(i,t){this._lView=i,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lr]}set context(i){this._lView[lr]=i}get destroyed(){return 256==(256&this._lView[Ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Fn];if(An(i)){const t=i[8],o=t?t.indexOf(this):-1;o>-1&&(ld(i,o),Wf(t,o))}this._attachedToViewContainer=!1}rh(this._lView[ze],this._lView)}onDestroy(i){!function Ws(e,i){if(256==(256&e[Ot]))throw new se(911,!1);null===e[_e]&&(e[_e]=[]),e[_e].push(i)}(this._lView,i)}markForCheck(){om(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ot]&=-129}reattach(){this._lView[Ot]|=128}detectChanges(){Ny(this._lView[ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function I1(e,i){fd(e,i,i[St],2,null,null)}(this._lView[ze],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=i}}class Hk extends um{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Ny(i[ze],i,i[lr],!1)}checkNoChanges(){}get context(){return null}}class VS extends a{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const t=Xt(i);return new cm(t,this.ngModule)}}function BS(e){const i=[];for(let t in e)e.hasOwnProperty(t)&&i.push({propName:e[t],templateName:t});return i}class Gk{constructor(i,t){this.injector=i,this.parentInjector=t}get(i,t,o){o=Dl(o);const s=this.injector.get(i,L,o);return s!==L||t===L?s:this.parentInjector.get(i,t,o)}}class cm extends Y1{get inputs(){const i=this.componentDef,t=i.inputTransforms,o=BS(i.inputs);if(null!==t)for(const s of o)t.hasOwnProperty(s.propName)&&(s.transform=t[s.propName]);return o}get outputs(){return BS(this.componentDef.outputs)}constructor(i,t){super(),this.componentDef=i,this.ngModule=t,this.componentType=i.type,this.selector=function kp(e){return e.map(Bb).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!t}create(i,t,o,s){let l=(s=s||this.ngModule)instanceof Mr?s:s?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const f=l?new Gk(i,l):i,p=f.get(_,null);if(null===p)throw new se(407,!1);const C={rendererFactory:p,sanitizer:f.get(T,null),effectManager:f.get(xS,null),afterRenderEventManager:f.get(rw,null)},S=p.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",P=o?function hk(e,i,t,o){const l=o.get(uS,!1)||t===oo.ShadowDom,f=e.selectRootElement(i,l);return function pk(e){bS(e)}(f),f}(S,o,this.componentDef.encapsulation,f):nh(S,M,function $k(e){const i=e.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(M)),ie=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let W=null;null!==P&&(W=vi(P,f,!0));const Ie=uw(0,null,null,1,0,null,null,null,null,null,null),be=Ty(null,Ie,null,ie,null,null,C,S,f,null,W);let $e,ut;Bf(be);try{const bt=this.componentDef;let Vt,yn=null;bt.findHostDirectiveDefs?(Vt=[],yn=new Map,bt.findHostDirectiveDefs(bt,Vt,yn),Vt.push(bt)):Vt=[bt];const In=function qk(e,i){const t=e[ze],o=it;return e[o]=i,Bh(t,o,2,"#host",null)}(be,P),Kr=function Wk(e,i,t,o,s,l,f){const p=s[ze];!function Zk(e,i,t,o){for(const s of e)i.mergedAttrs=js(i.mergedAttrs,s.hostAttrs);null!==i.mergedAttrs&&(My(i,i.mergedAttrs,!0),null!==t&&ey(o,t,i))}(o,e,i,f);let m=null;null!==i&&(m=vi(i,s[Hs]));const v=l.rendererFactory.createRenderer(i,t);let b=16;t.signals?b=4096:t.onPush&&(b=64);const C=Ty(s,yS(t),null,b,s[e.index],e,l,v,null,null,m);return p.firstCreatePass&&lw(p,e,o.length-1),Iy(s,C),s[e.index]=C}(In,P,bt,Vt,be,C,S);ut=Sc(Ie,it),P&&function Qk(e,i,t,o){if(o)Ml(e,t,["ng-version",R.full]);else{const{attrs:s,classes:l}=function Nl(e){const i=[],t=[];let o=1,s=2;for(;o<e.length;){let l=e[o];if("string"==typeof l)2===s?""!==l&&i.push(l,e[++o]):8===s&&t.push(l);else{if(!Go(s))break;s=l}o++}return{attrs:i,classes:t}}(i.selectors[0]);s&&Ml(e,t,s),l&&l.length>0&&Xv(e,t,l.join(" "))}}(S,bt,P,o),void 0!==t&&function Yk(e,i,t){const o=e.projection=[];for(let s=0;s<i.length;s++){const l=t[s];o.push(null!=l?Array.from(l):null)}}(ut,this.ngContentSelectors,t),$e=function Kk(e,i,t,o,s,l){const f=Br(),p=s[ze],m=Qi(f,s);CS(p,s,f,t,null,o);for(let b=0;b<t.length;b++)ki(Ys(s,p,f.directiveStart+b,f),s);ES(p,s,f),m&&ki(m,s);const v=Ys(s,p,f.directiveStart+f.componentOffset,f);if(e[lr]=s[lr]=v,null!==l)for(const b of l)b(v,i);return ow(p,f,e),v}(Kr,bt,Vt,yn,be,[Jk]),pw(Ie,be,null)}finally{Du()}return new zk(this.componentType,$e,d(ut,be),be,ut)}}class zk extends YE{constructor(i,t,o,s,l){super(),this.location=o,this._rootLView=s,this._tNode=l,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Hk(s),this.componentType=i}setInput(i,t){const o=this._tNode.inputs;let s;if(null!==o&&(s=o[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),t))return;const l=this._rootLView;hw(l[ze],l,s,i,t),this.previousInputValues.set(i,t),om(On(this._tNode.index,l))}}get injector(){return new _i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Jk(){const e=Br();Ks(me()[ze],e)}function xn(e){let i=function jS(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const o=[e];for(;i;){let s;if(Mo(e))s=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new se(903,!1);s=i.\u0275dir}if(s){if(t){o.push(s);const f=e;f.inputs=Ay(e.inputs),f.inputTransforms=Ay(e.inputTransforms),f.declaredInputs=Ay(e.declaredInputs),f.outputs=Ay(e.outputs);const p=s.hostBindings;p&&n2(e,p);const m=s.viewQuery,v=s.contentQueries;if(m&&e2(e,m),v&&t2(e,v),Uo(e.inputs,s.inputs),Uo(e.declaredInputs,s.declaredInputs),Uo(e.outputs,s.outputs),null!==s.inputTransforms&&(null===f.inputTransforms&&(f.inputTransforms={}),Uo(f.inputTransforms,s.inputTransforms)),Mo(s)&&s.data.animation){const b=e.data;b.animation=(b.animation||[]).concat(s.data.animation)}}const l=s.features;if(l)for(let f=0;f<l.length;f++){const p=l[f];p&&p.ngInherit&&p(e),p===xn&&(t=!1)}}i=Object.getPrototypeOf(i)}!function Xk(e){let i=0,t=null;for(let o=e.length-1;o>=0;o--){const s=e[o];s.hostVars=i+=s.hostVars,s.hostAttrs=js(s.hostAttrs,t=js(t,s.hostAttrs))}}(o)}function Ay(e){return e===Io?{}:e===ln?[]:e}function e2(e,i){const t=e.viewQuery;e.viewQuery=t?(o,s)=>{i(o,s),t(o,s)}:i}function t2(e,i){const t=e.contentQueries;e.contentQueries=t?(o,s,l)=>{i(o,s,l),t(o,s,l)}:i}function n2(e,i){const t=e.hostBindings;e.hostBindings=t?(o,s)=>{i(o,s),t(o,s)}:i}function GS(e){const i=e.inputConfig,t={};for(const o in i)if(i.hasOwnProperty(o)){const s=i[o];Array.isArray(s)&&s[2]&&(t[o]=s[2])}e.inputTransforms=t}function Oy(e){return!!gw(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function gw(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function za(e,i,t){return e[i]=t}function fo(e,i,t){return!Object.is(e[i],t)&&(e[i]=t,!0)}function Ed(e,i,t,o){const s=fo(e,i,t);return fo(e,i+1,o)||s}function En(e,i,t,o){const s=me();return fo(s,bu(),i)&&(rn(),Ga(Yn(),s,e,i,t,o)),En}function Uh(e,i,t,o){return fo(e,bu(),t)?i+Dt(t)+o:kt}function Hh(e,i,t,o,s,l){const p=Ed(e,function _s(){return vt.lFrame.bindingIndex}(),t,s);return Zs(2),p?i+Dt(t)+o+Dt(s)+l:kt}function de(e,i,t,o,s,l,f,p){const m=me(),v=rn(),b=e+it,C=v.firstCreatePass?function T2(e,i,t,o,s,l,f,p,m){const v=i.consts,b=Bh(i,e,4,f||null,gs(v,p));cw(i,t,b,gs(v,m)),Ks(i,b);const C=b.tView=uw(2,b,o,s,l,i.directiveRegistry,i.pipeRegistry,null,i.schemas,v,null);return null!==i.queries&&(i.queries.template(i,b),C.queries=i.queries.embeddedTView(b)),b}(b,v,m,i,t,o,s,l,f):v.data[b];ms(C,!1);const S=rT(v,m,C,e);Uf()&&Zc(v,m,S,C),ki(S,m),Iy(m,m[b]=TS(S,m,S,C)),hs(C)&&sw(v,m,C),null!=f&&aw(m,C,p)}let rT=function iT(e,i,t,o){return Ma(!0),i[St].createComment("")};function zr(e){return Tc(function Ff(){return vt.lFrame.contextLView}(),it+e)}function X(e,i,t){const o=me();return fo(o,bu(),i)&&es(rn(),Yn(),o,e,i,o[St],t,!1),X}function ww(e,i,t,o,s){const f=s?"class":"style";hw(e,t,i.inputs[f],f,o)}function A(e,i,t,o){const s=me(),l=rn(),f=it+e,p=s[St],m=l.firstCreatePass?function A2(e,i,t,o,s,l){const f=i.consts,m=Bh(i,e,2,o,gs(f,s));return cw(i,t,m,gs(f,l)),null!==m.attrs&&My(m,m.attrs,!1),null!==m.mergedAttrs&&My(m,m.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,m),m}(f,l,s,i,t,o):l.data[f],v=oT(l,s,m,p,i,e);s[f]=v;const b=hs(m);return ms(m,!0),ey(p,v,m),32!=(32&m.flags)&&Uf()&&Zc(l,s,v,m),0===function nn(){return vt.lFrame.elementDepthCount}()&&ki(v,s),function ql(){vt.lFrame.elementDepthCount++}(),b&&(sw(l,s,m),ow(l,m,s)),null!==o&&aw(s,m),A}function O(){let e=Br();_n()?Qp():(e=e.parent,ms(e,!1));const i=e;(function uv(e){return vt.skipHydrationRootTNode===e})(i)&&function Vr(){vt.skipHydrationRootTNode=null}(),function Kp(){vt.lFrame.elementDepthCount--}();const t=rn();return t.firstCreatePass&&(Ks(t,e),Lt(e)&&t.queries.elementEnd(e)),null!=i.classesWithoutHost&&function xi(e){return 0!=(8&e.flags)}(i)&&ww(t,i,me(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Yb(e){return 0!=(16&e.flags)}(i)&&ww(t,i,me(),i.stylesWithoutHost,!1),O}function He(e,i,t,o){return A(e,i,t,o),O(),He}let oT=(e,i,t,o,s,l)=>(Ma(!0),nh(o,s,function rg(){return vt.lFrame.currentNamespace}()));function Fy(e,i,t){const o=me(),s=rn(),l=e+it,f=s.firstCreatePass?function R2(e,i,t,o,s){const l=i.consts,f=gs(l,o),p=Bh(i,e,8,"ng-container",f);return null!==f&&My(p,f,!0),cw(i,t,p,gs(l,s)),null!==i.queries&&i.queries.elementStart(i,p),p}(l,s,o,i,t):s.data[l];ms(f,!0);const p=aT(s,o,f,e);return o[l]=p,Uf()&&Zc(s,o,p,f),ki(p,o),hs(f)&&(sw(s,o,f),ow(s,f,o)),null!=t&&aw(o,f),Fy}function Ly(){let e=Br();const i=rn();return _n()?Qp():(e=e.parent,ms(e,!1)),i.firstCreatePass&&(Ks(i,e),Lt(e)&&i.queries.elementEnd(e)),Ly}let aT=(e,i,t,o)=>(Ma(!0),Tg(i[St],""));function tn(){return me()}function gm(e){return!!e&&"function"==typeof e.then}function uT(e){return!!e&&"function"==typeof e.subscribe}function Te(e,i,t,o){const s=me(),l=rn(),f=Br();return function lT(e,i,t,o,s,l,f){const p=hs(o),v=e.firstCreatePass&&NS(e),b=i[lr],C=MS(i);let S=!0;if(3&o.type||f){const j=Qi(o,i),K=f?f(j):j,ie=C.length,W=f?be=>f(gn(be[o.index])):o.index;let Ie=null;if(!f&&p&&(Ie=function F2(e,i,t,o){const s=e.cleanup;if(null!=s)for(let l=0;l<s.length-1;l+=2){const f=s[l];if(f===t&&s[l+1]===o){const p=i[zo],m=s[l+2];return p.length>m?p[m]:null}"string"==typeof f&&(l+=2)}return null}(e,i,s,o.index)),null!==Ie)(Ie.__ngLastListenerFn__||Ie).__ngNextListenerFn__=l,Ie.__ngLastListenerFn__=l,S=!1;else{l=fT(o,i,b,l,!1);const be=t.listen(K,s,l);C.push(l,be),v&&v.push(s,W,ie,ie+1)}}else l=fT(o,i,b,l,!1);const M=o.outputs;let P;if(S&&null!==M&&(P=M[s])){const j=P.length;if(j)for(let K=0;K<j;K+=2){const $e=i[P[K]][P[K+1]].subscribe(l),ut=C.length;C.push(l,$e),v&&v.push(s,o.index,ut,-(ut+1))}}}(l,s,s[St],f,e,i,o),Te}function dT(e,i,t,o){try{return Ki(6,i,t),!1!==t(o)}catch(s){return OS(e,s),!1}finally{Ki(7,i,t)}}function fT(e,i,t,o,s){return function l(f){if(f===Function)return o;om(e.componentOffset>-1?On(e.index,i):i);let m=dT(i,t,o,f),v=l.__ngNextListenerFn__;for(;v;)m=dT(i,t,v,f)&&m,v=v.__ngNextListenerFn__;return s&&!1===m&&f.preventDefault(),m}}function fe(e=1){return function fv(e){return(vt.lFrame.contextLView=function hv(e,i){for(;e>0;)i=i[pu],e--;return i}(e,vt.lFrame.contextLView))[lr]}(e)}function L2(e,i){let t=null;const o=function L_(e){const i=e.attrs;if(null!=i){const t=i.indexOf(5);if(!(1&t))return i[t+1]}return null}(e);for(let s=0;s<i.length;s++){const l=i[s];if("*"!==l){if(null===o?Rp(e,l,!0):Us(o,l))return s}else t=s}return t}function Ss(e,i,t){return Vy(e,"",i,"",t),Ss}function Vy(e,i,t,o,s){const l=me(),f=Uh(l,i,t,o);return f!==kt&&es(rn(),Yn(),l,e,f,l[St],s,!1),Vy}function By(e,i){return e<<17|i<<2}function ol(e){return e>>17&32767}function Dw(e){return 2|e}function Sd(e){return(131068&e)>>2}function Cw(e,i){return-131069&e|i<<2}function Ew(e){return 1|e}function CT(e,i,t,o,s){const l=e[t+1],f=null===i;let p=o?ol(l):Sd(l),m=!1;for(;0!==p&&(!1===m||f);){const b=e[p+1];$2(e[p],i)&&(m=!0,e[p+1]=o?Ew(b):Dw(b)),p=o?ol(b):Sd(b)}m&&(e[t+1]=o?Dw(l):Ew(l))}function $2(e,i){return null===e||null==i||(Array.isArray(e)?e[1]:e)===i||!(!Array.isArray(e)||"string"!=typeof i)&&kc(e,i)>=0}const yi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ET(e){return e.substring(yi.key,yi.keyEnd)}function ST(e,i){const t=yi.textEnd;return t===i?-1:(i=yi.keyEnd=function W2(e,i,t){for(;i<t&&e.charCodeAt(i)>32;)i++;return i}(e,yi.key=i,t),Kh(e,i,t))}function Kh(e,i,t){for(;i<t&&e.charCodeAt(i)<=32;)i++;return i}function sn(e,i){return function oa(e,i,t,o){const s=me(),l=rn(),f=Zs(2);l.firstUpdatePass&&xT(l,e,f,o),i!==kt&&fo(s,f,i)&&PT(l,l.data[Oi()],s,s[St],e,s[f+1]=function iF(e,i){return null==e||""===e||("string"==typeof i?e+=i:"object"==typeof e&&(e=Un(ii(e)))),e}(i,t),o,f)}(e,i,null,!0),sn}function Td(e){!function sa(e,i,t,o){const s=rn(),l=Zs(2);s.firstUpdatePass&&xT(s,null,l,o);const f=me();if(t!==kt&&fo(f,l,t)){const p=s.data[Oi()];if(FT(p,o)&&!OT(s,l)){let m=o?p.classesWithoutHost:p.stylesWithoutHost;null!==m&&(t=iu(m,t||"")),ww(s,p,f,t,o)}else!function rF(e,i,t,o,s,l,f,p){s===kt&&(s=ln);let m=0,v=0,b=0<s.length?s[0]:null,C=0<l.length?l[0]:null;for(;null!==b||null!==C;){const S=m<s.length?s[m+1]:void 0,M=v<l.length?l[v+1]:void 0;let j,P=null;b===C?(m+=2,v+=2,S!==M&&(P=C,j=M)):null===C||null!==b&&b<C?(m+=2,P=b):(v+=2,P=C,j=M),null!==P&&PT(e,i,t,o,P,j,f,p),b=m<s.length?s[m]:null,C=v<l.length?l[v]:null}}(s,p,f,f[St],f[l+1],f[l+1]=function tF(e,i,t){if(null==t||""===t)return ln;const o=[],s=ii(t);if(Array.isArray(s))for(let l=0;l<s.length;l++)e(o,s[l],!0);else if("object"==typeof s)for(const l in s)s.hasOwnProperty(l)&&e(o,l,s[l]);else"string"==typeof s&&i(o,s);return o}(e,i,t),o,l)}}(nF,Wa,e,!0)}function Wa(e,i){for(let t=function z2(e){return function IT(e){yi.key=0,yi.keyEnd=0,yi.value=0,yi.valueEnd=0,yi.textEnd=e.length}(e),ST(e,Kh(e,0,yi.textEnd))}(i);t>=0;t=ST(i,t))co(e,ET(i),!0)}function OT(e,i){return i>=e.expandoStartIndex}function xT(e,i,t,o){const s=e.data;if(null===s[t+1]){const l=s[Oi()],f=OT(e,t);FT(l,o)&&null===i&&!f&&(i=!1),i=function Y2(e,i,t,o){const s=function wu(e){const i=vt.lFrame.currentDirectiveIndex;return-1===i?null:e[i]}(e);let l=o?i.residualClasses:i.residualStyles;if(null===s)0===(o?i.classBindings:i.styleBindings)&&(t=mm(t=Sw(null,e,i,t,o),i.attrs,o),l=null);else{const f=i.directiveStylingLast;if(-1===f||e[f]!==s)if(t=Sw(s,e,i,t,o),null===l){let m=function J2(e,i,t){const o=t?i.classBindings:i.styleBindings;if(0!==Sd(o))return e[ol(o)]}(e,i,o);void 0!==m&&Array.isArray(m)&&(m=Sw(null,e,i,m[1],o),m=mm(m,i.attrs,o),function X2(e,i,t,o){e[ol(t?i.classBindings:i.styleBindings)]=o}(e,i,o,m))}else l=function eF(e,i,t){let o;const s=i.directiveEnd;for(let l=1+i.directiveStylingLast;l<s;l++)o=mm(o,e[l].hostAttrs,t);return mm(o,i.attrs,t)}(e,i,o)}return void 0!==l&&(o?i.residualClasses=l:i.residualStyles=l),t}(s,l,i,o),function U2(e,i,t,o,s,l){let f=l?i.classBindings:i.styleBindings,p=ol(f),m=Sd(f);e[o]=t;let b,v=!1;if(Array.isArray(t)?(b=t[1],(null===b||kc(t,b)>0)&&(v=!0)):b=t,s)if(0!==m){const S=ol(e[p+1]);e[o+1]=By(S,p),0!==S&&(e[S+1]=Cw(e[S+1],o)),e[p+1]=function B2(e,i){return 131071&e|i<<17}(e[p+1],o)}else e[o+1]=By(p,0),0!==p&&(e[p+1]=Cw(e[p+1],o)),p=o;else e[o+1]=By(m,0),0===p?p=o:e[m+1]=Cw(e[m+1],o),m=o;v&&(e[o+1]=Dw(e[o+1])),CT(e,b,o,!0),CT(e,b,o,!1),function H2(e,i,t,o,s){const l=s?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof i&&kc(l,i)>=0&&(t[o+1]=Ew(t[o+1]))}(i,b,e,o,l),f=By(p,m),l?i.classBindings=f:i.styleBindings=f}(s,l,i,t,f,o)}}function Sw(e,i,t,o,s){let l=null;const f=t.directiveEnd;let p=t.directiveStylingLast;for(-1===p?p=t.directiveStart:p++;p<f&&(l=i[p],o=mm(o,l.hostAttrs,s),l!==e);)p++;return null!==e&&(t.directiveStylingLast=p),o}function mm(e,i,t){const o=t?1:2;let s=-1;if(null!==i)for(let l=0;l<i.length;l++){const f=i[l];"number"==typeof f?s=f:s===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),co(e,f,!!t||i[++l]))}return void 0===e?null:e}function nF(e,i,t){const o=String(i);""!==o&&!o.includes(" ")&&co(e,o,t)}function PT(e,i,t,o,s,l,f,p){if(!(3&i.type))return;const m=e.data,v=m[p+1],b=function j2(e){return 1==(1&e)}(v)?kT(m,i,t,s,Sd(v),f):void 0;jy(b)||(jy(l)||function V2(e){return 2==(2&e)}(v)&&(l=kT(m,null,t,s,p,f)),function Jv(e,i,t,o,s){if(i)s?e.addClass(t,o):e.removeClass(t,o);else{let l=-1===o.indexOf("-")?void 0:ea.DashCase;null==s?e.removeStyle(t,o,l):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),l|=ea.Important),e.setStyle(t,o,s,l))}}(o,f,qs(Oi(),t),s,l))}function kT(e,i,t,o,s,l){const f=null===i;let p;for(;s>0;){const m=e[s],v=Array.isArray(m),b=v?m[1]:m,C=null===b;let S=t[s+1];S===kt&&(S=C?ln:void 0);let M=C?hg(S,o):b===o?S:void 0;if(v&&!jy(M)&&(M=hg(m,o)),jy(M)&&(p=M,f))return p;const P=e[s+1];s=f?ol(P):Sd(P)}if(null!==i){let m=l?i.residualClasses:i.residualStyles;null!=m&&(p=hg(m,o))}return p}function jy(e){return void 0!==e}function FT(e,i){return 0!=(e.flags&(i?8:16))}function k(e,i=""){const t=me(),o=rn(),s=e+it,l=o.firstCreatePass?Bh(o,s,1,i,null):o.data[s],f=LT(o,t,l,i,e);t[s]=f,Uf()&&Zc(o,t,f,l),ms(l,!1)}let LT=(e,i,t,o,s)=>(Ma(!0),function Wc(e,i){return e.createText(i)}(i[St],o));function st(e){return or("",e,""),st}function or(e,i,t){const o=me(),s=Uh(o,e,i,t);return s!==kt&&zu(o,Oi(),s),or}function Tw(e,i,t,o,s){const l=me(),f=Hh(l,e,i,t,o,s);return f!==kt&&zu(l,Oi(),f),Tw}const Id=void 0;var TF=["en",[["a","p"],["AM","PM"],Id],[["AM","PM"],Id,Id],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Id,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Id,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Id,"{1} 'at' {0}",Id],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function SF(e){const t=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===o?1:5}];let Qh={};function bo(e){const i=function IF(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=nI(i);if(t)return t;const o=i.split("-")[0];if(t=nI(o),t)return t;if("en"===o)return TF;throw new se(701,!1)}function nI(e){return e in Qh||(Qh[e]=Nn.ng&&Nn.ng.common&&Nn.ng.common.locales&&Nn.ng.common.locales[e]),Qh[e]}var Xn=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Xn||{});const Yh="en-US";let rI=Yh;function Nw(e,i,t,o,s){if(e=pt(e),Array.isArray(e))for(let l=0;l<e.length;l++)Nw(e[l],i,t,o,s);else{const l=rn(),f=me(),p=Br();let m=Ru(e)?e:pt(e.provide);const v=Zg(e),b=1048575&p.providerIndexes,C=p.directiveStart,S=p.providerIndexes>>20;if(Ru(e)||!e.multi){const M=new _o(v,s,B),P=Ow(m,i,s?b:b+S,C);-1===P?(Tu(Se(p,f),l,m),Aw(l,e,i.length),i.push(m),p.directiveStart++,p.directiveEnd++,s&&(p.providerIndexes+=1048576),t.push(M),f.push(M)):(t[P]=M,f[P]=M)}else{const M=Ow(m,i,b+S,C),P=Ow(m,i,b,b+S),K=P>=0&&t[P];if(s&&!K||!s&&!(M>=0&&t[M])){Tu(Se(p,f),l,m);const ie=function EL(e,i,t,o,s){const l=new _o(e,t,B);return l.multi=[],l.index=i,l.componentProviders=0,MI(l,s,o&&!t),l}(s?CL:DL,t.length,s,o,v);!s&&K&&(t[P].providerFactory=ie),Aw(l,e,i.length,0),i.push(m),p.directiveStart++,p.directiveEnd++,s&&(p.providerIndexes+=1048576),t.push(ie),f.push(ie)}else Aw(l,e,M>-1?M:P,MI(t[s?P:M],v,!s&&o));!s&&o&&K&&t[P].componentProviders++}}}function Aw(e,i,t,o){const s=Ru(i),l=function qg(e){return!!e.useClass}(i);if(s||l){const m=(l?pt(i.useClass):i).prototype.ngOnDestroy;if(m){const v=e.destroyHooks||(e.destroyHooks=[]);if(!s&&i.multi){const b=v.indexOf(t);-1===b?v.push(t,[o,m]):v[b+1].push(o,m)}else v.push(t,m)}}}function MI(e,i,t){return t&&e.componentProviders++,e.multi.push(i)-1}function Ow(e,i,t,o){for(let s=t;s<o;s++)if(i[s]===e)return s;return-1}function DL(e,i,t,o){return xw(this.multi,[])}function CL(e,i,t,o){const s=this.multi;let l;if(this.providerFactory){const f=this.providerFactory.componentProviders,p=Ys(t,t[ze],this.providerFactory.index,o);l=p.slice(0,f),xw(s,l);for(let m=f;m<p.length;m++)l.push(p[m])}else l=[],xw(s,l);return l}function xw(e,i){for(let t=0;t<e.length;t++)i.push((0,e[t])());return i}function Zn(e,i=[]){return t=>{t.providersResolver=(o,s)=>function wL(e,i,t){const o=rn();if(o.firstCreatePass){const s=Mo(e);Nw(t,o.data,o.blueprint,s,!0),Nw(i,o.data,o.blueprint,s,!1)}}(o,s?s(e):e,i)}}class Md{}class NI{}class Rw extends Md{constructor(i,t,o){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new VS(this);const s=so(i);this._bootstrapComponents=Gu(s.bootstrap),this._r3Injector=il(i,t,[{provide:Md,useValue:this},{provide:a,useValue:this.componentFactoryResolver},...o],Un(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Pw extends NI{constructor(i){super(),this.moduleType=i}create(i){return new Rw(this.moduleType,i,[])}}class AI extends Md{constructor(i){super(),this.componentFactoryResolver=new VS(this),this.instance=null;const t=new lo([...i.providers,{provide:Md,useValue:this},{provide:a,useValue:this.componentFactoryResolver}],i.parent||Pu(),i.debugName,new Set(["environment"]));this.injector=t,i.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function kw(e,i,t=null){return new AI({providers:e,parent:i,debugName:t,runEnvironmentInitializers:!0}).injector}let IL=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const o=vy(0,t.type),s=o.length>0?kw([o],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Re({token:e,providedIn:"environment",factory:()=>new e(Ee(Mr))})}return e})();function Is(e){e.getStandaloneInjector=i=>i.get(IL).getOrCreateStandaloneInjector(e)}function zy(e,i,t){const o=ti()+e,s=me();return s[o]===kt?za(s,o,t?i.call(t):i()):function dm(e,i){return e[i]}(s,o)}function Za(e,i,t,o){return function LI(e,i,t,o,s,l){const f=i+t;return fo(e,f,s)?za(e,f+1,l?o.call(l,s):o(s)):Cm(e,f+1)}(me(),ti(),e,i,t,o)}function Nd(e,i,t,o,s){return VI(me(),ti(),e,i,t,o,s)}function Ad(e,i,t,o,s,l){return function BI(e,i,t,o,s,l,f,p){const m=i+t;return function xy(e,i,t,o,s){const l=Ed(e,i,t,o);return fo(e,i+2,s)||l}(e,m,s,l,f)?za(e,m+3,p?o.call(p,s,l,f):o(s,l,f)):Cm(e,m+3)}(me(),ti(),e,i,t,o,s,l)}function Cm(e,i){const t=e[i];return t===kt?void 0:t}function VI(e,i,t,o,s,l,f){const p=i+t;return Ed(e,p,s,l)?za(e,p+2,f?o.call(f,s,l):o(s,l)):Cm(e,p+2)}function Od(e,i){const t=rn();let o;const s=e+it;t.firstCreatePass?(o=function HL(e,i){if(i)for(let t=i.length-1;t>=0;t--){const o=i[t];if(e===o.name)return o}}(i,t.pipeRegistry),t.data[s]=o,o.onDestroy&&(t.destroyHooks??=[]).push(s,o.onDestroy)):o=t.data[s];const l=o.factory||(o.factory=zs(o.type)),p=Sr(B);try{const m=xo(!1),v=l();return xo(m),function N2(e,i,t,o){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),i[t]=o}(t,me(),s,v),v}finally{Sr(p)}}function xd(e,i,t,o){const s=e+it,l=me(),f=Tc(l,s);return function Em(e,i){return e[ze].data[i].pure}(l,s)?VI(l,ti(),i,f.transform,t,o,f):f.transform(t,o)}function WL(){return this._results[Symbol.iterator]()}class Lw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ke)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Lw.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=WL)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,t){return this._results.reduce(i,t)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,t){const o=this;o.dirty=!1;const s=function jr(e){return e.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Tv(e,i,t){if(e.length!==i.length)return!1;for(let o=0;o<e.length;o++){let s=e[o],l=i[o];if(t&&(s=t(s),l=t(l)),l!==s)return!1}return!0}(o._results,s,t))&&(o._results=s,o.length=s.length,o.last=s[this.length-1],o.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function KL(e,i,t,o=!0){const s=i[ze];if(function M1(e,i,t,o){const s=dt+o,l=t.length;o>0&&(t[s-1][ir]=i),o<l-dt?(i[ir]=t[s],fg(t,dt+o,i)):(t.push(i),i[ir]=null),i[Fn]=t;const f=i[pc];null!==f&&t!==f&&function zv(e,i){const t=e[gc];i[qn]!==i[Fn][Fn][qn]&&(e[et]=!0),null===t?e[gc]=[i]:t.push(i)}(f,i);const p=i[Gs];null!==p&&p.insertView(e),i[Ot]|=128}(s,i,e,t),o){const l=Yo(t,e),f=i[St],p=oh(f,e[rt]);null!==p&&function Mg(e,i,t,o,s,l){o[rr]=s,o[fi]=i,fd(e,o,t,1,s,l)}(s,e[fi],f,i,p,l)}}let mr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=JL}return e})();const QL=mr,YL=class extends QL{constructor(i,t,o){super(),this._declarationLView=i,this._declarationTContainer=t,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,t){return this.createEmbeddedViewImpl(i,t)}createEmbeddedViewImpl(i,t,o){const s=function ZL(e,i,t,o){const s=i.tView,p=Ty(e,s,t,4096&e[Ot]?4096:16,null,i,null,null,null,o?.injector??null,o?.hydrationInfo??null);p[pc]=e[i.index];const v=e[Gs];return null!==v&&(p[Gs]=v.createEmbeddedView(s)),pw(s,p,t),p}(this._declarationLView,this._declarationTContainer,i,{injector:t,hydrationInfo:o});return new um(s)}};function JL(){return qy(Br(),me())}function qy(e,i){return 4&e.type?new YL(i,e,d(e,i)):null}let Ms=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=i3}return e})();function i3(){return ZI(Br(),me())}const o3=Ms,qI=class extends o3{constructor(i,t,o){super(),this._lContainer=i,this._hostTNode=t,this._hostLView=o}get element(){return d(this._hostTNode,this._hostLView)}get injector(){return new _i(this._hostTNode,this._hostLView)}get parentInjector(){const i=zf(this._hostTNode,this._hostLView);if(Oo(i)){const t=gi(i,this._hostLView),o=ri(i);return new _i(t[ze].data[o+8],t)}return new _i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const t=WI(this._lContainer);return null!==t&&t[i]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(i,t,o){let s,l;"number"==typeof o?s=o:null!=o&&(s=o.index,l=o.injector);const p=i.createEmbeddedViewImpl(t||{},l,null);return this.insertImpl(p,s,false),p}createComponent(i,t,o,s,l){const f=i&&!function bs(e){return"function"==typeof e}(i);let p;if(f)p=t;else{const j=t||{};p=j.index,o=j.injector,s=j.projectableNodes,l=j.environmentInjector||j.ngModuleRef}const m=f?i:new cm(Xt(i)),v=o||this.parentInjector;if(!l&&null==m.ngModule){const K=(f?v:this.parentInjector).get(Mr,null);K&&(l=K)}Xt(m.componentType??{});const M=m.create(v,s,null,l);return this.insertImpl(M.hostView,p,false),M}insert(i,t){return this.insertImpl(i,t,!1)}insertImpl(i,t,o){const s=i._lView;if(function qb(e){return An(e[Fn])}(s)){const m=this.indexOf(i);if(-1!==m)this.detach(m);else{const v=s[Fn],b=new qI(v,v[fi],v[Fn]);b.detach(b.indexOf(i))}}const f=this._adjustIndex(t),p=this._lContainer;return KL(p,s,f,!o),i.attachToViewContainerRef(),fg(Vw(p),f,i),i}move(i,t){return this.insert(i,t)}indexOf(i){const t=WI(this._lContainer);return null!==t?t.indexOf(i):-1}remove(i){const t=this._adjustIndex(i,-1),o=ld(this._lContainer,t);o&&(Wf(Vw(this._lContainer),t),rh(o[ze],o))}detach(i){const t=this._adjustIndex(i,-1),o=ld(this._lContainer,t);return o&&null!=Wf(Vw(this._lContainer),t)?new um(o):null}_adjustIndex(i,t=0){return i??this.length+t}};function WI(e){return e[8]}function Vw(e){return e[8]||(e[8]=[])}function ZI(e,i){let t;const o=i[e.index];return An(o)?t=o:(t=TS(o,i,null,e),i[e.index]=t,Iy(i,t)),KI(t,i,e,o),new qI(t,e,i)}let KI=function QI(e,i,t,o){if(e[rt])return;let s;s=8&t.type?gn(o):function s3(e,i){const t=e[St],o=t.createComment(""),s=Qi(i,e);return Ou(t,oh(t,s),o,function O1(e,i){return e.nextSibling(i)}(t,s),!1),o}(i,t),e[rt]=s};class Bw{constructor(i){this.queryList=i,this.matches=null}clone(){return new Bw(this.queryList)}setDirty(){this.queryList.setDirty()}}class jw{constructor(i=[]){this.queries=i}createEmbeddedView(i){const t=i.queries;if(null!==t){const o=null!==i.contentQueries?i.contentQueries[0]:t.length,s=[];for(let l=0;l<o;l++){const f=t.getByIndex(l);s.push(this.queries[f.indexInDeclarationView].clone())}return new jw(s)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let t=0;t<this.queries.length;t++)null!==tM(i,t).matches&&this.queries[t].setDirty()}}class YI{constructor(i,t,o=null){this.predicate=i,this.flags=t,this.read=o}}class Uw{constructor(i=[]){this.queries=i}elementStart(i,t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(i,t)}elementEnd(i){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(i)}embeddedTView(i){let t=null;for(let o=0;o<this.length;o++){const s=null!==t?t.length:0,l=this.getByIndex(o).embeddedTView(i,s);l&&(l.indexInDeclarationView=o,null!==t?t.push(l):t=[l])}return null!==t?new Uw(t):null}template(i,t){for(let o=0;o<this.queries.length;o++)this.queries[o].template(i,t)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Hw{constructor(i,t=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(i,t){this.isApplyingToNode(t)&&this.matchTNode(i,t)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,t){this.elementStart(i,t)}embeddedTView(i,t){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,t),new Hw(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let o=i.parent;for(;null!==o&&8&o.type&&o.index!==t;)o=o.parent;return t===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(i,t){const o=this.metadata.predicate;if(Array.isArray(o))for(let s=0;s<o.length;s++){const l=o[s];this.matchTNodeWithReadOption(i,t,c3(t,l)),this.matchTNodeWithReadOption(i,t,mi(t,i,l,!1,!1))}else o===mr?4&t.type&&this.matchTNodeWithReadOption(i,t,-1):this.matchTNodeWithReadOption(i,t,mi(t,i,o,!1,!1))}matchTNodeWithReadOption(i,t,o){if(null!==o){const s=this.metadata.read;if(null!==s)if(s===h||s===Ms||s===mr&&4&t.type)this.addMatch(t.index,-2);else{const l=mi(t,i,s,!1,!1);null!==l&&this.addMatch(t.index,l)}else this.addMatch(t.index,o)}}addMatch(i,t){null===this.matches?this.matches=[i,t]:this.matches.push(i,t)}}function c3(e,i){const t=e.localNames;if(null!==t)for(let o=0;o<t.length;o+=2)if(t[o]===i)return t[o+1];return null}function d3(e,i,t,o){return-1===t?function l3(e,i){return 11&e.type?d(e,i):4&e.type?qy(e,i):null}(i,e):-2===t?function f3(e,i,t){return t===h?d(i,e):t===mr?qy(i,e):t===Ms?ZI(i,e):void 0}(e,i,o):Ys(e,e[ze],t,i)}function JI(e,i,t,o){const s=i[Gs].queries[o];if(null===s.matches){const l=e.data,f=t.matches,p=[];for(let m=0;m<f.length;m+=2){const v=f[m];p.push(v<0?null:d3(i,l[v],f[m+1],t.metadata.read))}s.matches=p}return s.matches}function $w(e,i,t,o){const s=e.queries.getByIndex(t),l=s.matches;if(null!==l){const f=JI(e,i,s,t);for(let p=0;p<l.length;p+=2){const m=l[p];if(m>0)o.push(f[p/2]);else{const v=l[p+1],b=i[-m];for(let C=dt;C<b.length;C++){const S=b[C];S[pc]===S[Fn]&&$w(S[ze],S,v,o)}if(null!==b[gc]){const C=b[gc];for(let S=0;S<C.length;S++){const M=C[S];$w(M[ze],M,v,o)}}}}}return o}function Ln(e){const i=me(),t=rn(),o=eg();tg(o+1);const s=tM(t,o);if(e.dirty&&function Rf(e){return 4==(4&e[Ot])}(i)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const l=s.crossesNgTemplate?$w(t,i,o,[]):JI(t,i,s,o);e.reset(l,g),e.notifyOnChanges()}return!0}return!1}function Vn(){return function h3(e,i){return e[Gs].queries[i].queryList}(me(),eg())}function XI(e,i,t){const o=new Lw(4==(4&t));(function _k(e,i,t,o){const s=MS(i);s.push(t),e.firstCreatePass&&NS(e).push(o,s.length-1)})(e,i,o,o.destroy),null===i[Gs]&&(i[Gs]=new jw),i[Gs].queries.push(new Bw(o))}function eM(e,i,t){null===e.queries&&(e.queries=new Uw),e.queries.track(new Hw(i,t))}function tM(e,i){return e.queries.getByIndex(i)}const Kw=new w("Application Initializer");let Qw=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,o)=>{this.resolve=t,this.reject=o}),this.appInits=Ve(Kw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const s of this.appInits){const l=s();if(gm(l))t.push(l);else if(uT(l)){const f=new Promise((p,m)=>{l.subscribe({complete:p,error:m})});t.push(f)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{o()}).catch(s=>{this.reject(s)}),0===t.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vM=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const ua=new w("LocaleId",{providedIn:"root",factory:()=>Ve(ua,At.Optional|At.SkipSelf)||function k3(){return typeof $localize<"u"&&$localize.locale||Yh}()});let yM=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xr(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class V3{constructor(i,t){this.ngModuleFactory=i,this.componentFactories=t}}let bM=(()=>{class e{compileModuleSync(t){return new Pw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const o=this.compileModuleSync(t),l=Gu(so(t).declarations).reduce((f,p)=>{const m=Xt(p);return m&&f.push(new cm(m)),f},[]);return new V3(o,l)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const EM=new w(""),Qy=new w("");let tD,Xw=(()=>{class e{constructor(t,o,s){this._ngZone=t,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tD||(function sV(e){tD=e}(s),s.addToWindow(o)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{en.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(t)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,o,s){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==l),t(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:t,timeoutId:l,updateCb:s})}whenStable(t,o,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,o,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,o,s){return[]}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(en),Ee(eD),Ee(Qy))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})(),eD=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,o){this._applications.set(t,o)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,o=!0){return tD?.findTestabilityInTree(this,t,o)??null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),sl=null;const SM=new w("AllowMultipleToken"),nD=new w("PlatformDestroyListeners"),rD=new w("appBootstrapListener");class IM{constructor(i,t){this.name=i,this.token=t}}function NM(e,i,t=[]){const o=`Platform: ${i}`,s=new w(o);return(l=[])=>{let f=iD();if(!f||f.injector.get(SM,!1)){const p=[...t,...l,{provide:s,useValue:!0}];e?e(p):function cV(e){if(sl&&!sl.get(SM,!1))throw new se(400,!1);(function TM(){!function K_(e){Z_=e}(()=>{throw new se(600,!1)})})(),sl=e;const i=e.get(OM);(function MM(e){e.get(Qg,null)?.forEach(t=>t())})(e)}(function AM(e=[],i){return Gr.create({name:i,providers:[{provide:nl,useValue:"platform"},{provide:nD,useValue:new Set([()=>sl=null])},...e]})}(p,o))}return function dV(e){const i=iD();if(!i)throw new se(401,!1);return i}()}}function iD(){return sl?.get(OM)??null}let OM=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,o){const s=function fV(e="zone.js",i){return"noop"===e?new XP:"zone.js"===e?new en(i):e}(o?.ngZone,function xM(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return s.run(()=>{const l=function TL(e,i,t){return new Rw(e,i,t)}(t.moduleType,this.injector,function LM(e){return[{provide:en,useFactory:e},{provide:Ba,multi:!0,useFactory:()=>{const i=Ve(pV,{optional:!0});return()=>i.initialize()}},{provide:FM,useFactory:hV},{provide:nS,useFactory:rS}]}(()=>s)),f=l.injector.get($u,null);return s.runOutsideAngular(()=>{const p=s.onError.subscribe({next:m=>{f.handleError(m)}});l.onDestroy(()=>{Yy(this._modules,l),p.unsubscribe()})}),function RM(e,i,t){try{const o=t();return gm(o)?o.catch(s=>{throw i.runOutsideAngular(()=>e.handleError(s)),s}):o}catch(o){throw i.runOutsideAngular(()=>e.handleError(o)),o}}(f,s,()=>{const p=l.injector.get(Qw);return p.runInitializers(),p.donePromise.then(()=>(function iI(e){Ii(e,"Expected localeId to be defined"),"string"==typeof e&&(rI=e.toLowerCase().replace(/_/g,"-"))}(l.injector.get(ua,Yh)||Yh),this._moduleDoBootstrap(l),l))})})}bootstrapModule(t,o=[]){const s=PM({},o);return function aV(e,i,t){const o=new Pw(t);return Promise.resolve(o)}(0,0,t).then(l=>this.bootstrapModuleFactory(l,s))}_moduleDoBootstrap(t){const o=t.injector.get(qu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>o.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new se(-403,!1);t.instance.ngDoBootstrap(o)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const t=this._injector.get(nD,null);t&&(t.forEach(o=>o()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(Gr))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function PM(e,i){return Array.isArray(i)?i.reduce(PM,e):{...e,...i}}let qu=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ve(FM),this.zoneIsStable=Ve(nS),this.componentTypes=[],this.components=[],this.isStable=Ve(yM).hasPendingTasks.pipe(ur(t=>t?ht(!1):this.zoneIsStable),function ru(e,i=tr){return e=e??yl,pe((t,o)=>{let s,l=!0;t.subscribe(we(o,f=>{const p=i(f);(l||!e(s,p))&&(l=!1,s=p,o.next(f))}))})}(),ff()),this._injector=Ve(Mr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,o){const s=t instanceof Y1;if(!this._injector.get(Qw).done)throw!s&&function Ea(e){const i=Xt(e)||Jr(e)||di(e);return null!==i&&i.standalone}(t),new se(405,!1);let f;f=s?t:this._injector.get(a).resolveComponentFactory(t),this.componentTypes.push(f.componentType);const p=function uV(e){return e.isBoundToModule}(f)?void 0:this._injector.get(Md),v=f.create(Gr.NULL,[],o||f.selector,p),b=v.location.nativeElement,C=v.injector.get(EM,null);return C?.registerApplication(b),v.onDestroy(()=>{this.detachView(v.hostView),Yy(this.components,v),C?.unregisterApplication(b)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const o=t;this._views.push(o),o.attachToAppRef(this)}detachView(t){const o=t;Yy(this._views,o),o.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const o=this._injector.get(rD,[]);o.push(...this._bootstrapListeners),o.forEach(s=>s(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Yy(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new se(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Yy(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}const FM=new w("",{providedIn:"root",factory:()=>Ve($u).handleError.bind(void 0)});function hV(){const e=Ve(en),i=Ve($u);return t=>e.runOutsideAngular(()=>i.handleError(t))}let pV=(()=>{class e{constructor(){this.zone=Ve(en),this.applicationRef=Ve(qu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Ns=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=mV}return e})();function mV(e){return function _V(e,i,t){if(Sa(e)&&!t){const o=On(e.index,i);return new um(o,o)}return 47&e.type?new um(i[qn],i):null}(Br(),me(),16==(16&e))}class UM{constructor(){}supports(i){return Oy(i)}create(i){return new CV(i)}}const DV=(e,i)=>i;class CV{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||DV}forEachItem(i){let t;for(t=this._itHead;null!==t;t=t._next)i(t)}forEachOperation(i){let t=this._itHead,o=this._removalsHead,s=0,l=null;for(;t||o;){const f=!o||t&&t.currentIndex<$M(o,s,l)?t:o,p=$M(f,s,l),m=f.currentIndex;if(f===o)s--,o=o._nextRemoved;else if(t=t._next,null==f.previousIndex)s++;else{l||(l=[]);const v=p-s,b=m-s;if(v!=b){for(let S=0;S<v;S++){const M=S<l.length?l[S]:l[S]=0,P=M+S;b<=P&&P<v&&(l[S]=M+1)}l[f.previousIndex]=b-v}}p!==m&&i(f,p,m)}}forEachPreviousItem(i){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachMovedItem(i){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}forEachIdentityChange(i){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)i(t)}diff(i){if(null==i&&(i=[]),!Oy(i))throw new se(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s,l,f,t=this._itHead,o=!1;if(Array.isArray(i)){this.length=i.length;for(let p=0;p<this.length;p++)l=i[p],f=this._trackByFn(p,l),null!==t&&Object.is(t.trackById,f)?(o&&(t=this._verifyReinsertion(t,l,f,p)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,f,p),o=!0),t=t._next}else s=0,function u2(e,i){if(Array.isArray(e))for(let t=0;t<e.length;t++)i(e[t]);else{const t=e[Symbol.iterator]();let o;for(;!(o=t.next()).done;)i(o.value)}}(i,p=>{f=this._trackByFn(s,p),null!==t&&Object.is(t.trackById,f)?(o&&(t=this._verifyReinsertion(t,p,f,s)),Object.is(t.item,p)||this._addIdentityChange(t,p)):(t=this._mismatch(t,p,f,s),o=!0),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,t,o,s){let l;return null===i?l=this._itTail:(l=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._reinsertAfter(i,l,s)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(o,s))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._moveAfter(i,l,s)):i=this._addAfter(new EV(t,o),l,s),i}_verifyReinsertion(i,t,o,s){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?i=this._reinsertAfter(l,i._prev,s):i.currentIndex!=s&&(i.currentIndex=s,this._addToMoves(i,s)),i}_truncate(i){for(;null!==i;){const t=i._next;this._addToRemovals(this._unlink(i)),i=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const s=i._prevRemoved,l=i._nextRemoved;return null===s?this._removalsHead=l:s._nextRemoved=l,null===l?this._removalsTail=s:l._prevRemoved=s,this._insertAfter(i,t,o),this._addToMoves(i,o),i}_moveAfter(i,t,o){return this._unlink(i),this._insertAfter(i,t,o),this._addToMoves(i,o),i}_addAfter(i,t,o){return this._insertAfter(i,t,o),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,t,o){const s=null===t?this._itHead:t._next;return i._next=s,i._prev=t,null===s?this._itTail=i:s._prev=i,null===t?this._itHead=i:t._next=i,null===this._linkedRecords&&(this._linkedRecords=new HM),this._linkedRecords.put(i),i.currentIndex=o,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const t=i._prev,o=i._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,i}_addToMoves(i,t){return i.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HM),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,t){return i.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class EV{constructor(i,t){this.item=i,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SV{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,t){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&Object.is(o.trackById,i))return o;return null}remove(i){const t=i._prevDup,o=i._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head}}class HM{constructor(){this.map=new Map}put(i){const t=i.trackById;let o=this.map.get(t);o||(o=new SV,this.map.set(t,o)),o.add(i)}get(i,t){const s=this.map.get(i);return s?s.get(i,t):null}remove(i){const t=i.trackById;return this.map.get(t).remove(i)&&this.map.delete(t),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $M(e,i,t){const o=e.previousIndex;if(null===o)return o;let s=0;return t&&o<t.length&&(s=t[o]),o+i+s}class GM{constructor(){}supports(i){return i instanceof Map||gw(i)}create(){return new TV}}class TV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let t;for(t=this._mapHead;null!==t;t=t._next)i(t)}forEachPreviousItem(i){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)i(t)}forEachChangedItem(i){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}diff(i){if(i){if(!(i instanceof Map||gw(i)))throw new se(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(i,(o,s)=>{if(t&&t.key===s)this._maybeAddToChanges(t,o),this._appendAfter=t,t=t._next;else{const l=this._getOrCreateRecordForKey(s,o);t=this._insertBeforeOrAppend(t,l)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let o=t;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,t){if(i){const o=i._prev;return t._next=i,t._prev=o,i._prev=t,o&&(o._next=t),i===this._mapHead&&(this._mapHead=t),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(i,t){if(this._records.has(i)){const s=this._records.get(i);this._maybeAddToChanges(s,t);const l=s._prev,f=s._next;return l&&(l._next=f),f&&(f._prev=l),s._next=null,s._prev=null,s}const o=new IV(i);return this._records.set(i,o),o.currentValue=t,this._addToAdditions(o),o}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,t){Object.is(t,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=t,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,t){i instanceof Map?i.forEach(t):Object.keys(i).forEach(o=>t(i[o],o))}}class IV{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zM(){return new e0([new UM])}let e0=(()=>{class e{static#e=this.\u0275prov=Re({token:e,providedIn:"root",factory:zM});constructor(t){this.factories=t}static create(t,o){if(null!=o){const s=o.factories.slice();t=t.concat(s)}return new e(t)}static extend(t){return{provide:e,useFactory:o=>e.create(t,o||zM()),deps:[[e,new Xl,new Jl]]}}find(t){const o=this.factories.find(s=>s.supports(t));if(null!=o)return o;throw new se(901,!1)}}return e})();function qM(){return new Im([new GM])}let Im=(()=>{class e{static#e=this.\u0275prov=Re({token:e,providedIn:"root",factory:qM});constructor(t){this.factories=t}static create(t,o){if(o){const s=o.factories.slice();t=t.concat(s)}return new e(t)}static extend(t){return{provide:e,useFactory:o=>e.create(t,o||qM()),deps:[[e,new Xl,new Jl]]}}find(t){const o=this.factories.find(s=>s.supports(t));if(o)return o;throw new se(901,!1)}}return e})();const AV=NM(null,"core",[]);let OV=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(qu))};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})();function ep(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function lD(e,i){const t=Xt(e),o=i.elementInjector||Pu();return new cm(t).create(o,i.projectableNodes,i.hostElement,i.environmentInjector)}let dD=null;function al(){return dD}class zV{}const vr=new w("DocumentToken");let fD=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return Ve(WV)},providedIn:"platform"})}return e})();const qV=new w("Location Initialized");let WV=(()=>{class e extends fD{constructor(){super(),this._doc=Ve(vr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return al().getBaseHref(this._doc)}onPopState(t){const o=al().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=al().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,o,s){this._history.pushState(t,o,s)}replaceState(t,o,s){this._history.replaceState(t,o,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function hD(e,i){if(0==e.length)return i;if(0==i.length)return e;let t=0;return e.endsWith("/")&&t++,i.startsWith("/")&&t++,2==t?e+i.substring(1):1==t?e+i:e+"/"+i}function tN(e){const i=e.match(/#|\?|$/),t=i&&i.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Wu(e){return e&&"?"!==e[0]?"?"+e:e}let kd=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return Ve(rN)},providedIn:"root"})}return e})();const nN=new w("appBaseHref");let rN=(()=>{class e extends kd{constructor(t,o){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??Ve(vr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return hD(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+Wu(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${o}${s}`:o}pushState(t,o,s,l){const f=this.prepareExternalUrl(s+Wu(l));this._platformLocation.pushState(t,o,f)}replaceState(t,o,s,l){const f=this.prepareExternalUrl(s+Wu(l));this._platformLocation.replaceState(t,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(fD),Ee(nN,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ZV=(()=>{class e extends kd{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=hD(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,s,l){let f=this.prepareExternalUrl(s+Wu(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,o,f)}replaceState(t,o,s,l){let f=this.prepareExternalUrl(s+Wu(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(fD),Ee(nN,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})(),pD=(()=>{class e{constructor(t){this._subject=new Ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const o=this._locationStrategy.getBaseHref();this._basePath=function YV(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(tN(iN(o))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+Wu(o))}normalize(t){return e.stripTrailingSlash(function QV(e,i){if(!e||!i.startsWith(e))return i;const t=i.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:i}(this._basePath,iN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",s=null){this._locationStrategy.pushState(s,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wu(o)),s)}replaceState(t,o="",s=null){this._locationStrategy.replaceState(s,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wu(o)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(s=>s(t,o))}subscribe(t,o,s){return this._subject.subscribe({next:t,error:o,complete:s})}static#e=this.normalizeQueryParams=Wu;static#t=this.joinWithSlash=hD;static#n=this.stripTrailingSlash=tN;static#r=this.\u0275fac=function(o){return new(o||e)(Ee(kd))};static#i=this.\u0275prov=Re({token:e,factory:function(){return function KV(){return new pD(Ee(kd))}()},providedIn:"root"})}return e})();function iN(e){return e.replace(/\/index.html$/,"")}var n0=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(n0||{}),qr=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(qr||{});function As(e,i){const t=bo(e),o=t[Xn.NumberSymbols][i];if(typeof o>"u"){if(i===qr.CurrencyDecimal)return t[Xn.NumberSymbols][qr.Decimal];if(i===qr.CurrencyGroup)return t[Xn.NumberSymbols][qr.Group]}return o}const wB=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function CD(e){const i=parseInt(e);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+e);return i}const SD=/\s+/,gN=[];let Am=(()=>{class e{constructor(t,o,s,l){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=s,this._renderer=l,this.initialClasses=gN,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(SD):gN}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(SD):t}ngDoCheck(){for(const o of this.initialClasses)this._updateState(o,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const o of t)this._updateState(o,!0);else if(null!=t)for(const o of Object.keys(t))this._updateState(o,!!t[o]);this._applyStateDiff()}_updateState(t,o){const s=this.stateMap.get(t);void 0!==s?(s.enabled!==o&&(s.changed=!0,s.enabled=o),s.touched=!0):this.stateMap.set(t,{enabled:o,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const o=t[0],s=t[1];s.changed?(this._toggleClass(o,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(o,!1),this.stateMap.delete(o)),s.touched=!1}}_toggleClass(t,o){(t=t.trim()).length>0&&t.split(SD).forEach(s=>{o?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static#e=this.\u0275fac=function(o){return new(o||e)(B(e0),B(Im),B(h),B(y))};static#t=this.\u0275dir=Pe({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class PB{constructor(i,t,o,s){this.$implicit=i,this.ngForOf=t,this.index=o,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wr=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,o,s){this._viewContainer=t,this._template=o,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((s,l,f)=>{if(null==s.previousIndex)o.createEmbeddedView(this._template,new PB(s.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)o.remove(null===l?void 0:l);else if(null!==l){const p=o.get(l);o.move(p,f),_N(p,s)}});for(let s=0,l=o.length;s<l;s++){const p=o.get(s).context;p.index=s,p.count=l,p.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{_N(o.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(B(Ms),B(mr),B(e0))};static#t=this.\u0275dir=Pe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function _N(e,i){e.context.$implicit=i.item}let yr=(()=>{class e{constructor(t,o){this._viewContainer=t,this._context=new kB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){vN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){vN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(B(Ms),B(mr))};static#t=this.\u0275dir=Pe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class kB{constructor(){this.$implicit=null,this.ngIf=null}}function vN(e,i){if(i&&!i.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Un(i)}'.`)}let wN=(()=>{class e{constructor(t){this._locale=t}transform(t,o,s){if(!function MD(e){return!(null==e||""===e||e!=e)}(t))return null;s=s||this._locale;try{return function IB(e,i,t){return function wD(e,i,t,o,s,l,f=!1){let p="",m=!1;if(isFinite(e)){let v=function NB(e){let o,s,l,f,p,i=Math.abs(e)+"",t=0;for((s=i.indexOf("."))>-1&&(i=i.replace(".","")),(l=i.search(/e/i))>0?(s<0&&(s=l),s+=+i.slice(l+1),i=i.substring(0,l)):s<0&&(s=i.length),l=0;"0"===i.charAt(l);l++);if(l===(p=i.length))o=[0],s=1;else{for(p--;"0"===i.charAt(p);)p--;for(s-=l,o=[],f=0;l<=p;l++,f++)o[f]=Number(i.charAt(l))}return s>22&&(o=o.splice(0,21),t=s-1,s=1),{digits:o,exponent:t,integerLen:s}}(e);f&&(v=function MB(e){if(0===e.digits[0])return e;const i=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===i?e.digits.push(0,0):1===i&&e.digits.push(0),e.integerLen+=2),e}(v));let b=i.minInt,C=i.minFrac,S=i.maxFrac;if(l){const W=l.match(wB);if(null===W)throw new Error(`${l} is not a valid digit info`);const Ie=W[1],be=W[3],$e=W[5];null!=Ie&&(b=CD(Ie)),null!=be&&(C=CD(be)),null!=$e?S=CD($e):null!=be&&C>S&&(S=C)}!function AB(e,i,t){if(i>t)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${t}).`);let o=e.digits,s=o.length-e.integerLen;const l=Math.min(Math.max(i,s),t);let f=l+e.integerLen,p=o[f];if(f>0){o.splice(Math.max(e.integerLen,f));for(let C=f;C<o.length;C++)o[C]=0}else{s=Math.max(0,s),e.integerLen=1,o.length=Math.max(1,f=l+1),o[0]=0;for(let C=1;C<f;C++)o[C]=0}if(p>=5)if(f-1<0){for(let C=0;C>f;C--)o.unshift(0),e.integerLen++;o.unshift(1),e.integerLen++}else o[f-1]++;for(;s<Math.max(0,l);s++)o.push(0);let m=0!==l;const v=i+e.integerLen,b=o.reduceRight(function(C,S,M,P){return P[M]=(S+=C)<10?S:S-10,m&&(0===P[M]&&M>=v?P.pop():m=!1),S>=10?1:0},0);b&&(o.unshift(b),e.integerLen++)}(v,C,S);let M=v.digits,P=v.integerLen;const j=v.exponent;let K=[];for(m=M.every(W=>!W);P<b;P++)M.unshift(0);for(;P<0;P++)M.unshift(0);P>0?K=M.splice(P,M.length):(K=M,M=[0]);const ie=[];for(M.length>=i.lgSize&&ie.unshift(M.splice(-i.lgSize,M.length).join(""));M.length>i.gSize;)ie.unshift(M.splice(-i.gSize,M.length).join(""));M.length&&ie.unshift(M.join("")),p=ie.join(As(t,o)),K.length&&(p+=As(t,s)+K.join("")),j&&(p+=As(t,qr.Exponential)+"+"+j)}else p=As(t,qr.Infinity);return p=e<0&&!m?i.negPre+p+i.negSuf:i.posPre+p+i.posSuf,p}(e,function DD(e,i="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=e.split(";"),s=o[0],l=o[1],f=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],p=f[0],m=f[1]||"";t.posPre=p.substring(0,p.indexOf("#"));for(let b=0;b<m.length;b++){const C=m.charAt(b);"0"===C?t.minFrac=t.maxFrac=b+1:"#"===C?t.maxFrac=b+1:t.posSuf+=C}const v=p.split(",");if(t.gSize=v[1]?v[1].length:0,t.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,l){const b=s.length-t.posPre.length-t.posSuf.length,C=l.indexOf("#");t.negPre=l.substring(0,C).replace(/'/g,""),t.negSuf=l.slice(C+b).replace(/'/g,"")}else t.negPre=i+t.posPre,t.negSuf=t.posSuf;return t}(function mD(e,i){return bo(e)[Xn.NumberFormats][i]}(i,n0.Decimal),As(i,qr.MinusSign)),i,qr.Group,qr.Decimal,t)}(function ND(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),s,o)}catch(l){throw function la(e,i){return new se(2100,!1)}()}}static#e=this.\u0275fac=function(o){return new(o||e)(B(ua,16))};static#t=this.\u0275pipe=Rr({name:"number",type:e,pure:!0,standalone:!0})}return e})();let h0=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})();function CN(e){return"server"===e}let lj=(()=>{class e{static#e=this.\u0275prov=Re({token:e,providedIn:"root",factory:()=>new dj(Ee(vr),window)})}return e})();class dj{constructor(i,t){this.document=i,this.window=t,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const t=function fj(e,i){const t=e.getElementById(i)||e.getElementsByName(i)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const o=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let s=o.currentNode;for(;s;){const l=s.shadowRoot;if(l){const f=l.getElementById(i)||l.querySelector(`[name="${i}"]`);if(f)return f}s=o.nextNode()}}return null}(this.document,i);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(i){this.supportsScrolling()&&(this.window.history.scrollRestoration=i)}scrollToElement(i){const t=i.getBoundingClientRect(),o=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(o-l[0],s-l[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Fj extends zV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xD extends Fj{static makeCurrent(){!function GV(e){dD||(dD=e)}(new xD)}onAndCancel(i,t,o){return i.addEventListener(t,o),()=>{i.removeEventListener(t,o)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function Lj(){return xm=xm||document.querySelector("base"),xm?xm.getAttribute("href"):null}();return null==t?null:function Vj(e){m0=m0||document.createElement("a"),m0.setAttribute("href",e);const i=m0.pathname;return"/"===i.charAt(0)?i:`/${i}`}(t)}resetBaseElement(){xm=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function xB(e,i){i=encodeURIComponent(i);for(const t of e.split(";")){const o=t.indexOf("="),[s,l]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(s.trim()===i)return decodeURIComponent(l)}return null}(document.cookie,i)}}let m0,xm=null,jj=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();const RD=new w("EventManagerPlugins");let MN=(()=>{class e{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,o,s){return this._findPluginFor(o).addEventListener(t,o,s)}getZone(){return this._zone}_findPluginFor(t){let o=this._eventNameToPlugin.get(t);if(o)return o;if(o=this._plugins.find(l=>l.supports(t)),!o)throw new se(5101,!1);return this._eventNameToPlugin.set(t,o),o}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(RD),Ee(en))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();class NN{constructor(i){this._doc=i}}const PD="ng-app-id";let AN=(()=>{class e{constructor(t,o,s,l={}){this.doc=t,this.appId=o,this.nonce=s,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=CN(l),this.resetHostNodes()}addStyles(t){for(const o of t)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(t){for(const o of t)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(o=>o.remove()),t.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const o of this.getAllStyles())this.addStyleToHost(t,o)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const o of this.hostNodes)this.addStyleToHost(o,t)}onStyleRemoved(t){const o=this.styleRef;o.get(t)?.elements?.forEach(s=>s.remove()),o.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${PD}="${this.appId}"]`);if(t?.length){const o=new Map;return t.forEach(s=>{null!=s.textContent&&o.set(s.textContent,s)}),o}return null}changeUsageCount(t,o){const s=this.styleRef;if(s.has(t)){const l=s.get(t);return l.usage+=o,l.usage}return s.set(t,{usage:o,elements:[]}),o}getStyleElement(t,o){const s=this.styleNodesInDOM,l=s?.get(o);if(l?.parentNode===t)return s.delete(o),l.removeAttribute(PD),l;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=o,this.platformIsServer&&f.setAttribute(PD,this.appId),f}}addStyleToHost(t,o){const s=this.getStyleElement(t,o);t.appendChild(s);const l=this.styleRef,f=l.get(o)?.elements;f?f.push(s):l.set(o,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(vr),Ee(yd),Ee(Jg,8),Ee(Lu))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();const kD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},FD=/%COMP%/g,Gj=new w("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function xN(e,i){return i.map(t=>t.replace(FD,e))}let LD=(()=>{class e{constructor(t,o,s,l,f,p,m,v=null){this.eventManager=t,this.sharedStylesHost=o,this.appId=s,this.removeStylesOnCompDestroy=l,this.doc=f,this.platformId=p,this.ngZone=m,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=CN(p),this.defaultRenderer=new VD(t,f,m,this.platformIsServer)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===oo.ShadowDom&&(o={...o,encapsulation:oo.Emulated});const s=this.getOrCreateRenderer(t,o);return s instanceof PN?s.applyToHost(t):s instanceof BD&&s.applyStyles(),s}getOrCreateRenderer(t,o){const s=this.rendererByCompId;let l=s.get(o.id);if(!l){const f=this.doc,p=this.ngZone,m=this.eventManager,v=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,C=this.platformIsServer;switch(o.encapsulation){case oo.Emulated:l=new PN(m,v,o,this.appId,b,f,p,C);break;case oo.ShadowDom:return new Zj(m,v,t,o,f,p,this.nonce,C);default:l=new BD(m,v,o,b,f,p,C)}s.set(o.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(MN),Ee(AN),Ee(yd),Ee(Gj),Ee(vr),Ee(Lu),Ee(en),Ee(Jg))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();class VD{constructor(i,t,o,s){this.eventManager=i,this.doc=t,this.ngZone=o,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,t){return t?this.doc.createElementNS(kD[t]||t,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,t){(RN(i)?i.content:i).appendChild(t)}insertBefore(i,t,o){i&&(RN(i)?i.content:i).insertBefore(t,o)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let o="string"==typeof i?this.doc.querySelector(i):i;if(!o)throw new se(-5104,!1);return t||(o.textContent=""),o}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,o,s){if(s){t=s+":"+t;const l=kD[s];l?i.setAttributeNS(l,t,o):i.setAttribute(t,o)}else i.setAttribute(t,o)}removeAttribute(i,t,o){if(o){const s=kD[o];s?i.removeAttributeNS(s,t):i.removeAttribute(`${o}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,o,s){s&(ea.DashCase|ea.Important)?i.style.setProperty(t,o,s&ea.Important?"important":""):i.style[t]=o}removeStyle(i,t,o){o&ea.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,o){i[t]=o}setValue(i,t){i.nodeValue=t}listen(i,t,o){if("string"==typeof i&&!(i=al().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${t}`);return this.eventManager.addEventListener(i,t,this.decoratePreventDefault(o))}decoratePreventDefault(i){return t=>{if("__ngUnwrap__"===t)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(t)):i(t))&&t.preventDefault()}}}function RN(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Zj extends VD{constructor(i,t,o,s,l,f,p,m){super(i,l,f,m),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=xN(s.id,s.styles);for(const b of v){const C=document.createElement("style");p&&C.setAttribute("nonce",p),C.textContent=b,this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,o){return super.insertBefore(this.nodeOrShadowRoot(i),t,o)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class BD extends VD{constructor(i,t,o,s,l,f,p,m){super(i,l,f,p),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=m?xN(m,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class PN extends BD{constructor(i,t,o,s,l,f,p,m){const v=s+"-"+o.id;super(i,t,o,l,f,p,m,v),this.contentAttr=function zj(e){return"_ngcontent-%COMP%".replace(FD,e)}(v),this.hostAttr=function qj(e){return"_nghost-%COMP%".replace(FD,e)}(v)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,t){const o=super.createElement(i,t);return super.setAttribute(o,this.contentAttr,""),o}}let Kj=(()=>{class e extends NN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,s){return t.addEventListener(o,s,!1),()=>this.removeEventListener(t,o,s)}removeEventListener(t,o,s){return t.removeEventListener(o,s)}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(vr))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();const kN=["alt","control","meta","shift"],Qj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yj={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Jj=(()=>{class e extends NN{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,o,s){const l=e.parseEventName(o),f=e.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>al().onAndCancel(t,l.domEventName,f))}static parseEventName(t){const o=t.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;const l=e._normalizeKey(o.pop());let f="",p=o.indexOf("code");if(p>-1&&(o.splice(p,1),f="code."),kN.forEach(v=>{const b=o.indexOf(v);b>-1&&(o.splice(b,1),f+=v+".")}),f+=l,0!=o.length||0===l.length)return null;const m={};return m.domEventName=s,m.fullKey=f,m}static matchEventFullKeyCode(t,o){let s=Qj[t.key]||t.key,l="";return o.indexOf("code.")>-1&&(s=t.code,l="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),kN.forEach(f=>{f!==s&&(0,Yj[f])(t)&&(l+=f+".")}),l+=s,l===o)}static eventCallback(t,o,s){return l=>{e.matchEventFullKeyCode(l,t)&&s.runGuarded(()=>o(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(vr))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();const nU=NM(AV,"browser",[{provide:Lu,useValue:"browser"},{provide:Qg,useValue:function Xj(){xD.makeCurrent()},multi:!0},{provide:vr,useFactory:function tU(){return function dh(e){lh=e}(document),document},deps:[]}]),rU=new w(""),VN=[{provide:Qy,useClass:class Bj{addToWindow(i){Nn.getAngularTestability=(o,s=!0)=>{const l=i.findTestabilityInTree(o,s);if(null==l)throw new se(5103,!1);return l},Nn.getAllAngularTestabilities=()=>i.getAllTestabilities(),Nn.getAllAngularRootElements=()=>i.getAllRootElements(),Nn.frameworkStabilizers||(Nn.frameworkStabilizers=[]),Nn.frameworkStabilizers.push(o=>{const s=Nn.getAllAngularTestabilities();let l=s.length,f=!1;const p=function(m){f=f||m,l--,0==l&&o(f)};s.forEach(m=>{m.whenStable(p)})})}findTestabilityInTree(i,t,o){return null==t?null:i.getTestability(t)??(o?al().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null)}},deps:[]},{provide:EM,useClass:Xw,deps:[en,eD,Qy]},{provide:Xw,useClass:Xw,deps:[en,eD,Qy]}],BN=[{provide:nl,useValue:"root"},{provide:$u,useFactory:function eU(){return new $u},deps:[]},{provide:RD,useClass:Kj,multi:!0,deps:[vr,en,Lu]},{provide:RD,useClass:Jj,multi:!0,deps:[vr]},LD,AN,MN,{provide:_,useExisting:LD},{provide:class hj{},useClass:jj,deps:[]},[]];let Rm=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:yd,useValue:t.appId}]}}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(rU,12))};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({providers:[...BN,...VN],imports:[h0,OV]})}return e})(),jN=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(vr))};static#t=this.\u0275prov=Re({token:e,factory:function(o){let s=null;return s=o?new o:function oU(){return new jN(Ee(vr))}(),s},providedIn:"root"})}return e})();typeof window<"u"&&window;let Pm=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(o){let s=null;return s=o?new(o||e):Ee($N),s},providedIn:"root"})}return e})(),$N=(()=>{class e extends Pm{constructor(t){super(),this._doc=t}sanitize(t,o){if(null==o)return null;switch(t){case yo.NONE:return o;case yo.HTML:return Jo(o,"HTML")?ii(o):fr(this._doc,String(o)).toString();case yo.STYLE:return Jo(o,"Style")?ii(o):o;case yo.SCRIPT:if(Jo(o,"Script"))return ii(o);throw new se(5200,!1);case yo.URL:return Jo(o,"URL")?ii(o):Jc(String(o));case yo.RESOURCE_URL:if(Jo(o,"ResourceURL"))return ii(o);throw new se(5201,!1);default:throw new se(5202,!1)}}bypassSecurityTrustHtml(t){return function P1(e){return new hh(e)}(t)}bypassSecurityTrustStyle(t){return function ph(e){return new iy(e)}(t)}bypassSecurityTrustScript(t){return function ay(e){return new Bg(e)}(t)}bypassSecurityTrustUrl(t){return function uy(e){return new oy(e)}(t)}bypassSecurityTrustResourceUrl(t){return function cy(e){return new jg(e)}(t)}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(vr))};static#t=this.\u0275prov=Re({token:e,factory:function(o){let s=null;return s=o?new o:function cU(e){return new $N(e.get(vr))}(Ee(Gr)),s},providedIn:"root"})}return e})();const{isArray:dU}=Array,{getPrototypeOf:fU,prototype:hU,keys:pU}=Object;function zN(e){if(1===e.length){const i=e[0];if(dU(i))return{args:i,keys:null};if(function gU(e){return e&&"object"==typeof e&&fU(e)===hU}(i)){const t=pU(i);return{args:t.map(o=>i[o]),keys:t}}}return{args:e,keys:null}}const{isArray:mU}=Array;function UD(e){return tt(i=>function _U(e,i){return mU(i)?e(...i):e(i)}(e,i))}function qN(e,i){return e.reduce((t,o,s)=>(t[o]=i[s],t),{})}function HD(...e){const i=U(e),t=H(e),{args:o,keys:s}=zN(e);if(0===o.length)return _t([],i);const l=new lt(function vU(e,i,t=tr){return o=>{WN(i,()=>{const{length:s}=e,l=new Array(s);let f=s,p=s;for(let m=0;m<s;m++)WN(i,()=>{const v=_t(e[m],i);let b=!1;v.subscribe(we(o,C=>{l[m]=C,b||(b=!0,p--),p||o.next(t(l.slice()))},()=>{--f||o.complete()}))},o)},o)}}(o,i,s?f=>qN(s,f):tr));return t?l.pipe(UD(t)):l}function WN(e,i,t){e?Er(t,e,i):i()}const _0=I(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function km(...e){return function yU(){return fn(1)}()(_t(e,U(e)))}function ZN(e){return new lt(i=>{De(e()).subscribe(i)})}function Fm(e,i){const t=je(e)?e:()=>e,o=s=>s.error(t());return new lt(i?s=>i.schedule(o,0,s):o)}function $D(){return pe((e,i)=>{let t=null;e._refCount++;const o=we(i,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const s=e._connection,l=t;t=null,s&&(!l||s===l)&&s.unsubscribe(),i.unsubscribe()});e.subscribe(o),o.closed||(t=e.connect())})}class KN extends lt{constructor(i,t){super(),this.source=i,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ge(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new xt;const t=this.getSubject();i.add(this.source.subscribe(we(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),i.closed&&(this._connection=null,i=xt.EMPTY)}return i}refCount(){return $D()(this)}}function Yi(e){return e<=0?()=>zn:pe((i,t)=>{let o=0;i.subscribe(we(t,s=>{++o<=e&&(t.next(s),e<=o&&t.complete())}))})}function Bi(e,i){return pe((t,o)=>{let s=0;t.subscribe(we(o,l=>e.call(i,l,s++)&&o.next(l)))})}function v0(e){return pe((i,t)=>{let o=!1;i.subscribe(we(t,s=>{o=!0,t.next(s)},()=>{o||t.next(e),t.complete()}))})}function YN(e=bU){return pe((i,t)=>{let o=!1;i.subscribe(we(t,s=>{o=!0,t.next(s)},()=>o?t.complete():t.error(e())))})}function bU(){return new _0}function Fd(e,i){const t=arguments.length>=2;return o=>o.pipe(e?Bi((s,l)=>e(s,l,o)):tr,Yi(1),t?v0(i):YN(()=>new _0))}function Lm(e,i){return je(i)?Mn(e,i,1):Mn(e,1)}function ji(e,i,t){const o=je(e)||i||t?{next:e,error:i,complete:t}:e;return o?pe((s,l)=>{var f;null===(f=o.subscribe)||void 0===f||f.call(o);let p=!0;s.subscribe(we(l,m=>{var v;null===(v=o.next)||void 0===v||v.call(o,m),l.next(m)},()=>{var m;p=!1,null===(m=o.complete)||void 0===m||m.call(o),l.complete()},m=>{var v;p=!1,null===(v=o.error)||void 0===v||v.call(o,m),l.error(m)},()=>{var m,v;p&&(null===(m=o.unsubscribe)||void 0===m||m.call(o)),null===(v=o.finalize)||void 0===v||v.call(o)}))}):tr}function Ld(e){return pe((i,t)=>{let l,o=null,s=!1;o=i.subscribe(we(t,void 0,void 0,f=>{l=De(e(f,Ld(e)(i))),o?(o.unsubscribe(),o=null,l.subscribe(t)):s=!0})),s&&(o.unsubscribe(),o=null,l.subscribe(t))})}function GD(e){return e<=0?()=>zn:pe((i,t)=>{let o=[];i.subscribe(we(t,s=>{o.push(s),e<o.length&&o.shift()},()=>{for(const s of o)t.next(s);t.complete()},void 0,()=>{o=null}))})}function zD(e){return pe((i,t)=>{try{i.subscribe(t)}finally{t.add(e)}})}function Ar(e){return pe((i,t)=>{De(e).subscribe(we(t,()=>t.complete(),Oe)),!t.closed&&i.subscribe(t)})}const Ut="primary",Vm=Symbol("RouteTitle");class EU{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function rp(e){return new EU(e)}function SU(e,i,t){const o=t.path.split("/");if(o.length>e.length||"full"===t.pathMatch&&(i.hasChildren()||o.length<e.length))return null;const s={};for(let l=0;l<o.length;l++){const f=o[l],p=e[l];if(f.startsWith(":"))s[f.substring(1)]=p;else if(f!==p.path)return null}return{consumed:e.slice(0,o.length),posParams:s}}function Ka(e,i){const t=e?Object.keys(e):void 0,o=i?Object.keys(i):void 0;if(!t||!o||t.length!=o.length)return!1;let s;for(let l=0;l<t.length;l++)if(s=t[l],!XN(e[s],i[s]))return!1;return!0}function XN(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;const t=[...e].sort(),o=[...i].sort();return t.every((s,l)=>o[l]===s)}return e===i}function eA(e){return e.length>0?e[e.length-1]:null}function cl(e){return function lU(e){return!!e&&(e instanceof lt||je(e.lift)&&je(e.subscribe))}(e)?e:gm(e)?_t(Promise.resolve(e)):ht(e)}const IU={exact:function rA(e,i,t){if(!Vd(e.segments,i.segments)||!y0(e.segments,i.segments,t)||e.numberOfChildren!==i.numberOfChildren)return!1;for(const o in i.children)if(!e.children[o]||!rA(e.children[o],i.children[o],t))return!1;return!0},subset:iA},tA={exact:function MU(e,i){return Ka(e,i)},subset:function NU(e,i){return Object.keys(i).length<=Object.keys(e).length&&Object.keys(i).every(t=>XN(e[t],i[t]))},ignored:()=>!0};function nA(e,i,t){return IU[t.paths](e.root,i.root,t.matrixParams)&&tA[t.queryParams](e.queryParams,i.queryParams)&&!("exact"===t.fragment&&e.fragment!==i.fragment)}function iA(e,i,t){return oA(e,i,i.segments,t)}function oA(e,i,t,o){if(e.segments.length>t.length){const s=e.segments.slice(0,t.length);return!(!Vd(s,t)||i.hasChildren()||!y0(s,t,o))}if(e.segments.length===t.length){if(!Vd(e.segments,t)||!y0(e.segments,t,o))return!1;for(const s in i.children)if(!e.children[s]||!iA(e.children[s],i.children[s],o))return!1;return!0}{const s=t.slice(0,e.segments.length),l=t.slice(e.segments.length);return!!(Vd(e.segments,s)&&y0(e.segments,s,o)&&e.children[Ut])&&oA(e.children[Ut],i,l,o)}}function y0(e,i,t){return i.every((o,s)=>tA[t](e[s].parameters,o.parameters))}class ip{constructor(i=new Bn([],{}),t={},o=null){this.root=i,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rp(this.queryParams)),this._queryParamMap}toString(){return xU.serialize(this)}}class Bn{constructor(i,t){this.segments=i,this.children=t,this.parent=null,Object.values(t).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return b0(this)}}class Bm{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=rp(this.parameters)),this._parameterMap}toString(){return uA(this)}}function Vd(e,i){return e.length===i.length&&e.every((t,o)=>t.path===i[o].path)}let jm=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return new qD},providedIn:"root"})}return e})();class qD{parse(i){const t=new $U(i);return new ip(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${Um(i.root,!0)}`,o=function kU(e){const i=Object.keys(e).map(t=>{const o=e[t];return Array.isArray(o)?o.map(s=>`${w0(t)}=${w0(s)}`).join("&"):`${w0(t)}=${w0(o)}`}).filter(t=>!!t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${o}${"string"==typeof i.fragment?`#${function RU(e){return encodeURI(e)}(i.fragment)}`:""}`}}const xU=new qD;function b0(e){return e.segments.map(i=>uA(i)).join("/")}function Um(e,i){if(!e.hasChildren())return b0(e);if(i){const t=e.children[Ut]?Um(e.children[Ut],!1):"",o=[];return Object.entries(e.children).forEach(([s,l])=>{s!==Ut&&o.push(`${s}:${Um(l,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function OU(e,i){let t=[];return Object.entries(e.children).forEach(([o,s])=>{o===Ut&&(t=t.concat(i(s,o)))}),Object.entries(e.children).forEach(([o,s])=>{o!==Ut&&(t=t.concat(i(s,o)))}),t}(e,(o,s)=>s===Ut?[Um(e.children[Ut],!1)]:[`${s}:${Um(o,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ut]?`${b0(e)}/${t[0]}`:`${b0(e)}/(${t.join("//")})`}}function sA(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function w0(e){return sA(e).replace(/%3B/gi,";")}function WD(e){return sA(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function D0(e){return decodeURIComponent(e)}function aA(e){return D0(e.replace(/\+/g,"%20"))}function uA(e){return`${WD(e.path)}${function PU(e){return Object.keys(e).map(i=>`;${WD(i)}=${WD(e[i])}`).join("")}(e.parameters)}`}const FU=/^[^\/()?;#]+/;function ZD(e){const i=e.match(FU);return i?i[0]:""}const LU=/^[^\/()?;=#]+/,BU=/^[^=?&#]+/,UU=/^[^&#]+/;class $U{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(o[Ut]=new Bn(i,t)),o}parseSegment(){const i=ZD(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new se(4009,!1);return this.capture(i),new Bm(D0(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=function VU(e){const i=e.match(LU);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const s=ZD(this.remaining);s&&(o=s,this.capture(o))}i[D0(t)]=D0(o)}parseQueryParam(i){const t=function jU(e){const i=e.match(BU);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const f=function HU(e){const i=e.match(UU);return i?i[0]:""}(this.remaining);f&&(o=f,this.capture(o))}const s=aA(t),l=aA(o);if(i.hasOwnProperty(s)){let f=i[s];Array.isArray(f)||(f=[f],i[s]=f),f.push(l)}else i[s]=l}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=ZD(this.remaining),s=this.remaining[o.length];if("/"!==s&&")"!==s&&";"!==s)throw new se(4010,!1);let l;o.indexOf(":")>-1?(l=o.slice(0,o.indexOf(":")),this.capture(l),this.capture(":")):i&&(l=Ut);const f=this.parseChildren();t[l]=1===Object.keys(f).length?f[Ut]:new Bn([],f),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new se(4011,!1)}}function cA(e){return e.segments.length>0?new Bn([],{[Ut]:e}):e}function lA(e){const i={};for(const o of Object.keys(e.children)){const l=lA(e.children[o]);if(o===Ut&&0===l.segments.length&&l.hasChildren())for(const[f,p]of Object.entries(l.children))i[f]=p;else(l.segments.length>0||l.hasChildren())&&(i[o]=l)}return function GU(e){if(1===e.numberOfChildren&&e.children[Ut]){const i=e.children[Ut];return new Bn(e.segments.concat(i.segments),i.children)}return e}(new Bn(e.segments,i))}function Bd(e){return e instanceof ip}function dA(e){let i;const s=cA(function t(l){const f={};for(const m of l.children){const v=t(m);f[m.outlet]=v}const p=new Bn(l.url,f);return l===e&&(i=p),p}(e.root));return i??s}function fA(e,i,t,o){let s=e;for(;s.parent;)s=s.parent;if(0===i.length)return KD(s,s,s,t,o);const l=function qU(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new pA(!0,0,e);let i=0,t=!1;const o=e.reduce((s,l,f)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Object.entries(l.outlets).forEach(([m,v])=>{p[m]="string"==typeof v?v.split("/"):v}),[...s,{outlets:p}]}if(l.segmentPath)return[...s,l.segmentPath]}return"string"!=typeof l?[...s,l]:0===f?(l.split("/").forEach((p,m)=>{0==m&&"."===p||(0==m&&""===p?t=!0:".."===p?i++:""!=p&&s.push(p))}),s):[...s,l]},[]);return new pA(t,i,o)}(i);if(l.toRoot())return KD(s,s,new Bn([],{}),t,o);const f=function WU(e,i,t){if(e.isAbsolute)return new E0(i,!0,0);if(!t)return new E0(i,!1,NaN);if(null===t.parent)return new E0(t,!0,0);const o=C0(e.commands[0])?0:1;return function ZU(e,i,t){let o=e,s=i,l=t;for(;l>s;){if(l-=s,o=o.parent,!o)throw new se(4005,!1);s=o.segments.length}return new E0(o,!1,s-l)}(t,t.segments.length-1+o,e.numberOfDoubleDots)}(l,s,e),p=f.processChildren?$m(f.segmentGroup,f.index,l.commands):gA(f.segmentGroup,f.index,l.commands);return KD(s,f.segmentGroup,p,t,o)}function C0(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Hm(e){return"object"==typeof e&&null!=e&&e.outlets}function KD(e,i,t,o,s){let f,l={};o&&Object.entries(o).forEach(([m,v])=>{l[m]=Array.isArray(v)?v.map(b=>`${b}`):`${v}`}),f=e===i?t:hA(e,i,t);const p=cA(lA(f));return new ip(p,l,s)}function hA(e,i,t){const o={};return Object.entries(e.children).forEach(([s,l])=>{o[s]=l===i?t:hA(l,i,t)}),new Bn(e.segments,o)}class pA{constructor(i,t,o){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=o,i&&o.length>0&&C0(o[0]))throw new se(4003,!1);const s=o.find(Hm);if(s&&s!==eA(o))throw new se(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class E0{constructor(i,t,o){this.segmentGroup=i,this.processChildren=t,this.index=o}}function gA(e,i,t){if(e||(e=new Bn([],{})),0===e.segments.length&&e.hasChildren())return $m(e,i,t);const o=function QU(e,i,t){let o=0,s=i;const l={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(o>=t.length)return l;const f=e.segments[s],p=t[o];if(Hm(p))break;const m=`${p}`,v=o<t.length-1?t[o+1]:null;if(s>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!_A(m,v,f))return l;o+=2}else{if(!_A(m,{},f))return l;o++}s++}return{match:!0,pathIndex:s,commandIndex:o}}(e,i,t),s=t.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){const l=new Bn(e.segments.slice(0,o.pathIndex),{});return l.children[Ut]=new Bn(e.segments.slice(o.pathIndex),e.children),$m(l,0,s)}return o.match&&0===s.length?new Bn(e.segments,{}):o.match&&!e.hasChildren()?QD(e,i,t):o.match?$m(e,0,s):QD(e,i,t)}function $m(e,i,t){if(0===t.length)return new Bn(e.segments,{});{const o=function KU(e){return Hm(e[0])?e[0].outlets:{[Ut]:e}}(t),s={};if(Object.keys(o).some(l=>l!==Ut)&&e.children[Ut]&&1===e.numberOfChildren&&0===e.children[Ut].segments.length){const l=$m(e.children[Ut],i,t);return new Bn(e.segments,l.children)}return Object.entries(o).forEach(([l,f])=>{"string"==typeof f&&(f=[f]),null!==f&&(s[l]=gA(e.children[l],i,f))}),Object.entries(e.children).forEach(([l,f])=>{void 0===o[l]&&(s[l]=f)}),new Bn(e.segments,s)}}function QD(e,i,t){const o=e.segments.slice(0,i);let s=0;for(;s<t.length;){const l=t[s];if(Hm(l)){const m=YU(l.outlets);return new Bn(o,m)}if(0===s&&C0(t[0])){o.push(new Bm(e.segments[i].path,mA(t[0]))),s++;continue}const f=Hm(l)?l.outlets[Ut]:`${l}`,p=s<t.length-1?t[s+1]:null;f&&p&&C0(p)?(o.push(new Bm(f,mA(p))),s+=2):(o.push(new Bm(f,{})),s++)}return new Bn(o,{})}function YU(e){const i={};return Object.entries(e).forEach(([t,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[t]=QD(new Bn([],{}),0,o))}),i}function mA(e){const i={};return Object.entries(e).forEach(([t,o])=>i[t]=`${o}`),i}function _A(e,i,t){return e==t.path&&Ka(i,t.parameters)}const Gm="imperative";class Qa{constructor(i,t){this.id=i,this.url=t}}class S0 extends Qa{constructor(i,t,o="imperative",s=null){super(i,t),this.type=0,this.navigationTrigger=o,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ll extends Qa{constructor(i,t,o){super(i,t),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zm extends Qa{constructor(i,t,o,s){super(i,t),this.reason=o,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class op extends Qa{constructor(i,t,o,s){super(i,t),this.reason=o,this.code=s,this.type=16}}class T0 extends Qa{constructor(i,t,o,s){super(i,t),this.error=o,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vA extends Qa{constructor(i,t,o,s){super(i,t),this.urlAfterRedirects=o,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JU extends Qa{constructor(i,t,o,s){super(i,t),this.urlAfterRedirects=o,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XU extends Qa{constructor(i,t,o,s,l){super(i,t),this.urlAfterRedirects=o,this.state=s,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eH extends Qa{constructor(i,t,o,s){super(i,t),this.urlAfterRedirects=o,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tH extends Qa{constructor(i,t,o,s){super(i,t),this.urlAfterRedirects=o,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nH{constructor(i){this.route=i,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rH{constructor(i){this.route=i,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class iH{constructor(i){this.snapshot=i,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oH{constructor(i){this.snapshot=i,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sH{constructor(i){this.snapshot=i,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aH{constructor(i){this.snapshot=i,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yA{constructor(i,t,o){this.routerEvent=i,this.position=t,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class YD{}class JD{constructor(i){this.url=i}}class uH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qm,this.attachRef=null}}let qm=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,o){const s=this.getOrCreateContext(t);s.outlet=o,this.contexts.set(t,s)}onChildOutletDestroyed(t){const o=this.getContext(t);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let o=this.getContext(t);return o||(o=new uH,this.contexts.set(t,o)),o}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class bA{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=XD(i,this._root);return t?t.children.map(o=>o.value):[]}firstChild(i){const t=XD(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=eC(i,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==i)}pathFromRoot(i){return eC(i,this._root).map(t=>t.value)}}function XD(e,i){if(e===i.value)return i;for(const t of i.children){const o=XD(e,t);if(o)return o}return null}function eC(e,i){if(e===i.value)return[i];for(const t of i.children){const o=eC(e,t);if(o.length)return o.unshift(i),o}return[]}class Qu{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function sp(e){const i={};return e&&e.children.forEach(t=>i[t.value.outlet]=t),i}class wA extends bA{constructor(i,t){super(i),this.snapshot=t,tC(this,i)}toString(){return this.snapshot.toString()}}function DA(e,i){const t=function cH(e,i){const f=new I0([],{},{},"",{},Ut,i,null,{});return new EA("",new Qu(f,[]))}(0,i),o=new xr([new Bm("",{})]),s=new xr({}),l=new xr({}),f=new xr({}),p=new xr(""),m=new ap(o,s,f,p,l,Ut,i,t.root);return m.snapshot=t.root,new wA(new Qu(m,[]),t)}class ap{constructor(i,t,o,s,l,f,p,m){this.urlSubject=i,this.paramsSubject=t,this.queryParamsSubject=o,this.fragmentSubject=s,this.dataSubject=l,this.outlet=f,this.component=p,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(tt(v=>v[Vm]))??ht(void 0),this.url=i,this.params=t,this.queryParams=o,this.fragment=s,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(tt(i=>rp(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(tt(i=>rp(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CA(e,i="emptyOnly"){const t=e.pathFromRoot;let o=0;if("always"!==i)for(o=t.length-1;o>=1;){const s=t[o],l=t[o-1];if(s.routeConfig&&""===s.routeConfig.path)o--;else{if(l.component)break;o--}}return function lH(e){return e.reduce((i,t)=>({params:{...i.params,...t.params},data:{...i.data,...t.data},resolve:{...t.data,...i.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(o))}class I0{get title(){return this.data?.[Vm]}constructor(i,t,o,s,l,f,p,m,v){this.url=i,this.params=t,this.queryParams=o,this.fragment=s,this.data=l,this.outlet=f,this.component=p,this.routeConfig=m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class EA extends bA{constructor(i,t){super(t),this.url=i,tC(this,t)}toString(){return SA(this._root)}}function tC(e,i){i.value._routerState=e,i.children.forEach(t=>tC(e,t))}function SA(e){const i=e.children.length>0?` { ${e.children.map(SA).join(", ")} } `:"";return`${e.value}${i}`}function nC(e){if(e.snapshot){const i=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ka(i.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),i.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Ka(i.params,t.params)||e.paramsSubject.next(t.params),function TU(e,i){if(e.length!==i.length)return!1;for(let t=0;t<e.length;++t)if(!Ka(e[t],i[t]))return!1;return!0}(i.url,t.url)||e.urlSubject.next(t.url),Ka(i.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function rC(e,i){const t=Ka(e.params,i.params)&&function AU(e,i){return Vd(e,i)&&e.every((t,o)=>Ka(t.parameters,i[o].parameters))}(e.url,i.url);return t&&!(!e.parent!=!i.parent)&&(!e.parent||rC(e.parent,i.parent))}let Wm=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ut,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=Ve(qm),this.location=Ve(Ms),this.changeDetector=Ve(Ns),this.environmentInjector=Ve(Mr),this.inputBinder=Ve(M0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:o,previousValue:s}=t.name;if(o)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new se(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new se(4013,!1);this._activatedRoute=t;const s=this.location,f=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,m=new dH(t,p,s.injector);this.activated=s.createComponent(f,{index:s.length,injector:m,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=Pe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fr]})}return e})();class dH{constructor(i,t,o){this.route=i,this.childContexts=t,this.parent=o}get(i,t){return i===ap?this.route:i===qm?this.childContexts:this.parent.get(i,t)}}const M0=new w("");let TA=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:o}=t,s=HD([o.queryParams,o.params,o.data]).pipe(ur(([l,f,p],m)=>(p={...l,...f,...p},0===m?ht(p):Promise.resolve(p)))).subscribe(l=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(t);const f=function $V(e){const i=Xt(e);if(!i)return null;const t=new cm(i);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}(o.component);if(f)for(const{templateName:p}of f.inputs)t.activatedComponentRef.setInput(p,l[p]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();function Zm(e,i,t){if(t&&e.shouldReuseRoute(i.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=i.value;const s=function hH(e,i,t){return i.children.map(o=>{for(const s of t.children)if(e.shouldReuseRoute(o.value,s.value.snapshot))return Zm(e,o,s);return Zm(e,o)})}(e,i,t);return new Qu(o,s)}{if(e.shouldAttach(i.value)){const l=e.retrieve(i.value);if(null!==l){const f=l.route;return f.value._futureSnapshot=i.value,f.children=i.children.map(p=>Zm(e,p)),f}}const o=function pH(e){return new ap(new xr(e.url),new xr(e.params),new xr(e.queryParams),new xr(e.fragment),new xr(e.data),e.outlet,e.component,e)}(i.value),s=i.children.map(l=>Zm(e,l));return new Qu(o,s)}}const iC="ngNavigationCancelingError";function IA(e,i){const{redirectTo:t,navigationBehaviorOptions:o}=Bd(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,s=MA(!1,0,i);return s.url=t,s.navigationBehaviorOptions=o,s}function MA(e,i,t){const o=new Error("NavigationCancelingError: "+(e||""));return o[iC]=!0,o.cancellationCode=i,t&&(o.url=t),o}function NA(e){return e&&e[iC]}let AA=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=$t({type:e,selectors:[["ng-component"]],standalone:!0,features:[Is],decls:1,vars:0,template:function(o,s){1&o&&He(0,"router-outlet")},dependencies:[Wm],encapsulation:2})}return e})();function oC(e){const i=e.children&&e.children.map(oC),t=i?{...e,children:i}:{...e};return!t.component&&!t.loadComponent&&(i||t.loadChildren)&&t.outlet&&t.outlet!==Ut&&(t.component=AA),t}function da(e){return e.outlet||Ut}function Km(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let i=e.parent;i;i=i.parent){const t=i.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class DH{constructor(i,t,o,s,l){this.routeReuseStrategy=i,this.futureState=t,this.currState=o,this.forwardEvent=s,this.inputBindingEnabled=l}activate(i){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,i),nC(this.futureState.root),this.activateChildRoutes(t,o,i)}deactivateChildRoutes(i,t,o){const s=sp(t);i.children.forEach(l=>{const f=l.value.outlet;this.deactivateRoutes(l,s[f],o),delete s[f]}),Object.values(s).forEach(l=>{this.deactivateRouteAndItsChildren(l,o)})}deactivateRoutes(i,t,o){const s=i.value,l=t?t.value:null;if(s===l)if(s.component){const f=o.getContext(s.outlet);f&&this.deactivateChildRoutes(i,t,f.children)}else this.deactivateChildRoutes(i,t,o);else l&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const o=t.getContext(i.value.outlet),s=o&&i.value.component?o.children:t,l=sp(i);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],s);if(o&&o.outlet){const f=o.outlet.detach(),p=o.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:f,route:i,contexts:p})}}deactivateRouteAndOutlet(i,t){const o=t.getContext(i.value.outlet),s=o&&i.value.component?o.children:t,l=sp(i);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],s);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(i,t,o){const s=sp(t);i.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],o),this.forwardEvent(new aH(l.value.snapshot))}),i.children.length&&this.forwardEvent(new oH(i.value.snapshot))}activateRoutes(i,t,o){const s=i.value,l=t?t.value:null;if(nC(s),s===l)if(s.component){const f=o.getOrCreateContext(s.outlet);this.activateChildRoutes(i,t,f.children)}else this.activateChildRoutes(i,t,o);else if(s.component){const f=o.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const p=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),f.children.onOutletReAttached(p.contexts),f.attachRef=p.componentRef,f.route=p.route.value,f.outlet&&f.outlet.attach(p.componentRef,p.route.value),nC(p.route.value),this.activateChildRoutes(i,null,f.children)}else{const p=Km(s.snapshot);f.attachRef=null,f.route=s,f.injector=p,f.outlet&&f.outlet.activateWith(s,f.injector),this.activateChildRoutes(i,null,f.children)}}else this.activateChildRoutes(i,null,o)}}class OA{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class N0{constructor(i,t){this.component=i,this.route=t}}function CH(e,i,t){const o=e._root;return Qm(o,i?i._root:null,t,[o.value])}function up(e,i){const t=Symbol(),o=i.get(e,t);return o===t?"function"!=typeof e||function Ap(e){return null!==lu(e)}(e)?i.get(e):e:o}function Qm(e,i,t,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=sp(i);return e.children.forEach(f=>{(function SH(e,i,t,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=e.value,f=i?i.value:null,p=t?t.getContext(e.value.outlet):null;if(f&&l.routeConfig===f.routeConfig){const m=function TH(e,i,t){if("function"==typeof t)return t(e,i);switch(t){case"pathParamsChange":return!Vd(e.url,i.url);case"pathParamsOrQueryParamsChange":return!Vd(e.url,i.url)||!Ka(e.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rC(e,i)||!Ka(e.queryParams,i.queryParams);default:return!rC(e,i)}}(f,l,l.routeConfig.runGuardsAndResolvers);m?s.canActivateChecks.push(new OA(o)):(l.data=f.data,l._resolvedData=f._resolvedData),Qm(e,i,l.component?p?p.children:null:t,o,s),m&&p&&p.outlet&&p.outlet.isActivated&&s.canDeactivateChecks.push(new N0(p.outlet.component,f))}else f&&Ym(i,p,s),s.canActivateChecks.push(new OA(o)),Qm(e,null,l.component?p?p.children:null:t,o,s)})(f,l[f.value.outlet],t,o.concat([f.value]),s),delete l[f.value.outlet]}),Object.entries(l).forEach(([f,p])=>Ym(p,t.getContext(f),s)),s}function Ym(e,i,t){const o=sp(e),s=e.value;Object.entries(o).forEach(([l,f])=>{Ym(f,s.component?i?i.children.getContext(l):null:i,t)}),t.canDeactivateChecks.push(new N0(s.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,s))}function Jm(e){return"function"==typeof e}function xA(e){return e instanceof _0||"EmptyError"===e?.name}const A0=Symbol("INITIAL_VALUE");function cp(){return ur(e=>HD(e.map(i=>i.pipe(Yi(1),function QN(...e){const i=U(e);return pe((t,o)=>{(i?km(e,t,i):km(e,t)).subscribe(o)})}(A0)))).pipe(tt(i=>{for(const t of i)if(!0!==t){if(t===A0)return A0;if(!1===t||t instanceof ip)return t}return!0}),Bi(i=>i!==A0),Yi(1)))}function RA(e){return function $n(...e){return Ci(e)}(ji(i=>{if(Bd(i))throw IA(0,i)}),tt(i=>!0===i))}class O0{constructor(i){this.segmentGroup=i||null}}class PA{constructor(i){this.urlTree=i}}function lp(e){return Fm(new O0(e))}function kA(e){return Fm(new PA(e))}class qH{constructor(i,t){this.urlSerializer=i,this.urlTree=t}noMatchError(i){return new se(4002,!1)}lineralizeSegments(i,t){let o=[],s=t.root;for(;;){if(o=o.concat(s.segments),0===s.numberOfChildren)return ht(o);if(s.numberOfChildren>1||!s.children[Ut])return Fm(new se(4e3,!1));s=s.children[Ut]}}applyRedirectCommands(i,t,o){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),i,o)}applyRedirectCreateUrlTree(i,t,o,s){const l=this.createSegmentGroup(i,t.root,o,s);return new ip(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const o={};return Object.entries(i).forEach(([s,l])=>{if("string"==typeof l&&l.startsWith(":")){const p=l.substring(1);o[s]=t[p]}else o[s]=l}),o}createSegmentGroup(i,t,o,s){const l=this.createSegments(i,t.segments,o,s);let f={};return Object.entries(t.children).forEach(([p,m])=>{f[p]=this.createSegmentGroup(i,m,o,s)}),new Bn(l,f)}createSegments(i,t,o,s){return t.map(l=>l.path.startsWith(":")?this.findPosParam(i,l,s):this.findOrReturn(l,o))}findPosParam(i,t,o){const s=o[t.path.substring(1)];if(!s)throw new se(4001,!1);return s}findOrReturn(i,t){let o=0;for(const s of t){if(s.path===i.path)return t.splice(o),s;o++}return i}}const sC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WH(e,i,t,o,s){const l=aC(e,i,t);return l.matched?(o=function mH(e,i){return e.providers&&!e._injector&&(e._injector=kw(e.providers,i,`Route: ${e.path}`)),e._injector??i}(i,o),function $H(e,i,t,o){const s=i.canMatch;return s&&0!==s.length?ht(s.map(f=>{const p=up(f,e);return cl(function xH(e){return e&&Jm(e.canMatch)}(p)?p.canMatch(i,t):e.runInContext(()=>p(i,t)))})).pipe(cp(),RA()):ht(!0)}(o,i,t).pipe(tt(f=>!0===f?l:{...sC}))):ht(l)}function aC(e,i,t){if(""===i.path)return"full"===i.pathMatch&&(e.hasChildren()||t.length>0)?{...sC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(i.matcher||SU)(t,e,i);if(!s)return{...sC};const l={};Object.entries(s.posParams??{}).forEach(([p,m])=>{l[p]=m.path});const f=s.consumed.length>0?{...l,...s.consumed[s.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:f,positionalParamSegments:s.posParams??{}}}function FA(e,i,t,o){return t.length>0&&function QH(e,i,t){return t.some(o=>x0(e,i,o)&&da(o)!==Ut)}(e,t,o)?{segmentGroup:new Bn(i,KH(o,new Bn(t,e.children))),slicedSegments:[]}:0===t.length&&function YH(e,i,t){return t.some(o=>x0(e,i,o))}(e,t,o)?{segmentGroup:new Bn(e.segments,ZH(e,0,t,o,e.children)),slicedSegments:t}:{segmentGroup:new Bn(e.segments,e.children),slicedSegments:t}}function ZH(e,i,t,o,s){const l={};for(const f of o)if(x0(e,t,f)&&!s[da(f)]){const p=new Bn([],{});l[da(f)]=p}return{...s,...l}}function KH(e,i){const t={};t[Ut]=i;for(const o of e)if(""===o.path&&da(o)!==Ut){const s=new Bn([],{});t[da(o)]=s}return t}function x0(e,i,t){return(!(e.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}class t4{constructor(i,t,o,s,l,f,p){this.injector=i,this.configLoader=t,this.rootComponentType=o,this.config=s,this.urlTree=l,this.paramsInheritanceStrategy=f,this.urlSerializer=p,this.allowRedirects=!0,this.applyRedirects=new qH(this.urlSerializer,this.urlTree)}noMatchError(i){return new se(4002,!1)}recognize(){const i=FA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,i,Ut).pipe(Ld(t=>{if(t instanceof PA)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof O0?this.noMatchError(t):t}),tt(t=>{const o=new I0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ut,this.rootComponentType,null,{}),s=new Qu(o,t),l=new EA("",s),f=function zU(e,i,t=null,o=null){return fA(dA(e),i,t,o)}(o,[],this.urlTree.queryParams,this.urlTree.fragment);return f.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(f),this.inheritParamsAndData(l._root),{state:l,tree:f}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i.root,Ut).pipe(Ld(o=>{throw o instanceof O0?this.noMatchError(o):o}))}inheritParamsAndData(i){const t=i.value,o=CA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),i.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(i,t,o,s){return 0===o.segments.length&&o.hasChildren()?this.processChildren(i,t,o):this.processSegment(i,t,o,o.segments,s,!0)}processChildren(i,t,o){const s=[];for(const l of Object.keys(o.children))"primary"===l?s.unshift(l):s.push(l);return _t(s).pipe(Lm(l=>{const f=o.children[l],p=function bH(e,i){const t=e.filter(o=>da(o)===i);return t.push(...e.filter(o=>da(o)!==i)),t}(t,l);return this.processSegmentGroup(i,p,f,l)}),function DU(e,i){return pe(function wU(e,i,t,o,s){return(l,f)=>{let p=t,m=i,v=0;l.subscribe(we(f,b=>{const C=v++;m=p?e(m,b,C):(p=!0,b),o&&f.next(m)},s&&(()=>{p&&f.next(m),f.complete()})))}}(e,i,arguments.length>=2,!0))}((l,f)=>(l.push(...f),l)),v0(null),function CU(e,i){const t=arguments.length>=2;return o=>o.pipe(e?Bi((s,l)=>e(s,l,o)):tr,GD(1),t?v0(i):YN(()=>new _0))}(),Mn(l=>{if(null===l)return lp(o);const f=LA(l);return function n4(e){e.sort((i,t)=>i.value.outlet===Ut?-1:t.value.outlet===Ut?1:i.value.outlet.localeCompare(t.value.outlet))}(f),ht(f)}))}processSegment(i,t,o,s,l,f){return _t(t).pipe(Lm(p=>this.processSegmentAgainstRoute(p._injector??i,t,p,o,s,l,f).pipe(Ld(m=>{if(m instanceof O0)return ht(null);throw m}))),Fd(p=>!!p),Ld(p=>{if(xA(p))return function XH(e,i,t){return 0===i.length&&!e.children[t]}(o,s,l)?ht([]):lp(o);throw p}))}processSegmentAgainstRoute(i,t,o,s,l,f,p){return function JH(e,i,t,o){return!!(da(e)===o||o!==Ut&&x0(i,t,e))&&("**"===e.path||aC(i,e,t).matched)}(o,s,l,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(i,s,o,l,f,p):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,s,t,o,l,f):lp(s):lp(s)}expandSegmentAgainstRouteUsingRedirect(i,t,o,s,l,f){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,o,s,f):this.expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,s,l,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,t,o,s){const l=this.applyRedirects.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?kA(l):this.applyRedirects.lineralizeSegments(o,l).pipe(Mn(f=>{const p=new Bn(f,{});return this.processSegment(i,t,p,f,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,s,l,f){const{matched:p,consumedSegments:m,remainingSegments:v,positionalParamSegments:b}=aC(t,s,l);if(!p)return lp(t);const C=this.applyRedirects.applyRedirectCommands(m,s.redirectTo,b);return s.redirectTo.startsWith("/")?kA(C):this.applyRedirects.lineralizeSegments(s,C).pipe(Mn(S=>this.processSegment(i,o,t,S.concat(v),f,!1)))}matchSegmentAgainstRoute(i,t,o,s,l,f){let p;if("**"===o.path){const m=s.length>0?eA(s).parameters:{};p=ht({snapshot:new I0(s,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VA(o),da(o),o.component??o._loadedComponent??null,o,BA(o)),consumedSegments:[],remainingSegments:[]}),t.children={}}else p=WH(t,o,s,i).pipe(tt(({matched:m,consumedSegments:v,remainingSegments:b,parameters:C})=>m?{snapshot:new I0(v,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VA(o),da(o),o.component??o._loadedComponent??null,o,BA(o)),consumedSegments:v,remainingSegments:b}:null));return p.pipe(ur(m=>null===m?lp(t):this.getChildConfig(i=o._injector??i,o,s).pipe(ur(({routes:v})=>{const b=o._loadedInjector??i,{snapshot:C,consumedSegments:S,remainingSegments:M}=m,{segmentGroup:P,slicedSegments:j}=FA(t,S,M,v);if(0===j.length&&P.hasChildren())return this.processChildren(b,v,P).pipe(tt(ie=>null===ie?null:[new Qu(C,ie)]));if(0===v.length&&0===j.length)return ht([new Qu(C,[])]);const K=da(o)===l;return this.processSegment(b,v,P,j,K?Ut:l,!0).pipe(tt(ie=>[new Qu(C,ie)]))}))))}getChildConfig(i,t,o){return t.children?ht({routes:t.children,injector:i}):t.loadChildren?void 0!==t._loadedRoutes?ht({routes:t._loadedRoutes,injector:t._loadedInjector}):function HH(e,i,t,o){const s=i.canLoad;return void 0===s||0===s.length?ht(!0):ht(s.map(f=>{const p=up(f,e);return cl(function MH(e){return e&&Jm(e.canLoad)}(p)?p.canLoad(i,t):e.runInContext(()=>p(i,t)))})).pipe(cp(),RA())}(i,t,o).pipe(Mn(s=>s?this.configLoader.loadChildren(i,t).pipe(ji(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function zH(e){return Fm(MA(!1,3))}())):ht({routes:[],injector:i})}}function r4(e){const i=e.value.routeConfig;return i&&""===i.path}function LA(e){const i=[],t=new Set;for(const o of e){if(!r4(o)){i.push(o);continue}const s=i.find(l=>o.value.routeConfig===l.value.routeConfig);void 0!==s?(s.children.push(...o.children),t.add(s)):i.push(o)}for(const o of t){const s=LA(o.children);i.push(new Qu(o.value,s))}return i.filter(o=>!t.has(o))}function VA(e){return e.data||{}}function BA(e){return e.resolve||{}}function o4(e,i){return Mn(t=>{const{targetSnapshot:o,guards:{canActivateChecks:s}}=t;if(!s.length)return ht(t);let l=0;return _t(s).pipe(Lm(f=>function s4(e,i,t,o){const s=e.routeConfig,l=e._resolve;return void 0!==s?.title&&!jA(s)&&(l[Vm]=s.title),function a4(e,i,t,o){const s=function u4(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===s.length)return ht({});const l={};return _t(s).pipe(Mn(f=>function c4(e,i,t,o){const s=Km(i)??o,l=up(e,s);return cl(l.resolve?l.resolve(i,t):s.runInContext(()=>l(i,t)))}(e[f],i,t,o).pipe(Fd(),ji(p=>{l[f]=p}))),GD(1),function JN(e){return tt(()=>e)}(l),Ld(f=>xA(f)?zn:Fm(f)))}(l,e,i,o).pipe(tt(f=>(e._resolvedData=f,e.data=CA(e,t).resolve,s&&jA(s)&&(e.data[Vm]=s.title),null)))}(f.route,o,e,i)),ji(()=>l++),GD(1),Mn(f=>l===s.length?ht(t):zn))})}function jA(e){return"string"==typeof e.title||null===e.title}function uC(e){return ur(i=>{const t=e(i);return t?_t(t).pipe(tt(()=>i)):ht(i)})}const dp=new w("ROUTES");let cC=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ve(bM)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ht(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const o=cl(t.loadComponent()).pipe(tt(UA),ji(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),zD(()=>{this.componentLoaders.delete(t)})),s=new KN(o,()=>new q).pipe($D());return this.componentLoaders.set(t,s),s}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return ht({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const l=function l4(e,i,t,o){return cl(e.loadChildren()).pipe(tt(UA),Mn(s=>s instanceof NI||Array.isArray(s)?ht(s):_t(i.compileModuleAsync(s))),tt(s=>{o&&o(e);let l,f,p=!1;return Array.isArray(s)?(f=s,!0):(l=s.create(t).injector,f=l.get(dp,[],{optional:!0,self:!0}).flat()),{routes:f.map(oC),injector:l}}))}(o,this.compiler,t,this.onLoadEndListener).pipe(zD(()=>{this.childrenLoaders.delete(o)})),f=new KN(l,()=>new q).pipe($D());return this.childrenLoaders.set(o,f),f}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function UA(e){return function d4(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let R0=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new q,this.transitionAbortSubject=new q,this.configLoader=Ve(cC),this.environmentInjector=Ve(Mr),this.urlSerializer=Ve(jm),this.rootContexts=Ve(qm),this.inputBindingEnabled=null!==Ve(M0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ht(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new rH(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new nH(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:o})}setupNavigations(t,o,s){return this.transitions=new xr({id:0,currentUrlTree:o,currentRawUrl:o,currentBrowserUrl:o,extractedUrl:t.urlHandlingStrategy.extract(o),urlAfterRedirects:t.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gm,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bi(l=>0!==l.id),tt(l=>({...l,extractedUrl:t.urlHandlingStrategy.extract(l.rawUrl)})),ur(l=>{this.currentTransition=l;let f=!1,p=!1;return ht(l).pipe(ji(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ur(m=>{const v=m.currentBrowserUrl.toString(),b=!t.navigated||m.extractedUrl.toString()!==v||v!==m.currentUrlTree.toString();if(!b&&"reload"!==(m.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new op(m.id,this.urlSerializer.serialize(m.rawUrl),S,0)),m.resolve(null),zn}if(t.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return ht(m).pipe(ur(S=>{const M=this.transitions?.getValue();return this.events.next(new S0(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),M!==this.transitions?.getValue()?zn:Promise.resolve(S)}),function i4(e,i,t,o,s,l){return Mn(f=>function e4(e,i,t,o,s,l,f="emptyOnly"){return new t4(e,i,t,o,s,f,l).recognize()}(e,i,t,o,f.extractedUrl,s,l).pipe(tt(({state:p,tree:m})=>({...f,targetSnapshot:p,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ji(S=>{l.targetSnapshot=S.targetSnapshot,l.urlAfterRedirects=S.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects};const M=new vA(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(M)}));if(b&&t.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:S,extractedUrl:M,source:P,restoredState:j,extras:K}=m,ie=new S0(S,this.urlSerializer.serialize(M),P,j);this.events.next(ie);const W=DA(0,this.rootComponentType).snapshot;return this.currentTransition=l={...m,targetSnapshot:W,urlAfterRedirects:M,extras:{...K,skipLocationChange:!1,replaceUrl:!1}},ht(l)}{const S="";return this.events.next(new op(m.id,this.urlSerializer.serialize(m.extractedUrl),S,1)),m.resolve(null),zn}}),ji(m=>{const v=new JU(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),tt(m=>(this.currentTransition=l={...m,guards:CH(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},l)),function PH(e,i){return Mn(t=>{const{targetSnapshot:o,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:f}}=t;return 0===f.length&&0===l.length?ht({...t,guardsResult:!0}):function kH(e,i,t,o){return _t(e).pipe(Mn(s=>function UH(e,i,t,o,s){const l=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return l&&0!==l.length?ht(l.map(p=>{const m=Km(i)??s,v=up(p,m);return cl(function OH(e){return e&&Jm(e.canDeactivate)}(v)?v.canDeactivate(e,i,t,o):m.runInContext(()=>v(e,i,t,o))).pipe(Fd())})).pipe(cp()):ht(!0)}(s.component,s.route,t,i,o)),Fd(s=>!0!==s,!0))}(f,o,s,e).pipe(Mn(p=>p&&function IH(e){return"boolean"==typeof e}(p)?function FH(e,i,t,o){return _t(i).pipe(Lm(s=>km(function VH(e,i){return null!==e&&i&&i(new iH(e)),ht(!0)}(s.route.parent,o),function LH(e,i){return null!==e&&i&&i(new sH(e)),ht(!0)}(s.route,o),function jH(e,i,t){const o=i[i.length-1],l=i.slice(0,i.length-1).reverse().map(f=>function EH(e){const i=e.routeConfig?e.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:e,guards:i}:null}(f)).filter(f=>null!==f).map(f=>ZN(()=>ht(f.guards.map(m=>{const v=Km(f.node)??t,b=up(m,v);return cl(function AH(e){return e&&Jm(e.canActivateChild)}(b)?b.canActivateChild(o,e):v.runInContext(()=>b(o,e))).pipe(Fd())})).pipe(cp())));return ht(l).pipe(cp())}(e,s.path,t),function BH(e,i,t){const o=i.routeConfig?i.routeConfig.canActivate:null;if(!o||0===o.length)return ht(!0);const s=o.map(l=>ZN(()=>{const f=Km(i)??t,p=up(l,f);return cl(function NH(e){return e&&Jm(e.canActivate)}(p)?p.canActivate(i,e):f.runInContext(()=>p(i,e))).pipe(Fd())}));return ht(s).pipe(cp())}(e,s.route,t))),Fd(s=>!0!==s,!0))}(o,l,e,i):ht(p)),tt(p=>({...t,guardsResult:p})))})}(this.environmentInjector,m=>this.events.next(m)),ji(m=>{if(l.guardsResult=m.guardsResult,Bd(m.guardsResult))throw IA(0,m.guardsResult);const v=new XU(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(v)}),Bi(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),uC(m=>{if(m.guards.canActivateChecks.length)return ht(m).pipe(ji(v=>{const b=new eH(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(b)}),ur(v=>{let b=!1;return ht(v).pipe(o4(t.paramsInheritanceStrategy,this.environmentInjector),ji({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(v,"",2)}}))}),ji(v=>{const b=new tH(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(b)}))}),uC(m=>{const v=b=>{const C=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(b.routeConfig).pipe(ji(S=>{b.component=S}),tt(()=>{})));for(const S of b.children)C.push(...v(S));return C};return HD(v(m.targetSnapshot.root)).pipe(v0(),Yi(1))}),uC(()=>this.afterPreactivation()),tt(m=>{const v=function fH(e,i,t){const o=Zm(e,i._root,t?t._root:void 0);return new wA(o,i)}(t.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=l={...m,targetRouterState:v},l}),ji(()=>{this.events.next(new YD)}),((e,i,t,o)=>tt(s=>(new DH(i,s.targetRouterState,s.currentRouterState,t,o).activate(e),s)))(this.rootContexts,t.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Yi(1),ji({next:m=>{f=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ll(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),t.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{f=!0}}),Ar(this.transitionAbortSubject.pipe(ji(m=>{throw m}))),zD(()=>{f||p||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),Ld(m=>{if(p=!0,NA(m))this.events.next(new zm(l.id,this.urlSerializer.serialize(l.extractedUrl),m.message,m.cancellationCode)),function gH(e){return NA(e)&&Bd(e.url)}(m)?this.events.next(new JD(m.url)):l.resolve(!1);else{this.events.next(new T0(l.id,this.urlSerializer.serialize(l.extractedUrl),m,l.targetSnapshot??void 0));try{l.resolve(t.errorHandler(m))}catch(v){l.reject(v)}}return zn}))}))}cancelNavigationTransition(t,o,s){const l=new zm(t.id,this.urlSerializer.serialize(t.extractedUrl),o,s);this.events.next(l),t.resolve(!1)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function HA(e){return e!==Gm}let $A=(()=>{class e{buildTitle(t){let o,s=t.root;for(;void 0!==s;)o=this.getResolvedTitleForRoute(s)??o,s=s.children.find(l=>l.outlet===Ut);return o}getResolvedTitleForRoute(t){return t.data[Vm]}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return Ve(f4)},providedIn:"root"})}return e})(),f4=(()=>{class e extends $A{constructor(t){super(),this.title=t}updateTitle(t){const o=this.buildTitle(t);void 0!==o&&this.title.setTitle(o)}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(jN))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),h4=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return Ve(g4)},providedIn:"root"})}return e})();class p4{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}let g4=(()=>{class e extends p4{static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=Hn(e)))(s||e)}}();static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const P0=new w("",{providedIn:"root",factory:()=>({})});let m4=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return Ve(_4)},providedIn:"root"})}return e})(),_4=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,o){return t}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xm=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Xm||{});function GA(e,i){e.events.pipe(Bi(t=>t instanceof ll||t instanceof zm||t instanceof T0||t instanceof op),tt(t=>t instanceof ll||t instanceof op?Xm.COMPLETE:t instanceof zm&&(0===t.code||1===t.code)?Xm.REDIRECTING:Xm.FAILED),Bi(t=>t!==Xm.REDIRECTING),Yi(1)).subscribe(()=>{i()})}function v4(e){throw e}function y4(e,i,t){return i.parse("/")}const b4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},w4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zr=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ve(vM),this.isNgZoneEnabled=!1,this._events=new q,this.options=Ve(P0,{optional:!0})||{},this.pendingTasks=Ve(yM),this.errorHandler=this.options.errorHandler||v4,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||y4,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ve(m4),this.routeReuseStrategy=Ve(h4),this.titleStrategy=Ve($A),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ve(dp,{optional:!0})?.flat()??[],this.navigationTransitions=Ve(R0),this.urlSerializer=Ve(jm),this.location=Ve(pD),this.componentInputBindingEnabled=!!Ve(M0,{optional:!0}),this.eventsSubscription=new xt,this.isNgZoneEnabled=Ve(en)instanceof en&&en.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ip,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=DA(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(o=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(zA(o)&&this._events.next(o));if(o instanceof S0)HA(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(o instanceof op)this.rawUrlTree=s.rawUrl;else if(o instanceof vA){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(l,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(o instanceof YD)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(o instanceof zm)0!==o.code&&1!==o.code&&(this.navigated=!0),(3===o.code||2===o.code)&&this.restoreHistory(s);else if(o instanceof JD){const l=this.urlHandlingStrategy.merge(o.url,s.currentRawUrl),f={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||HA(s.source)};this.scheduleNavigation(l,Gm,null,f,{resolve:s.resolve,reject:s.reject,promise:s.promise})}o instanceof T0&&this.restoreHistory(s,!0),o instanceof ll&&(this.navigated=!0),zA(o)&&this._events.next(o)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gm,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,o,t.state)},0)}))}navigateToSyncWithBrowser(t,o,s){const l={replaceUrl:!0},f=s?.navigationId?s:null;if(s){const m={...s};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(l.state=m)}const p=this.parseUrl(t);this.scheduleNavigation(p,o,f,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(oC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,o={}){const{relativeTo:s,queryParams:l,fragment:f,queryParamsHandling:p,preserveFragment:m}=o,v=m?this.currentUrlTree.fragment:f;let C,b=null;switch(p){case"merge":b={...this.currentUrlTree.queryParams,...l};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=l||null}null!==b&&(b=this.removeEmptyProps(b));try{C=dA(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),C=this.currentUrlTree.root}return fA(C,t,b,v??null)}navigateByUrl(t,o={skipLocationChange:!1}){const s=Bd(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,Gm,null,o)}navigate(t,o={skipLocationChange:!1}){return function D4(e){for(let i=0;i<e.length;i++)if(null==e[i])throw new se(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(s){o=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return o}isActive(t,o){let s;if(s=!0===o?{...b4}:!1===o?{...w4}:o,Bd(t))return nA(this.currentUrlTree,t,s);const l=this.parseUrl(t);return nA(this.currentUrlTree,l,s)}removeEmptyProps(t){return Object.keys(t).reduce((o,s)=>{const l=t[s];return null!=l&&(o[s]=l),o},{})}scheduleNavigation(t,o,s,l,f){if(this.disposed)return Promise.resolve(!1);let p,m,v;f?(p=f.resolve,m=f.reject,v=f.promise):v=new Promise((C,S)=>{p=C,m=S});const b=this.pendingTasks.add();return GA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:l,resolve:p,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(C=>Promise.reject(C))}setBrowserUrl(t,o){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||o.extras.replaceUrl){const f={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(s,"",f)}else{const l={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(s,"",l)}}restoreHistory(t,o=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zA(e){return!(e instanceof YD||e instanceof JD)}let e_=(()=>{class e{constructor(t,o,s,l,f,p){this.router=t,this.route=o,this.tabIndexAttribute=s,this.renderer=l,this.el=f,this.locationStrategy=p,this.href=null,this.commands=null,this.onChanges=new q,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const m=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof ll&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,o,s,l,f){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||o||s||l||f||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function $g(e,i,t){return function my(e,i){return"src"===i&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===i&&("base"===e||"link"===e)?Va:$r}(i,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,o){const s=this.renderer,l=this.el.nativeElement;null!==o?s.setAttribute(l,t,o):s.removeAttribute(l,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(o){return new(o||e)(B(Zr),B(ap),function Oa(e){return function Iu(e,i){if("class"===i)return e.classes;if("style"===i)return e.styles;const t=e.attrs;if(t){const o=t.length;let s=0;for(;s<o;){const l=t[s];if(xp(l))break;if(0===l)s+=2;else if("number"==typeof l)for(s++;s<o&&"string"==typeof t[s];)s++;else{if(l===i)return t[s+1];s+=2}}}return null}(Br(),e)}("tabindex"),B(y),B(h),B(kd))};static#t=this.\u0275dir=Pe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(o,s){1&o&&Te("click",function(f){return s.onClick(f.button,f.ctrlKey,f.shiftKey,f.altKey,f.metaKey)}),2&o&&En("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ep],skipLocationChange:["skipLocationChange","skipLocationChange",ep],replaceUrl:["replaceUrl","replaceUrl",ep],routerLink:"routerLink"},standalone:!0,features:[GS,Fr]})}return e})(),lC=(()=>{class e{get isActive(){return this._isActive}constructor(t,o,s,l,f){this.router=t,this.element=o,this.renderer=s,this.cdr=l,this.link=f,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ke,this.routerEventsSubscription=t.events.subscribe(p=>{p instanceof ll&&this.update()})}ngAfterContentInit(){ht(this.links.changes,ht(null)).pipe(fn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=_t(t).pipe(fn()).subscribe(o=>{this._isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(t){const o=Array.isArray(t)?t:t.split(" ");this.classes=o.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(o=>{t?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const o=function C4(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&t.isActive(s.urlTree,o)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(o){return new(o||e)(B(Zr),B(h),B(y),B(Ns),B(e_,8))};static#t=this.\u0275dir=Pe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(o,s,l){if(1&o&&function _r(e,i,t,o){const s=rn();if(s.firstCreatePass){const l=Br();eM(s,new YI(i,t,o),l.index),function p3(e,i){const t=e.contentQueries||(e.contentQueries=[]);i!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,i)}(s,e),2==(2&t)&&(s.staticContentQueries=!0)}XI(s,me(),t)}(l,e_,5),2&o){let f;Ln(f=Vn())&&(s.links=f)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Fr]})}return e})();class qA{}let E4=(()=>{class e{constructor(t,o,s,l,f){this.router=t,this.injector=s,this.preloadingStrategy=l,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(Bi(t=>t instanceof ll),Lm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const s=[];for(const l of o){l.providers&&!l._injector&&(l._injector=kw(l.providers,t,`Route: ${l.path}`));const f=l._injector??t,p=l._loadedInjector??f;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&s.push(this.preloadConfig(f,l)),(l.children||l._loadedRoutes)&&s.push(this.processRoutes(p,l.children??l._loadedRoutes))}return _t(s).pipe(fn())}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>{let s;s=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(t,o):ht(null);const l=s.pipe(Mn(f=>null===f?ht(void 0):(o._loadedRoutes=f.routes,o._loadedInjector=f.injector,this.processRoutes(f.injector??t,f.routes))));return o.loadComponent&&!o._loadedComponent?_t([l,this.loader.loadComponent(o)]).pipe(fn()):l})}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(Zr),Ee(bM),Ee(Mr),Ee(qA),Ee(cC))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const dC=new w("");let WA=(()=>{class e{constructor(t,o,s,l,f={}){this.urlSerializer=t,this.transitions=o,this.viewportScroller=s,this.zone=l,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof S0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ll?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof op&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){!function _S(){throw new Error("invalid")}()};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();function Yu(e,i){return{\u0275kind:e,\u0275providers:i}}function KA(){const e=Ve(Gr);return i=>{const t=e.get(qu);if(i!==t.components[0])return;const o=e.get(Zr),s=e.get(QA);1===e.get(fC)&&o.initialNavigation(),e.get(YA,null,At.Optional)?.setUpPreloading(),e.get(dC,null,At.Optional)?.init(),o.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const QA=new w("",{factory:()=>new q}),fC=new w("",{providedIn:"root",factory:()=>1}),YA=new w("");function M4(e){return Yu(0,[{provide:YA,useExisting:E4},{provide:qA,useExisting:e}])}const JA=new w("ROUTER_FORROOT_GUARD"),A4=[pD,{provide:jm,useClass:qD},Zr,qm,{provide:ap,useFactory:function ZA(e){return e.routerState.root},deps:[Zr]},cC,[]];function O4(){return new IM("Router",Zr)}let jd=(()=>{class e{constructor(t){}static forRoot(t,o){return{ngModule:e,providers:[A4,[],{provide:dp,multi:!0,useValue:t},{provide:JA,useFactory:k4,deps:[[Zr,new Jl,new Xl]]},{provide:P0,useValue:o||{}},o?.useHash?{provide:kd,useClass:ZV}:{provide:kd,useClass:rN},{provide:dC,useFactory:()=>{const e=Ve(lj),i=Ve(en),t=Ve(P0),o=Ve(R0),s=Ve(jm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new WA(s,o,e,i,t)}},o?.preloadingStrategy?M4(o.preloadingStrategy).\u0275providers:[],{provide:IM,multi:!0,useFactory:O4},o?.initialNavigation?F4(o):[],o?.bindToComponentInputs?Yu(8,[TA,{provide:M0,useExisting:TA}]).\u0275providers:[],[{provide:XA,useFactory:KA},{provide:rD,multi:!0,useExisting:XA}]]}}static forChild(t){return{ngModule:e,providers:[{provide:dp,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(JA,8))};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})();function k4(e){return"guarded"}function F4(e){return["disabled"===e.initialNavigation?Yu(3,[{provide:Kw,multi:!0,useFactory:()=>{const i=Ve(Zr);return()=>{i.setUpLocationChangeListener()}}},{provide:fC,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Yu(2,[{provide:fC,useValue:0},{provide:Kw,multi:!0,deps:[Gr],useFactory:i=>{const t=i.get(qV,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const s=i.get(Zr),l=i.get(QA);GA(s,()=>{o(!0)}),i.get(R0).afterPreactivation=()=>(o(!0),l.closed?ht(void 0):l),s.initialNavigation()}))}}]).\u0275providers:[]]}const XA=new w(""),V4=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"**",redirectTo:"notFound"}];let B4=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({imports:[jd.forRoot(V4),jd]})}return e})(),j4=(()=>{class e{constructor(){this.title="zezo-admin"}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(o,s){1&o&&He(0,"router-outlet")},dependencies:[Wm]})}return e})(),eO=(()=>{class e{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(o){return new(o||e)(B(y),B(h))};static#t=this.\u0275dir=Pe({type:e})}return e})(),Ud=(()=>{class e extends eO{static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=Hn(e)))(s||e)}}();static#t=this.\u0275dir=Pe({type:e,features:[xn]})}return e})();const xs=new w("NgValueAccessor"),H4={provide:xs,useExisting:Pt(()=>hC),multi:!0};let hC=(()=>{class e extends Ud{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=Hn(e)))(s||e)}}();static#t=this.\u0275dir=Pe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(o,s){1&o&&Te("change",function(f){return s.onChange(f.target.checked)})("blur",function(){return s.onTouched()})},features:[Zn([H4]),xn]})}return e})();const $4={provide:xs,useExisting:Pt(()=>Ju),multi:!0},z4=new w("CompositionEventMode");let Ju=(()=>{class e extends eO{constructor(t,o,s){super(t,o),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function G4(){const e=al()?al().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(o){return new(o||e)(B(y),B(h),B(z4,8))};static#t=this.\u0275dir=Pe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,s){1&o&&Te("input",function(f){return s._handleInput(f.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(f){return s._compositionEnd(f.target.value)})},features:[Zn([$4]),xn]})}return e})();function dl(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function tO(e){return null!=e&&"number"==typeof e.length}const Ji=new w("NgValidators"),fl=new w("NgAsyncValidators"),q4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class si{static min(i){return function nO(e){return i=>{if(dl(i.value)||dl(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t<e?{min:{min:e,actual:i.value}}:null}}(i)}static max(i){return function rO(e){return i=>{if(dl(i.value)||dl(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t>e?{max:{max:e,actual:i.value}}:null}}(i)}static required(i){return iO(i)}static requiredTrue(i){return function oO(e){return!0===e.value?null:{required:!0}}(i)}static email(i){return function sO(e){return dl(e.value)||q4.test(e.value)?null:{email:!0}}(i)}static minLength(i){return function aO(e){return i=>dl(i.value)||!tO(i.value)?null:i.value.length<e?{minlength:{requiredLength:e,actualLength:i.value.length}}:null}(i)}static maxLength(i){return function uO(e){return i=>tO(i.value)&&i.value.length>e?{maxlength:{requiredLength:e,actualLength:i.value.length}}:null}(i)}static pattern(i){return function cO(e){if(!e)return k0;let i,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),i=new RegExp(t)):(t=e.toString(),i=e),o=>{if(dl(o.value))return null;const s=o.value;return i.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(i)}static nullValidator(i){return null}static compose(i){return gO(i)}static composeAsync(i){return mO(i)}}function iO(e){return dl(e.value)?{required:!0}:null}function k0(e){return null}function lO(e){return null!=e}function dO(e){return gm(e)?_t(e):e}function fO(e){let i={};return e.forEach(t=>{i=null!=t?{...i,...t}:i}),0===Object.keys(i).length?null:i}function hO(e,i){return i.map(t=>t(e))}function pO(e){return e.map(i=>function W4(e){return!e.validate}(i)?i:t=>i.validate(t))}function gO(e){if(!e)return null;const i=e.filter(lO);return 0==i.length?null:function(t){return fO(hO(t,i))}}function pC(e){return null!=e?gO(pO(e)):null}function mO(e){if(!e)return null;const i=e.filter(lO);return 0==i.length?null:function(t){return function U4(...e){const i=H(e),{args:t,keys:o}=zN(e),s=new lt(l=>{const{length:f}=t;if(!f)return void l.complete();const p=new Array(f);let m=f,v=f;for(let b=0;b<f;b++){let C=!1;De(t[b]).subscribe(we(l,S=>{C||(C=!0,v--),p[b]=S},()=>m--,void 0,()=>{(!m||!C)&&(v||l.next(o?qN(o,p):p),l.complete())}))}});return i?s.pipe(UD(i)):s}(hO(t,i).map(dO)).pipe(tt(fO))}}function gC(e){return null!=e?mO(pO(e)):null}function _O(e,i){return null===e?[i]:Array.isArray(e)?[...e,i]:[e,i]}function vO(e){return e._rawValidators}function yO(e){return e._rawAsyncValidators}function mC(e){return e?Array.isArray(e)?e:[e]:[]}function F0(e,i){return Array.isArray(e)?e.includes(i):e===i}function bO(e,i){const t=mC(i);return mC(e).forEach(s=>{F0(t,s)||t.push(s)}),t}function wO(e,i){return mC(i).filter(t=>!F0(e,t))}class DO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=pC(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=gC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,t){return!!this.control&&this.control.hasError(i,t)}getError(i,t){return this.control?this.control.getError(i,t):null}}class Do extends DO{get formDirective(){return null}get path(){return null}}class hl extends DO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class CO{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hd=(()=>{class e extends CO{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||e)(B(hl,2))};static#t=this.\u0275dir=Pe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,s){2&o&&sn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[xn]})}return e})(),$d=(()=>{class e extends CO{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||e)(B(Do,10))};static#t=this.\u0275dir=Pe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,s){2&o&&sn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[xn]})}return e})();const t_="VALID",V0="INVALID",fp="PENDING",n_="DISABLED";function yC(e){return(B0(e)?e.validators:e)||null}function bC(e,i){return(B0(i)?i.asyncValidators:e)||null}function B0(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function SO(e,i,t){const o=e.controls;if(!(i?Object.keys(o):o).length)throw new se(1e3,"");if(!o[t])throw new se(1001,"")}function TO(e,i,t){e._forEachChild((o,s)=>{if(void 0===t[s])throw new se(1002,"")})}class j0{constructor(i,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===t_}get invalid(){return this.status===V0}get pending(){return this.status==fp}get disabled(){return this.status===n_}get enabled(){return this.status!==n_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(bO(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(bO(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(wO(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(wO(i,this._rawAsyncValidators))}hasValidator(i){return F0(this._rawValidators,i)}hasAsyncValidator(i){return F0(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=fp,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=n_,this.errors=null,this._forEachChild(o=>{o.disable({...i,onlySelf:!0})}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:t}),this._onDisabledChange.forEach(o=>o(!0))}enable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=t_,this._forEachChild(o=>{o.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:t}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===t_||this.status===fp)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?n_:t_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=fp,this._hasOwnPendingAsyncValidator=!0;const t=dO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,t={}){this.errors=i,this._updateControlsErrors(!1!==t.emitEvent)}get(i){let t=i;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((o,s)=>o&&o._find(s),this)}getError(i,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[i]:null}hasError(i,t){return!!this.getError(i,t)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?n_:this.errors?V0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fp)?fp:this._anyControlsHaveStatus(V0)?V0:t_}_anyControlsHaveStatus(i){return this._anyControls(t=>t.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){B0(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=function Y4(e){return Array.isArray(e)?pC(e):e||null}(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=function J4(e){return Array.isArray(e)?gC(e):e||null}(this._rawAsyncValidators)}}class r_ extends j0{constructor(i,t,o){super(yC(t),bC(o,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,t){return this.controls[i]?this.controls[i]:(this.controls[i]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(i,t,o={}){this.registerControl(i,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(i,t,o={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],t&&this.registerControl(i,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,t={}){TO(this,0,i),Object.keys(i).forEach(o=>{SO(this,!0,o),this.controls[o].setValue(i[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(Object.keys(i).forEach(o=>{const s=this.controls[o];s&&s.patchValue(i[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i={},t={}){this._forEachChild((o,s)=>{o.reset(i?i[s]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(i,t,o)=>(i[o]=t.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&i(o,t)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const[t,o]of Object.entries(this.controls))if(this.contains(t)&&i(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,o,s)=>((o.enabled||this.disabled)&&(t[s]=o.value),t))}_reduceChildren(i,t){let o=i;return this._forEachChild((s,l)=>{o=t(o,s,l)}),o}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}}class IO extends r_{}const Gd=new w("CallSetDisabledState",{providedIn:"root",factory:()=>i_}),i_="always";function o_(e,i,t=i_){wC(e,i),i.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&i.valueAccessor.setDisabledState?.(e.disabled),function e$(e,i){i.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&MO(e,i)})}(e,i),function n$(e,i){const t=(o,s)=>{i.valueAccessor.writeValue(o),s&&i.viewToModelUpdate(o)};e.registerOnChange(t),i._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,i),function t$(e,i){i.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&MO(e,i),"submit"!==e.updateOn&&e.markAsTouched()})}(e,i),function X4(e,i){if(i.valueAccessor.setDisabledState){const t=o=>{i.valueAccessor.setDisabledState(o)};e.registerOnDisabledChange(t),i._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,i)}function H0(e,i,t=!0){const o=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(o),i.valueAccessor.registerOnTouched(o)),G0(e,i),e&&(i._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function $0(e,i){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(i)})}function wC(e,i){const t=vO(e);null!==i.validator?e.setValidators(_O(t,i.validator)):"function"==typeof t&&e.setValidators([t]);const o=yO(e);null!==i.asyncValidator?e.setAsyncValidators(_O(o,i.asyncValidator)):"function"==typeof o&&e.setAsyncValidators([o]);const s=()=>e.updateValueAndValidity();$0(i._rawValidators,s),$0(i._rawAsyncValidators,s)}function G0(e,i){let t=!1;if(null!==e){if(null!==i.validator){const s=vO(e);if(Array.isArray(s)&&s.length>0){const l=s.filter(f=>f!==i.validator);l.length!==s.length&&(t=!0,e.setValidators(l))}}if(null!==i.asyncValidator){const s=yO(e);if(Array.isArray(s)&&s.length>0){const l=s.filter(f=>f!==i.asyncValidator);l.length!==s.length&&(t=!0,e.setAsyncValidators(l))}}}const o=()=>{};return $0(i._rawValidators,o),$0(i._rawAsyncValidators,o),t}function MO(e,i){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function OO(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}function xO(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const zd=class extends j0{constructor(i=null,t,o){super(yC(t),bC(o,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=xO(i)?i.value:i)}setValue(i,t={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(i,t={}){this.setValue(i,t)}reset(i=this.defaultValue,t={}){this._applyFormState(i),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){OO(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){OO(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){xO(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};let qd=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=Pe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const d$={provide:xs,useExisting:Pt(()=>z0),multi:!0};let z0=(()=>{class e extends Ud{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=o=>{t(""==o?null:parseFloat(o))}}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=Hn(e)))(s||e)}}();static#t=this.\u0275dir=Pe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(o,s){1&o&&Te("input",function(f){return s.onChange(f.target.value)})("blur",function(){return s.onTouched()})},features:[Zn([d$]),xn]})}return e})(),LO=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})();const TC=new w("NgModelWithFormControlWarning"),m$={provide:Do,useExisting:Pt(()=>Xu)};let Xu=(()=>{class e extends Do{constructor(t,o,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ke,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(G0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const o=this.form.get(t.path);return o_(o,t,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){H0(t.control||null,t,!1),function s$(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,function AO(e,i){e._syncPendingControls(),i.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const o=t.control,s=this.form.get(t.path);o!==s&&(H0(o||null,t),(e=>e instanceof zd)(s)&&(o_(s,t,this.callSetDisabledState),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const o=this.form.get(t.path);(function NO(e,i){wC(e,i)})(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const o=this.form.get(t.path);o&&function r$(e,i){return G0(e,i)}(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wC(this.form,this),this._oldForm&&G0(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(o){return new(o||e)(B(Ji,10),B(fl,10),B(Gd,8))};static#t=this.\u0275dir=Pe({type:e,selectors:[["","formGroup",""]],hostBindings:function(o,s){1&o&&Te("submit",function(f){return s.onSubmit(f)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zn([m$]),xn,Fr]})}return e})();const y$={provide:hl,useExisting:Pt(()=>pl)};let pl=(()=>{class e extends hl{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,o,s,l,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.name=null,this.update=new Ke,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(o),this._setAsyncValidators(s),this.valueAccessor=function EC(e,i){if(!i)return null;let t,o,s;return Array.isArray(i),i.forEach(l=>{l.constructor===Ju?t=l:function o$(e){return Object.getPrototypeOf(e.constructor)===Ud}(l)?o=l:s=l}),s||o||t||null}(0,l)}ngOnChanges(t){this._added||this._setUpControl(),function CC(e,i){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(i,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function U0(e,i){return[...i.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(o){return new(o||e)(B(Do,13),B(Ji,10),B(fl,10),B(xs,10),B(TC,8))};static#n=this.\u0275dir=Pe({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Zn([y$]),xn,Fr]})}return e})();const b$={provide:xs,useExisting:Pt(()=>q0),multi:!0};function HO(e,i){return null==e?`${i}`:(i&&"object"==typeof i&&(i="Object"),`${e}: ${i}`.slice(0,50))}let q0=(()=>{class e extends Ud{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const s=HO(this._getOptionId(t),t);this.setProperty("value",s)}registerOnChange(t){this.onChange=o=>{this.value=this._getOptionValue(o),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o),t))return o;return null}_getOptionValue(t){const o=function w$(e){return e.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o):t}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=Hn(e)))(s||e)}}();static#t=this.\u0275dir=Pe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(o,s){1&o&&Te("change",function(f){return s.onChange(f.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zn([b$]),xn]})}return e})(),a_=(()=>{class e{constructor(t,o,s){this._element=t,this._renderer=o,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(HO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(o){return new(o||e)(B(h),B(y),B(q0,9))};static#t=this.\u0275dir=Pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();const D$={provide:xs,useExisting:Pt(()=>NC),multi:!0};function $O(e,i){return null==e?`${i}`:("string"==typeof i&&(i=`'${i}'`),i&&"object"==typeof i&&(i="Object"),`${e}: ${i}`.slice(0,50))}let NC=(()=>{class e extends Ud{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let o;if(this.value=t,Array.isArray(t)){const s=t.map(l=>this._getOptionId(l));o=(l,f)=>{l._setSelected(s.indexOf(f.toString())>-1)}}else o=(s,l)=>{s._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(t){this.onChange=o=>{const s=[],l=o.selectedOptions;if(void 0!==l){const f=l;for(let p=0;p<f.length;p++){const v=this._getOptionValue(f[p].value);s.push(v)}}else{const f=o.options;for(let p=0;p<f.length;p++){const m=f[p];if(m.selected){const v=this._getOptionValue(m.value);s.push(v)}}}this.value=s,t(s)}}_registerOption(t){const o=(this._idCounter++).toString();return this._optionMap.set(o,t),o}_getOptionId(t){for(const o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o)._value,t))return o;return null}_getOptionValue(t){const o=function C$(e){return e.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o)._value:t}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=Hn(e)))(s||e)}}();static#t=this.\u0275dir=Pe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(o,s){1&o&&Te("change",function(f){return s.onChange(f.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zn([D$]),xn]})}return e})(),u_=(()=>{class e{constructor(t,o,s){this._element=t,this._renderer=o,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue($O(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue($O(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(o){return new(o||e)(B(h),B(y),B(NC,9))};static#t=this.\u0275dir=Pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})(),Wd=(()=>{class e{constructor(){this._validator=k0}ngOnChanges(t){if(this.inputName in t){const o=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):k0,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=Pe({type:e,features:[Fr]})}return e})();const T$={provide:Ji,useExisting:Pt(()=>W0),multi:!0};let W0=(()=>{class e extends Wd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ep,this.createValidator=t=>iO}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=Hn(e)))(s||e)}}();static#t=this.\u0275dir=Pe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(o,s){2&o&&En("required",s._enabled?"":null)},inputs:{required:"required"},features:[Zn([T$]),xn]})}return e})(),XO=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({imports:[LO]})}return e})();class ex extends j0{constructor(i,t,o){super(yC(t),bC(o,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[this._adjustIndex(i)]}push(i,t={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(i,t,o={}){this.controls.splice(i,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(i,t={}){let o=this._adjustIndex(i);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(i,t,o={}){let s=this._adjustIndex(i);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),t&&(this.controls.splice(s,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,t={}){TO(this,0,i),i.forEach((o,s)=>{SO(this,!1,s),this.at(s).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(i.forEach((o,s)=>{this.at(s)&&this.at(s).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i=[],t={}){this._forEachChild((o,s)=>{o.reset(i[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((t,o)=>{i(t,o)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(t=>t.enabled&&i(t))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}}function tx(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let hp=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,o=null){const s=this._reduceControls(t);let l={};return tx(o)?l=o:null!==o&&(l.validators=o.validator,l.asyncValidators=o.asyncValidator),new r_(s,l)}record(t,o=null){const s=this._reduceControls(t);return new IO(s,o)}control(t,o,s){let l={};return this.useNonNullable?(tx(o)?l=o:(l.validators=o,l.asyncValidators=s),new zd(t,{...l,nonNullable:!0})):new zd(t,o,s)}array(t,o,s){const l=t.map(f=>this._createControl(f));return new ex(l,o,s)}_reduceControls(t){const o={};return Object.keys(t).forEach(s=>{o[s]=this._createControl(t[s])}),o}_createControl(t){return t instanceof zd||t instanceof j0?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),c_=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Gd,useValue:t.callSetDisabledState??i_}]}}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({imports:[XO]})}return e})(),AC=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:TC,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Gd,useValue:t.callSetDisabledState??i_}]}}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({imports:[XO]})}return e})(),nx=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({imports:[Rm,AC,h0,c_,jd,Rm,c_]})}return e})();function x$(e,i){1&e&&(A(0,"div",17),He(1,"i",18),k(2," This is required"),O())}function R$(e,i){1&e&&(A(0,"div",17),He(1,"i",18),k(2," Email only "),O())}function P$(e,i){1&e&&(A(0,"div",17),He(1,"i",18),k(2," This is required "),O())}const rx=function(e,i){return{"is-invalid":e,"is-valid":i}};let ix=(()=>{class e{constructor(t,o){this.formbuilder=t,this.router=o,this.loginFormSubmitted=!1,this.isLoginFailed=!1,this.authMessage=""}ngOnInit(){this.form=this.formbuilder.group({email:new zd("",[si.required,si.email]),password:new zd("",[si.required])})}get lf(){return this.form.controls}login(){if(this.loginFormSubmitted=!0,!this.form.invalid){if("zezo_email@gmail.com"!==this.form.value.email||"zezo@app@123"!==this.form.value.password)return;this.router.navigate(["admin/pages/home"])}}static#e=this.\u0275fac=function(o){return new(o||e)(B(hp),B(Zr))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-login"]],decls:25,vars:12,consts:[[1,"login"],[1,"row"],[1,"col-md-6","p-0"],[1,"overlay"],["src","../../../../assets/zezo.png","alt",""],[1,"h-100","d-flex","align-items-center","justify-content-center","w-100"],[1,"box","w-75"],[3,"formGroup"],[1,"mb-4","form-group"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email","required","",1,"form-control",3,"ngClass"],["class","help-block mt-1 text-danger",4,"ngIf"],[1,"mb-3","form-group"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1","formControlName","password","required","",1,"form-control",3,"ngClass"],[1,"login-btn","d-flex","justify-content-center"],["type","submit",1,"btn","btn-success",3,"click"],[1,"help-block","mt-1","text-danger"],[1,"ft-alert-circle","align-middle"]],template:function(o,s){1&o&&(A(0,"div",0)(1,"div",1)(2,"div",2),He(3,"div",3)(4,"img",4),O(),A(5,"div",2)(6,"div",5)(7,"div",6)(8,"h2"),k(9,"Login "),O(),A(10,"form",7)(11,"div",8)(12,"label",9),k(13,"Email address"),O(),He(14,"input",10),de(15,x$,3,0,"div",11),de(16,R$,3,0,"div",11),O(),A(17,"div",12)(18,"label",13),k(19,"Password"),O(),He(20,"input",14),de(21,P$,3,0,"div",11),O(),A(22,"div",15)(23,"button",16),Te("click",function(){return s.login()}),k(24,"Login"),O()()()()()()()()),2&o&&(V(10),X("formGroup",s.form),V(4),X("ngClass",Nd(6,rx,s.loginFormSubmitted&&s.lf.email.invalid,s.loginFormSubmitted&&!s.lf.email.invalid)),V(1),X("ngIf",s.loginFormSubmitted&&s.lf.email.invalid&&s.lf.email.errors.required),V(1),X("ngIf",s.loginFormSubmitted&&s.lf.email.invalid&&(null==s.lf.email.errors?null:s.lf.email.errors.email)),V(4),X("ngClass",Nd(9,rx,s.loginFormSubmitted&&s.lf.password.invalid,s.loginFormSubmitted&&!s.lf.password.invalid)),V(1),X("ngIf",s.loginFormSubmitted&&(s.lf.password.invalid||s.lf.password.errors.required)))},dependencies:[qd,Ju,Hd,$d,W0,Xu,pl,Am,yr],styles:["*[_ngcontent-%COMP%]{font-family:cursive}.login[_ngcontent-%COMP%]{position:absolute;inset:0}.login[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1.5px solid grey}.login[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100vh}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{z-index:5;width:30%;padding:50px 20px;border:1px solid #ddd;border-radius:15px;box-shadow:0 2px 5px #ca25104d}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#bc1059}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 100px;margin-top:13px;font-size:20px;font-weight:700}"]})}return e})(),k$=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-failed"]],decls:4,vars:0,consts:[[1,"failed"],["src","assets/failed.png","alt","","width","200","height","200"],[1,"my-3"]],template:function(o,s){1&o&&(A(0,"div",0),He(1,"img",1),A(2,"h3",2),k(3,"Something went wrong, try again later"),O()())},styles:[".failed[_ngcontent-%COMP%]{text-align:center;margin-top:200px}"]})}return e})();const F$=["addListener","removeListener"],L$=["addEventListener","removeEventListener"],V$=["on","off"];function Xi(e,i,t,o){if(je(t)&&(o=t,t=void 0),o)return Xi(e,i,t).pipe(UD(o));const[s,l]=function U$(e){return je(e.addEventListener)&&je(e.removeEventListener)}(e)?L$.map(f=>p=>e[f](i,p,t)):function B$(e){return je(e.addListener)&&je(e.removeListener)}(e)?F$.map(ox(e,i)):function j$(e){return je(e.on)&&je(e.off)}(e)?V$.map(ox(e,i)):[];if(!s&&an(e))return Mn(f=>Xi(f,i,t))(De(e));if(!s)throw new TypeError("Invalid event target");return new lt(f=>{const p=(...m)=>f.next(1<m.length?m:m[0]);return s(p),()=>l(p)})}function ox(e,i){return t=>o=>e[t](i,o)}class H$ extends xt{constructor(i,t){super()}schedule(i,t=0){return this}}const Z0={setInterval(e,i,...t){const{delegate:o}=Z0;return o?.setInterval?o.setInterval(e,i,...t):setInterval(e,i,...t)},clearInterval(e){const{delegate:i}=Z0;return(i?.clearInterval||clearInterval)(e)},delegate:void 0},sx={now:()=>(sx.delegate||Date).now(),delegate:void 0};class l_{constructor(i,t=l_.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,o){return new this.schedulerActionCtor(this,i).schedule(o,t)}}l_.now=sx.now;const z$=new class G$ extends l_{constructor(i,t=l_.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let o;this._active=!0;do{if(o=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,o){for(;i=t.shift();)i.unsubscribe();throw o}}}(class $$ extends H${constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var o;if(this.closed)return this;this.state=i;const s=this.id,l=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(l,s,t)),this.pending=!0,this.delay=t,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(l,this.id,t),this}requestAsyncId(i,t,o=0){return Z0.setInterval(i.flush.bind(i,this),o)}recycleAsyncId(i,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;null!=t&&Z0.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(i,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let s,o=!1;try{this.work(i)}catch(l){o=!0,s=l||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,nt(o,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}});const{isArray:W$}=Array;function cx(e){return 1===e.length&&W$(e[0])?e[0]:e}function OC(...e){const i=H(e),t=cx(e);return t.length?new lt(o=>{let s=t.map(()=>[]),l=t.map(()=>!1);o.add(()=>{s=l=null});for(let f=0;!o.closed&&f<t.length;f++)De(t[f]).subscribe(we(o,p=>{if(s[f].push(p),s.every(m=>m.length)){const m=s.map(v=>v.shift());o.next(i?i(...m):m),s.some((v,b)=>!v.length&&l[b])&&o.complete()}},()=>{l[f]=!0,!s[f].length&&o.complete()}));return()=>{s=l=null}}):zn}function xC(...e){const i=H(e);return pe((t,o)=>{const s=e.length,l=new Array(s);let f=e.map(()=>!1),p=!1;for(let m=0;m<s;m++)De(e[m]).subscribe(we(o,v=>{l[m]=v,!p&&!f[m]&&(f[m]=!0,(p=f.every(tr))&&(f=null))},Oe));t.subscribe(we(o,m=>{if(p){const v=[m,...l];o.next(i?i(...v):v)}}))})}Math,Math,Math;const S5=["*"],t8=["dialog"];function Qd(e){return"string"==typeof e}function Yd(e){return null!=e}function yp(e){return(e||document.body).getBoundingClientRect()}const Hx={animation:!0,transitionTimerDelayMs:5},W8=()=>{},{transitionTimerDelayMs:Z8}=Hx,v_=new Map,Vo=(e,i,t,o)=>{let s=o.context||{};const l=v_.get(i);if(l)switch(o.runningTransition){case"continue":return zn;case"stop":e.run(()=>l.transition$.complete()),s=Object.assign(l.context,s),v_.delete(i)}const f=t(i,o.animation,s)||W8;if(!o.animation||"none"===window.getComputedStyle(i).transitionProperty)return e.run(()=>f()),ht(void 0).pipe(function z8(e){return i=>new lt(t=>i.subscribe({next:f=>e.run(()=>t.next(f)),error:f=>e.run(()=>t.error(f)),complete:()=>e.run(()=>t.complete())}))}(e));const p=new q,m=new q,v=p.pipe(function K$(...e){return i=>km(i,ht(...e))}(!0));v_.set(i,{transition$:p,complete:()=>{m.next(),m.complete()},context:s});const b=function q8(e){const{transitionDelay:i,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(i)+parseFloat(t))}(i);return e.runOutsideAngular(()=>{const C=Xi(i,"transitionend").pipe(Ar(v),Bi(({target:M})=>M===i));(function lx(...e){return 1===(e=cx(e)).length?De(e[0]):new lt(function Z$(e){return i=>{let t=[];for(let o=0;t&&!i.closed&&o<e.length;o++)t.push(De(e[o]).subscribe(we(i,s=>{if(t){for(let l=0;l<t.length;l++)l!==o&&t[l].unsubscribe();t=null}i.next(s)})))}}(e))})(function ux(e=0,i,t=z$){let o=-1;return null!=i&&(To(i)?t=i:o=i),new lt(s=>{let l=function q$(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;l<0&&(l=0);let f=0;return t.schedule(function(){s.closed||(s.next(f++),0<=o?this.schedule(void 0,o):s.complete())},l)})}(b+Z8).pipe(Ar(v)),C,m).pipe(Ar(v)).subscribe(()=>{v_.delete(i),e.run(()=>{f(),p.next(),p.complete()})})}),p.asObservable()};let nb=(()=>{class e{constructor(){this.animation=Hx.animation}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yx=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),Jx=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),tR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),nR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})();var Kn=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(Kn||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const cR=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function lR(e){const i=Array.from(e.querySelectorAll(cR)).filter(t=>-1!==t.tabIndex);return[i[0],i[i.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let CR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),TR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})();class nf{constructor(i,t,o){this.nodes=i,this.viewRef=t,this.componentRef=o}}let W6=(()=>{class e{constructor(t,o){this._el=t,this._zone=o}ngOnInit(){this._zone.onStable.asObservable().pipe(Yi(1)).subscribe(()=>{Vo(this._zone,this._el.nativeElement,(t,o)=>{o&&yp(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Vo(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(o){return new(o||e)(B(h),B(en))};static#t=this.\u0275cmp=$t({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(o,s){2&o&&(Td("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),sn("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Is],decls:0,vars:0,template:function(o,s){},encapsulation:2})}return e})();class IR{update(i){}close(i){}dismiss(i){}}const Z6=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],K6=["animation","backdropClass"];class Q6{_applyWindowOptions(i,t){Z6.forEach(o=>{Yd(t[o])&&(i[o]=t[o])})}_applyBackdropOptions(i,t){K6.forEach(o=>{Yd(t[o])&&(i[o]=t[o])})}update(i){this._applyWindowOptions(this._windowCmptRef.instance,i),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,i)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ar(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ar(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(i,t,o,s){this._windowCmptRef=i,this._contentRef=t,this._backdropCmptRef=o,this._beforeDismiss=s,this._closed=new q,this._dismissed=new q,this._hidden=new q,i.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,f)=>{this._resolve=l,this._reject=f}),this.result.then(null,()=>{})}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Bx(e){return e&&e.then}(t)?!1!==t&&this._dismiss(i):t.then(o=>{!1!==o&&this._dismiss(i)},()=>{})}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ht(void 0);i.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),OC(i,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var sE=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(sE||{});let Y6=(()=>{class e{constructor(t,o,s){this._document=t,this._elRef=o,this._zone=s,this._closed$=new q,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ke,this.shown=new q,this.hidden=new q}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Qd(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Yi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,o={animation:this.animation,runningTransition:"stop"},f=OC(Vo(this._zone,t,()=>t.classList.remove("show"),o),Vo(this._zone,this._dialogEl.nativeElement,()=>{},o));return f.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),f}_show(){const t={animation:this.animation,runningTransition:"continue"};OC(Vo(this._zone,this._elRef.nativeElement,(l,f)=>{f&&yp(l),l.classList.add("show")},t),Vo(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Xi(t,"keydown").pipe(Ar(this._closed$),Bi(s=>s.which===Kn.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(sE.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;Xi(this._dialogEl.nativeElement,"mousedown").pipe(Ar(this._closed$),ji(()=>o=!1),ur(()=>Xi(t,"mouseup").pipe(Ar(this._closed$),Yi(1))),Bi(({target:s})=>t===s)).subscribe(()=>{o=!0}),Xi(t,"click").pipe(Ar(this._closed$)).subscribe(({target:s})=>{t===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(sE.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const o=t.querySelector("[ngbAutofocus]"),s=lR(t)[0];(o||s||t).focus()}}_restoreFocus(){const t=this._document.body,o=this._elWithFocus;let s;s=o&&o.focus&&t.contains(o)?o:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Vo(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(o){return new(o||e)(B(vr),B(h),B(en))};static#t=this.\u0275cmp=$t({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(o,s){if(1&o&&function Rd(e,i,t){const o=rn();o.firstCreatePass&&(eM(o,new YI(e,i,t),-1),2==(2&i)&&(o.staticViewQueries=!0)),XI(o,me(),i)}(t8,7),2&o){let l;Ln(l=Vn())&&(s._dialogEl=l.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(o,s){2&o&&(En("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),Td("modal d-block"+(s.windowClass?" "+s.windowClass:"")),sn("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Is],ngContentSelectors:S5,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(o,s){1&o&&(function hT(e){const i=me()[qn][fi];if(!i.projection){const o=i.projection=Kl(e?e.length:1,null),s=o.slice();let l=i.child;for(;null!==l;){const f=e?L2(l,e):0;null!==f&&(s[f]?s[f].projectionNext=l:o[f]=l,s[f]=l),l=l.next}}}(),A(0,"div",0,1)(2,"div",2),function pT(e,i=0,t){const o=me(),s=rn(),l=Bh(s,it+e,16,null,t||null);null===l.projection&&(l.projection=i),Qp(),(!o[Pr]||yu())&&32!=(32&l.flags)&&function x1(e,i,t){Qv(i[St],0,i,t,Og(e,t,i),Zv(t.parent||i[fi],t,i))}(s,o,l)}(3),O()()),2&o&&Td("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return e})(),J6=(()=>{class e{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,s=o.style,{overflow:l,paddingRight:f}=s;if(t>0){const p=parseFloat(window.getComputedStyle(o).paddingRight);s.paddingRight=`${p+t}px`}return s.overflow="hidden",()=>{t>0&&(s.paddingRight=f),s.overflow=l}}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(vr))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),X6=(()=>{class e{constructor(t,o,s,l,f,p,m){this._applicationRef=t,this._injector=o,this._environmentInjector=s,this._document=l,this._scrollBar=f,this._rendererFactory=p,this._ngZone=m,this._activeWindowCmptHasChanged=new q,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Ke,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((e,i,t,o=!1)=>{e.runOutsideAngular(()=>{const s=Xi(i,"focusin").pipe(Ar(t),tt(l=>l.target));Xi(i,"keydown").pipe(Ar(t),Bi(l=>l.which===Kn.Tab),xC(s)).subscribe(([l,f])=>{const[p,m]=lR(i);(f===p||f===i)&&l.shiftKey&&(m.focus(),l.preventDefault()),f===m&&!l.shiftKey&&(p.focus(),l.preventDefault())}),o&&Xi(i,"click").pipe(Ar(t),xC(s),tt(l=>l[1])).subscribe(l=>l.focus())})})(this._ngZone,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,o,s){const l=s.container instanceof HTMLElement?s.container:Yd(s.container)?this._document.querySelector(s.container):this._document.body,f=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const p=new IR,m=(t=s.injector||t).get(Mr,null)||this._environmentInjector,v=this._getContentRef(t,m,o,p,s);let b=!1!==s.backdrop?this._attachBackdrop(l):void 0,C=this._attachWindowComponent(l,v.nodes),S=new Q6(C,v,b,s.beforeDismiss);return this._registerModalRef(S),this._registerWindowCmpt(C),S.hidden.pipe(Yi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),p.close=M=>{S.close(M)},p.dismiss=M=>{S.dismiss(M)},p.update=M=>{S.update(M)},S.update(s),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),b&&b.instance&&b.changeDetectorRef.detectChanges(),C.changeDetectorRef.detectChanges(),S}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(o=>o.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let o=lD(W6,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_attachWindowComponent(t,o){let s=lD(Y6,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:o});return this._applicationRef.attachView(s.hostView),t.appendChild(s.location.nativeElement),s}_getContentRef(t,o,s,l,f){return s?s instanceof mr?this._createFromTemplateRef(s,l):Qd(s)?this._createFromString(s):this._createFromComponent(t,o,s,l,f):new nf([])}_createFromTemplateRef(t,o){const l=t.createEmbeddedView({$implicit:o,close(f){o.close(f)},dismiss(f){o.dismiss(f)}});return this._applicationRef.attachView(l),new nf([l.rootNodes],l)}_createFromString(t){const o=this._document.createTextNode(`${t}`);return new nf([[o]])}_createFromComponent(t,o,s,l,f){const m=lD(s,{environmentInjector:o,elementInjector:Gr.create({providers:[{provide:IR,useValue:l}],parent:t})}),v=m.location.nativeElement;return f.scrollable&&v.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new nf([[v]],m.hostView,m)}_setAriaHidden(t){const o=t.parentElement;o&&t!==this._document.body&&(Array.from(o.children).forEach(s=>{s!==t&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,o)=>{t?o.setAttribute("aria-hidden",t):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const o=()=>{const s=this._modalRefs.indexOf(t);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(o,o)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const o=this._windowCmpts.indexOf(t);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(qu),Ee(Gr),Ee(Mr),Ee(vr),Ee(J6),Ee(_),Ee(en))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ez=(()=>{class e{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(nb))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Co=(()=>{class e{constructor(t,o,s){this._injector=t,this._modalStack=o,this._config=s}open(t,o={}){const s={...this._config,animation:this._config.animation,...o};return this._modalStack.open(this._injector,t,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(Gr),Ee(X6),Ee(ez))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),MR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({providers:[Co]})}return e})(),OR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),BR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),jR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),UR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),HR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),$R=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),GR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),zR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),qR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})();new w("live announcer delay",{providedIn:"root",factory:function gz(){return 100}});let WR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),ZR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({})}return e})();const _z=[Yx,Jx,tR,nR,CR,TR,MR,OR,ZR,BR,jR,UR,HR,$R,GR,zR,qR,WR];let vz=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({imports:[_z,Yx,Jx,tR,nR,CR,TR,MR,OR,ZR,BR,jR,UR,HR,$R,GR,zR,qR,WR]})}return e})(),gb=(()=>{class e{constructor(t){this.modalService=t,this.title=""}closeModal(){this.modalService.dismissAll()}deleteItem(){}static#e=this.\u0275fac=function(o){return new(o||e)(B(Co))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-delete-modal"]],inputs:{title:"title",deleteItem:"deleteItem"},decls:12,vars:1,consts:[[1,"modal-header"],[1,"modal-title","text-dark","text-bold-300"],[1,"row","justify-content-md-center","mb-2","item"],["type","submit",1,"btn","btn-success","matches-list-clear","glow","mb-0","mr-5",3,"click"],[1,"ft-check"],["type","submit",1,"btn","btn-success","matches-list-clear","glow","mb-0",3,"click"]],template:function(o,s){1&o&&(A(0,"div",0)(1,"h4",1),k(2),O()(),A(3,"p"),k(4,"Are you sure for delete this item!"),O(),A(5,"div",2)(6,"button",3),Te("click",function(){return s.deleteItem()}),He(7,"i",4),k(8," Delete "),O(),A(9,"button",5),Te("click",function(){return s.closeModal()}),He(10,"i",4),k(11," Cancel "),O()()),2&o&&(V(2),or(" Delete ",s.title," "))},styles:["p[_ngcontent-%COMP%]{text-align:center;font-size:20x;padding:18px 0}.item[_ngcontent-%COMP%]{border-top:1px solid rgb(224,224,224);padding-top:10px}button[_ngcontent-%COMP%]{width:100px;margin-left:20px}"]})}return e})();const Cp=Bt(301);class tc{static init(i){return Cp.default.initializeApp(i),[]}static getFirestore(){return Cp.default.firestore()}static _getFirestore(){return Cp.default.firestore}static getAuth(){return Cp.default.auth()}static getStorage(){return Cp.default.storage()}static getFirestoreTimestamp(){return Cp.default.firestore.Timestamp.now()}}Bt(677);class Eo{constructor(){this.listeners=new Map}appendArray(i){return tc._getFirestore().FieldValue.arrayUnion(i)}increment(i){return tc._getFirestore().FieldValue.increment(i)}genDocId(){return tc.getFirestore().collection("TEMP").doc().id}all(i){const t=tc.getFirestore().batch();for(let o of i.operations)o.getOperation(t);return new Promise((o,s)=>{t.commit().then(()=>{try{i.onComplete()}catch{}o()}).catch(l=>{try{i.onFail(l)}catch{}s(l)})})}create(i){return new Promise((t,o)=>{if(null==i.data||null==i.data)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(i.path)){let s=this.genCollectionReference(i.path).doc();s.set(i.data).then(()=>{try{i.onComplete(s.id)}catch{}t(s.id)}).catch(l=>{try{i.onFail(l)}catch{}o(l)})}else if(this.isDocumentPath(i.path)){let s=this.genDocumentReference(i.path);s.set(i.data).then(()=>{try{i.onComplete(s.id)}catch{}t(s.id)}).catch(l=>{try{i.onFail(l)}catch{}o(l)})}})}delete(i){return new Promise((t,o)=>{this.checkDocumentPathValidity(i.path),this.genDocumentReference(i.path).delete().then(()=>{try{i.onComplete()}catch{}t()}).catch(s=>{try{i.onFail(s)}catch{}o(s)})})}update(i){return new Promise((t,o)=>{this.checkDocumentPathValidity(i.path);const s=this.genDocumentReference(i.path);s.update(i.data).then(()=>{try{i.onComplete(s)}catch{}t(s)}).catch(l=>{try{i.onFail(l)}catch{}o(l)})})}getCollection(i){let t=this.genCollectionReference(i.path);return new Promise((null!=i.where||null!=i.where)&&i.where.length>0?(o,s)=>{let l;const f=Array(i.where)[0];for(let p=0;p<f.length;p++)l=null==l?f[p].getQuery(t):f[p].concatQuery(l);l.get().then(p=>{try{i.onComplete(p)}catch{}o(p)}).catch(p=>{try{i.onFail(p)}catch{}s(p)})}:(o,s)=>{t.get().then(l=>{try{i.onComplete(l)}catch{}o(l)}).catch(l=>{try{i.onFail(l)}catch{}s(l)})})}getDocument(i){return new Promise((t,o)=>{this.genDocumentReference(i.path).get().then(s=>{try{i.onComplete(s)}catch{}t(s)}).catch(s=>{try{i.onFail(s)}catch{}o(s)})})}listenToDocument(i){this.validateListenerName(i.name),this.addListener(i.name,this.genDocumentReference(i.path).onSnapshot(t=>{try{i.onUpdate(t)}catch{}}))}listenToCollection(i){this.validateListenerName(i.name);let t=this.genCollectionReference(i.path);if((null!=i.where||null!=i.where)&&i.where.length>0){let o;const s=Array(i.where)[0];for(let l=0;l<s.length;l++)o=null==o?s[l].getQuery(t):s[l].concatQuery(o);this.addListener(i.name,o.onSnapshot(l=>{try{i.onUpdate(l)}catch{}}))}else this.addListener(i.name,t.onSnapshot(o=>{try{i.onUpdate(o)}catch{}}))}genCollectionReference(i){this.checkCollectionPathValidity(i);const t=Array(i)[0];let o,s;for(let l=0;l<t.length;l++)l%2==0?o=null==o?tc.getFirestore().collection(t[l]):s.collection(t[l]):s=o.doc(t[l]);return o}genDocumentReference(i){this.checkDocumentPathValidity(i);const t=Array(i)[0];let o,s;for(let l=0;l<t.length;l++)l%2==0?o=null==o?tc.getFirestore().collection(t[l]):s.collection(t[l]):s=o.doc(t[l]);return s}addListener(i,t){return this.listeners.set(i,t),t}stopListeningTo(i){try{this.listeners.get(i)(),this.listeners.delete(i)}catch{}}stopListeningToAll(){this.listeners.forEach((i,t,o)=>{this.stopListeningTo(t)})}validateListenerName(i){if(null==i||null==i||"string"!=typeof i||i.trim().length<=0)throw"Listener name cannot be empty.";if(null!=this.listeners.get(i))throw`Listener name: ${i} is already taken.`}checkCollectionPathValidity(i){if(null==i||null==i||i.length<=0||!this.isCollectionPath(i))throw"Not a valid path to a collection."}isCollectionPath(i){return Array(i)[0].length%2==1}checkDocumentPathValidity(i){if(null==i||null==i||i.length<=0||!this.isDocumentPath(i))throw"Not a valid path to a document."}isDocumentPath(i){return Array(i)[0].length%2==0}}class KR{constructor(i,t,o){this.where=i,this.condition=t,this.argument=o}getQuery(i){return i.where(this.where,this.condition,this.argument)}concatQuery(i){return i.where(this.where,this.condition,this.argument)}}Bt(669);class C_{constructor(){this.listeners=new Map}downloadToLocalStorage(i){return new Promise((t,o)=>{if(i instanceof Array)this.getDownloadUrl({path:i,onComplete:s=>{t(s),window.open(s,"Download")},onFail:s=>{o(s)}});else try{window.open(i,"Download"),t()}catch(s){o(s)}})}upload(i){return new Promise((t,o)=>{let s=null,l=this.genStorageRef(i.path);s=null==i.data.metadata||null==i.data.metadata?l.put(i.data.data):l.put(i.data.data,i.data.metadata),s.on("state_changed",f=>{try{i.onUpload(f)}catch{}},f=>{o(f);try{i.onFail(f)}catch{}},()=>{l.getDownloadURL().then(f=>{t(f);try{i.onComplete(f)}catch{}})}),this.listeners.set(i.uploadName,s)})}deleteWithUrl(i){return new Promise((t,o)=>{tc.getStorage().refFromURL(i.url).delete().then(()=>{t();try{i.onComplete()}catch{}}).catch(l=>{o(l);try{i.onFail(l)}catch{}})})}delete(i){return new Promise((t,o)=>{this.genStorageRef(i.path).delete().then(()=>{t();try{i.onComplete()}catch{}}).catch(l=>{o(l);try{i.onFail(l)}catch{}})})}getDownloadUrl(i){return new Promise((t,o)=>{const s=this.genStorageRef(i.path);try{s.getDownloadURL().then(l=>{t(l);try{i.onComplete(l)}catch{}})}catch(l){o(l);try{i.onFail(l)}catch{}}})}genStorageRef(i){let t=tc.getStorage().ref();for(let o=0;o<i.length;o++)t=t.child(i[o]);return t}}function yz(e,i){1&e&&He(0,"i",13)}function bz(e,i){if(1&e){const t=tn();A(0,"button",14),Te("click",function(){return Ye(t),yt(fe().addAds())}),He(1,"i",15),k(2," Add "),O()}}let wz=(()=>{class e{constructor(t,o,s){this.modalService=t,this.formBuilder=o,this.sanitizer=s,this.canAddProduct=!1,this.isloadingAdd=!1,this.isloadingUploadImg=!1,this.file="",this.imageFile="",this.storage=new C_,this.firestore=new Eo}ngOnInit(){this.form=this.formBuilder.group({title:["",si.required]})}closeModal(){this.modalService.dismissAll()}getImage(t){this.imageFile=t.target.files[0],this.file=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(this.imageFile))}addAds(){let t=this.firestore.genDocId();null!==this.imageFile&&(this.isloadingAdd=!0,this.storage.upload({uploadName:this.imageFile.name,path:["userImages",t],data:{data:this.imageFile},onComplete:o=>{this.firestore.create({path:["ads",t],data:{title:this.form.value.title,ads_id:t,ads_image:o},onComplete:s=>{this.isloadingAdd=!1,this.modalService.dismissAll(),window.location.reload()}})}}))}static#e=this.\u0275fac=function(o){return new(o||e)(B(Co),B(hp),B(Pm))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-add-ads"]],decls:19,vars:4,consts:[[1,"scroll"],[1,"modal-header"],[1,"modal-title","text-dark","text-bold-300"],["type","button",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body","modal-dialog-scrollable"],[1,"form-group"],["type","text","id","title","placeholder","title","formControlName","title",1,"form-control"],["alt","",1,"main-image",3,"src"],["type","file",1,"form-control",3,"change"],[1,"modal-footer"],["class","pi pi-spin pi-spinner",4,"ngIf"],["type","submit","class","btn btn-success matches-list-clear glow mb-0",3,"click",4,"ngIf"],[1,"pi","pi-spin","pi-spinner"],["type","submit",1,"btn","btn-success","matches-list-clear","glow","mb-0",3,"click"],[1,"ft-check"]],template:function(o,s){1&o&&(A(0,"div",0)(1,"div",1)(2,"h4",2),k(3," Add New Ads "),O(),A(4,"button",3),Te("click",function(){return s.closeModal()}),O()(),A(5,"form",4)(6,"div",5)(7,"div",6)(8,"label"),k(9,"Title : "),O(),He(10,"input",7),O(),A(11,"div",6)(12,"label"),k(13,"Pick Images : "),O(),He(14,"img",8),A(15,"input",9),Te("change",function(f){return s.getImage(f)}),O()()(),A(16,"div",10),de(17,yz,1,0,"i",11),de(18,bz,3,0,"button",12),O()()()),2&o&&(V(5),X("formGroup",s.form),V(9),X("src",s.file,$r),V(3),X("ngIf",s.isloadingAdd),V(1),X("ngIf",""!==s.imageFile&&!s.isloadingAdd))},dependencies:[yr,qd,Ju,Hd,$d,Xu,pl],styles:[".form-group[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin-bottom:8px}.scroll[_ngcontent-%COMP%]{overflow:scroll;height:400px}.main-image[_ngcontent-%COMP%]{width:300px;max-height:210px!important}.product-images[_ngcontent-%COMP%]{margin-left:10px;margin-top:4px;display:block}.pi[_ngcontent-%COMP%]{margin-bottom:0;margin-top:15px;display:block;color:red;cursor:pointer;margin-left:8px}"]})}return e})(),rf=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"lds-circle"]],template:function(o,s){1&o&&(A(0,"div",0),He(1,"div"),O())},styles:[".lds-circle[_ngcontent-%COMP%]{display:inline-block;transform:translateZ(1px)}.lds-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;width:64px;height:64px;margin:8px;border-radius:50%;background:#400404;animation:_ngcontent-%COMP%_lds-circle 2.4s cubic-bezier(0,.2,.8,1) infinite}@keyframes _ngcontent-%COMP%_lds-circle{0%,to{animation-timing-function:cubic-bezier(.5,0,1,.5)}0%{transform:rotateY(0)}50%{transform:rotateY(1800deg);animation-timing-function:cubic-bezier(0,.5,.5,1)}to{transform:rotateY(3600deg)}}"]})}return e})();function Dz(e,i){if(1&e){const t=tn();A(0,"tr")(1,"td"),k(2),O(),A(3,"td"),He(4,"img",10),O(),A(5,"td"),k(6),O(),A(7,"td")(8,"button",11),Te("click",function(){const l=Ye(t).$implicit;return yt(fe(2).openDeleteAds(l.ads_id))}),k(9," Delete "),O()()()}if(2&e){const t=i.$implicit;V(2),st(t.ads_id),V(2),Ss("src",t.ads_image,$r),V(2),st(t.title)}}function Cz(e,i){if(1&e&&(A(0,"div",5)(1,"table",6)(2,"thead")(3,"tr")(4,"th"),k(5,"ID"),O(),A(6,"th",7),k(7,"Image"),O(),A(8,"th",8),k(9,"Title"),O(),A(10,"th"),k(11,"Delete"),O()()(),A(12,"tbody"),de(13,Dz,10,3,"tr",9),O()()()),2&e){const t=fe();V(13),X("ngForOf",t.ads)}}function Ez(e,i){1&e&&(A(0,"div",12)(1,"i",13),k(2,"No Ads Found"),O()())}function Sz(e,i){1&e&&(A(0,"div",14),He(1,"app-loading"),O())}let Tz=(()=>{class e{constructor(t,o){this.router=t,this.modalService=o,this.isLoaingads=!1,this.ads=[],this.firebase=new Eo}ngOnInit(){this.getAds()}getAds(){this.isLoaingads=!0,this.firebase.getCollection({path:["ads"],where:[],onComplete:t=>{t.docs.forEach(o=>{let s=o.data();this.ads.push(s)}),this.isLoaingads=!1},onFail:t=>{this.router.navigate(["/notFound"])}})}openAddAds(){this.modalService.open(wz,{backdrop:!1,windowClass:"modal-holder",scrollable:!0,centered:!0,size:"lg"})}openDeleteAds(t){const o=this.modalService.open(gb,{backdrop:!1,windowClass:"modal-holder",scrollable:!0,centered:!0,size:"md"});o.componentInstance.title="Ads",o.componentInstance.deleteItem=()=>{this.deleteAds(t)}}deleteAds(t){this.firebase.delete({path:["ads",t],onComplete:()=>{window.location.reload()}})}static#e=this.\u0275fac=function(o){return new(o||e)(B(Zr),B(Co))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-ads"]],decls:8,vars:3,consts:[[1,"box"],[1,"btn","btn-success",3,"click"],["class","table table-responsive","style","border: 1.5px solid rgba(149, 138, 138, 0.401); border-radius: 10px",4,"ngIf"],["class","card",4,"ngIf"],["class","loading",4,"ngIf"],[1,"table","table-responsive",2,"border","1.5px solid rgba(149, 138, 138, 0.401)","border-radius","10px"],[1,"table","table-striped","table-bordered"],[1,"table-head"],[1,"title"],[4,"ngFor","ngForOf"],["alt","",1,"cat-img",3,"src"],[1,"btn","btn-danger",3,"click"],[1,"card"],[1,"not-found"],[1,"loading"]],template:function(o,s){1&o&&(A(0,"h1"),k(1,"Ads"),O(),A(2,"div",0)(3,"button",1),Te("click",function(){return s.openAddAds()}),k(4,"Add Ads"),O()(),de(5,Cz,14,1,"div",2),de(6,Ez,3,0,"div",3),de(7,Sz,2,0,"div",4)),2&o&&(V(5),X("ngIf",0!=(null==s.ads?null:s.ads.length)&&!s.isLoaingads),V(1),X("ngIf",0==(null==s.ads?null:s.ads.length)&&!s.isLoaingads),V(1),X("ngIf",s.isLoaingads))},dependencies:[Wr,yr,rf],styles:[".box[_ngcontent-%COMP%]{border:1.2px solid grey;border-radius:5px;padding:1px;margin-bottom:80px}th[_ngcontent-%COMP%]{background-color:#4b4848;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.loading[_ngcontent-%COMP%]{margin-top:150px;text-align:center}.cat-img[_ngcontent-%COMP%]{background-size:cover;width:230px;height:130px}.card[_ngcontent-%COMP%]{height:90px}.card[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;font-size:22px;text-align:center;vertical-align:middle}"]})}return e})();function Iz(e,i){1&e&&He(0,"img",13),2&e&&X("src",fe().file,$r)}function Mz(e,i){if(1&e&&He(0,"img",13),2&e){const t=fe();X("src",null==t.category?null:t.category.category_image,$r)}}function Nz(e,i){1&e&&He(0,"i",14)}function Az(e,i){if(1&e){const t=tn();A(0,"button",15),Te("click",function(){return Ye(t),yt(fe().updateCategory())}),He(1,"i",16),k(2," Add "),O()}}let Oz=(()=>{class e{constructor(t,o,s){this.modalService=t,this.formBuilder=o,this.sanitizer=s,this.canAddProduct=!1,this.isloadingAdd=!1,this.isloadingUploadImg=!1,this.file="",this.storage=new C_,this.firestore=new Eo}ngOnDestroy(){}ngOnInit(){this.form=this.formBuilder.group({title:[this.category.title,si.required]})}closeModal(){this.modalService.dismissAll()}getImage(t){this.imageFile=t.target.files[0],this.file=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(this.imageFile))}updateCategory(){null!==this.imageFile&&(this.isloadingAdd=!0,this.storage.upload({uploadName:this.imageFile.name,path:["userImages",this.category?.category_id],data:{data:this.imageFile},onComplete:t=>{this.storage.deleteWithUrl({url:String(this.category?.category_id)}),this.firestore.update({path:["category",String(this.category?.category_id)],data:{title:this.form.value.title,category_image:t},onComplete:o=>{this.isloadingAdd=!1,this.modalService.dismissAll(),window.location.reload()}})}}))}static#e=this.\u0275fac=function(o){return new(o||e)(B(Co),B(hp),B(Pm))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-edit-category"]],inputs:{category:"category"},decls:20,vars:5,consts:[[1,"scroll"],[1,"modal-header"],[1,"modal-title","text-dark","text-bold-300"],["type","button",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body","modal-dialog-scrollable"],[1,"form-group","col-md-4"],["type","text","id","title","placeholder","title","formControlName","title",1,"form-control"],["class","main-image","alt","",3,"src",4,"ngIf"],["type","file",1,"form-control",3,"change"],[1,"modal-footer"],["class","pi pi-spin pi-spinner",4,"ngIf"],["type","submit","class","btn btn-success matches-list-clear glow mb-0",3,"click",4,"ngIf"],["alt","",1,"main-image",3,"src"],[1,"pi","pi-spin","pi-spinner"],["type","submit",1,"btn","btn-success","matches-list-clear","glow","mb-0",3,"click"],[1,"ft-check"]],template:function(o,s){1&o&&(A(0,"div",0)(1,"div",1)(2,"h4",2),k(3,"Edit Category"),O(),A(4,"button",3),Te("click",function(){return s.closeModal()}),O()(),A(5,"form",4)(6,"div",5)(7,"div",6)(8,"label"),k(9,"Title : "),O(),He(10,"input",7),O(),A(11,"div",6)(12,"label"),k(13,"Pick Images : "),O(),de(14,Iz,1,1,"img",8),de(15,Mz,1,1,"img",8),A(16,"input",9),Te("change",function(f){return s.getImage(f)}),O()()(),A(17,"div",10),de(18,Nz,1,0,"i",11),de(19,Az,3,0,"button",12),O()()()),2&o&&(V(5),X("formGroup",s.form),V(9),X("ngIf",""!==s.file),V(1),X("ngIf",""===s.file),V(3),X("ngIf",s.isloadingAdd),V(1),X("ngIf",""!==s.imageFile&&!s.isloadingAdd))},dependencies:[yr,qd,Ju,Hd,$d,Xu,pl],styles:[".form-group[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin-bottom:8px}.scroll[_ngcontent-%COMP%]{overflow:scroll;height:400px}.main-image[_ngcontent-%COMP%]{width:70%;max-height:110px!important}.product-images[_ngcontent-%COMP%]{margin-left:10px;margin-top:4px;display:block}.pi[_ngcontent-%COMP%]{margin-bottom:0;margin-top:15px;display:block;color:red;cursor:pointer;margin-left:8px}"]})}return e})();function xz(e,i){1&e&&He(0,"i",13)}function Rz(e,i){if(1&e){const t=tn();A(0,"button",14),Te("click",function(){return Ye(t),yt(fe().addCategory())}),He(1,"i",15),k(2," Add "),O()}}let Pz=(()=>{class e{constructor(t,o,s){this.modalService=t,this.formBuilder=o,this.sanitizer=s,this.canAddProduct=!1,this.isloadingAdd=!1,this.isloadingUploadImg=!1,this.file="",this.storage=new C_,this.firestore=new Eo}ngOnDestroy(){}ngOnInit(){this.form=this.formBuilder.group({title:["",si.required]})}closeModal(){this.modalService.dismissAll()}getImage(t){this.imageFile=t.target.files[0],this.file=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(this.imageFile))}addCategory(){let t=this.firestore.genDocId();null!==this.imageFile&&(this.isloadingAdd=!0,this.storage.upload({uploadName:this.imageFile.name,path:["userImages",t],data:{data:this.imageFile},onComplete:o=>{this.firestore.create({path:["category",t],data:{title:this.form.value.title,category_id:t,category_image:o},onComplete:s=>{this.isloadingAdd=!1,this.modalService.dismissAll(),window.location.reload()}})}}))}static#e=this.\u0275fac=function(o){return new(o||e)(B(Co),B(hp),B(Pm))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-add-category"]],decls:19,vars:4,consts:[[1,"scroll"],[1,"modal-header"],[1,"modal-title","text-dark","text-bold-300"],["type","button",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body","modal-dialog-scrollable"],[1,"form-group"],["type","text","id","title","placeholder","title","formControlName","title",1,"form-control"],["alt","",1,"main-image",3,"src"],["type","file",1,"form-control",3,"change"],[1,"modal-footer"],["class","pi pi-spin pi-spinner",4,"ngIf"],["type","submit","class","btn btn-success matches-list-clear glow mb-0",3,"click",4,"ngIf"],[1,"pi","pi-spin","pi-spinner"],["type","submit",1,"btn","btn-success","matches-list-clear","glow","mb-0",3,"click"],[1,"ft-check"]],template:function(o,s){1&o&&(A(0,"div",0)(1,"div",1)(2,"h4",2),k(3," Add New Category "),O(),A(4,"button",3),Te("click",function(){return s.closeModal()}),O()(),A(5,"form",4)(6,"div",5)(7,"div",6)(8,"label"),k(9,"Title : "),O(),He(10,"input",7),O(),A(11,"div",6)(12,"label"),k(13,"Pick Images : "),O(),He(14,"img",8),A(15,"input",9),Te("change",function(f){return s.getImage(f)}),O()()(),A(16,"div",10),de(17,xz,1,0,"i",11),de(18,Rz,3,0,"button",12),O()()()),2&o&&(V(5),X("formGroup",s.form),V(9),X("src",s.file,$r),V(3),X("ngIf",s.isloadingAdd),V(1),X("ngIf",""!==s.imageFile&&!s.isloadingAdd))},dependencies:[yr,qd,Ju,Hd,$d,Xu,pl],styles:[".form-group[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin-bottom:8px}.scroll[_ngcontent-%COMP%]{overflow:scroll;height:400px}.main-image[_ngcontent-%COMP%]{width:20%;max-height:110px!important}.product-images[_ngcontent-%COMP%]{margin-left:10px;margin-top:4px;display:block}.pi[_ngcontent-%COMP%]{margin-bottom:0;margin-top:15px;display:block;color:red;cursor:pointer;margin-left:8px}"]})}return e})(),mb=(()=>{class e{constructor(t){this.router=t,this.categories=[],this.firebase=new Eo}getCategory(){return this.categories=[],this.firebase.getCollection({path:["category"],where:[],onComplete:t=>{t.docs.forEach(o=>{let s=o.data();this.categories.push(s)})},onFail:t=>{this.router.navigate(["/notFound"])}}),this.categories}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(Zr))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kz(e,i){if(1&e){const t=tn();A(0,"tr")(1,"td"),k(2),O(),A(3,"td"),He(4,"img",10),O(),A(5,"td"),k(6),O(),A(7,"td")(8,"button",11),Te("click",function(){const l=Ye(t).$implicit;return yt(fe(2).updateCategory(l))}),k(9,"Edit"),O()(),A(10,"td")(11,"button",12),Te("click",function(){const l=Ye(t).$implicit;return yt(fe(2).openDeleteProduct(l.category_id))}),k(12,"Delete"),O()()()}if(2&e){const t=i.$implicit;V(2),st(t.category_id),V(2),Ss("src",t.category_image,$r),V(2),st(t.title)}}function Fz(e,i){if(1&e&&(A(0,"div",5)(1,"table",6)(2,"thead")(3,"tr")(4,"th"),k(5,"ID"),O(),A(6,"th",7),k(7,"Image"),O(),A(8,"th",8),k(9,"Title"),O(),A(10,"th"),k(11,"Edit"),O(),A(12,"th"),k(13,"Delete"),O()()(),A(14,"tbody"),de(15,kz,13,3,"tr",9),O()()()),2&e){const t=fe();V(15),X("ngForOf",t.categories)}}function Lz(e,i){1&e&&(A(0,"div",13)(1,"i",14),k(2,"No Categories Found"),O()())}function Vz(e,i){1&e&&(A(0,"div",15),He(1,"app-loading"),O())}let Bz=(()=>{class e{constructor(t,o,s){this.router=t,this.modalService=o,this.categoryService=s,this.isLoaingCategory=!1,this.categories=[],this.firebase=new Eo}ngOnInit(){this.getCategory()}getCategory(){this.isLoaingCategory=!0,this.firebase.getCollection({path:["category"],where:[],onComplete:t=>{t.docs.forEach(o=>{let s=o.data();this.categories.push(s)}),this.isLoaingCategory=!1},onFail:t=>{this.router.navigate(["/notFound"])}})}openAddCategory(){this.modalService.open(Pz,{backdrop:!1,windowClass:"modal-holder",scrollable:!0,centered:!0,size:"lg"})}updateCategory(t){this.modalService.open(Oz,{backdrop:!1,windowClass:"modal-holder",scrollable:!0,centered:!0,size:"lg"}).componentInstance.category=t}openDeleteProduct(t){const o=this.modalService.open(gb,{backdrop:!1,windowClass:"modal-holder",scrollable:!0,centered:!0,size:"md"});o.componentInstance.title="Category",o.componentInstance.deleteItem=()=>{this.deleteCategory(t)}}deleteCategory(t){this.firebase.delete({path:["category",t],onComplete:()=>{window.location.reload()}})}static#e=this.\u0275fac=function(o){return new(o||e)(B(Zr),B(Co),B(mb))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-category"]],decls:8,vars:3,consts:[[1,"box"],[1,"btn","btn-success",3,"click"],["class","table table-responsive","style","border: 1.5px solid rgba(149, 138, 138, 0.401); border-radius: 10px;",4,"ngIf"],["class","card",4,"ngIf"],["class","loading",4,"ngIf"],[1,"table","table-responsive",2,"border","1.5px solid rgba(149, 138, 138, 0.401)","border-radius","10px"],[1,"table","table-striped","table-bordered"],[1,"table-head"],[1,"title"],[4,"ngFor","ngForOf"],["alt","",1,"cat-img",3,"src"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"card"],[1,"not-found"],[1,"loading"]],template:function(o,s){1&o&&(A(0,"h1"),k(1,"categorys"),O(),A(2,"div",0)(3,"button",1),Te("click",function(){return s.openAddCategory()}),k(4,"Add category"),O()(),de(5,Fz,16,1,"div",2),de(6,Lz,3,0,"div",3),de(7,Vz,2,0,"div",4)),2&o&&(V(5),X("ngIf",!s.isLoaingCategory),V(1),X("ngIf",0==(null==s.categories?null:s.categories.length)&&!s.isLoaingCategory),V(1),X("ngIf",s.isLoaingCategory))},dependencies:[Wr,yr,rf],styles:[".box[_ngcontent-%COMP%]{border:1.2px solid grey;border-radius:5px;padding:1px;margin-bottom:80px}th[_ngcontent-%COMP%]{background-color:#4b4848;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.loading[_ngcontent-%COMP%]{margin-top:150px;text-align:center}.cat-img[_ngcontent-%COMP%]{background-size:cover;width:230px;height:130px}.card[_ngcontent-%COMP%]{height:90px}.card[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;font-size:22px;text-align:center;vertical-align:middle}"]})}return e})(),jz=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-home"]],decls:3,vars:0,template:function(o,s){1&o&&(A(0,"h1")(1,"i"),k(2,"Home"),O()())}})}return e})(),QR=(()=>{class e{constructor(t){this.modalService=t,this.isLoaingOrder=!1,this.user={email:"",name:"",phone:"",user_id:"",user_uid:""},this.firebase=new Eo}ngOnInit(){this.getUserData()}closeModal(){this.modalService.dismissAll()}getUserData(){console.log(this.userId),this.firebase.getDocument({path:["users",this.userId],onComplete:t=>{this.user=t.data()}})}static#e=this.\u0275fac=function(o){return new(o||e)(B(Co))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-view-user-details"]],inputs:{userId:"userId"},decls:31,vars:5,consts:[[1,"scroll"],[1,"modal-header"],[1,"modal-title","text-dark","text-bold-300"],["type","button",1,"btn-close",3,"click"],[1,"modal-body","modal-dialog-scrollable"],[1,"table","table-responsive"],[1,"table","table-striped","table-bordered"]],template:function(o,s){1&o&&(A(0,"div",0)(1,"div",1)(2,"h1",2)(3,"i"),k(4," User Information "),O()(),A(5,"button",3),Te("click",function(){return s.closeModal()}),O()(),A(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"th"),k(11,"User Id"),O(),A(12,"th"),k(13,"Name"),O(),A(14,"th"),k(15,"Email"),O(),A(16,"th"),k(17,"Phone"),O(),A(18,"th"),k(19,"UID"),O()(),A(20,"tbody")(21,"td"),k(22),O(),A(23,"td"),k(24),O(),A(25,"td"),k(26),O(),A(27,"td"),k(28),O(),A(29,"td"),k(30),O()()()()()()),2&o&&(V(22),st(s.user.user_id),V(2),st(s.user.name),V(2),st(s.user.email),V(2),st(s.user.phone),V(2),st(s.user.user_uid))},styles:["label[_ngcontent-%COMP%]{margin-bottom:8px}.main-image[_ngcontent-%COMP%]{width:100%;max-height:95px!important}th[_ngcontent-%COMP%]{background-color:#4b4848;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}"]})}return e})();function Uz(e,i){if(1&e&&(A(0,"tr")(1,"td"),k(2),O(),A(3,"td"),He(4,"img",9),O(),A(5,"td"),k(6),O(),A(7,"td"),k(8),O(),A(9,"td"),k(10),O(),A(11,"td"),k(12),O()()),2&e){const t=i.$implicit;V(2),st(t.product_id),V(2),Ss("src",t.image,$r),V(2),st(t.title),V(2),st(t.quantity),V(2),or("",t.price," L.E"),V(2),or("",+t.price*+t.quantity," L.E")}}let Hz=(()=>{class e{constructor(t){this.modalService=t,this.isLoaingOrder=!1,this.products=[],this.total="",this.firebase=new Eo}closeModal(){this.modalService.dismissAll()}static#e=this.\u0275fac=function(o){return new(o||e)(B(Co))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-order-products-details"]],inputs:{products:"products",total:"total"},decls:26,vars:2,consts:[[1,"scroll"],[1,"modal-header"],[1,"modal-title","text-dark","text-bold-300"],["type","button",1,"btn-close",3,"click"],[1,"modal-body","modal-dialog-scrollable"],[1,"table","table-responsive"],[1,"table","table-striped","table-bordered"],[4,"ngFor","ngForOf"],[1,"total"],["alt","","width","180px","height","80px",3,"src"]],template:function(o,s){1&o&&(A(0,"div",0)(1,"div",1)(2,"h1",2)(3,"i"),k(4," Order Product Details "),O()(),A(5,"button",3),Te("click",function(){return s.closeModal()}),O()(),A(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"th"),k(11,"Product Id"),O(),A(12,"th"),k(13,"Image"),O(),A(14,"th"),k(15,"Title"),O(),A(16,"th"),k(17,"Quantity"),O(),A(18,"th"),k(19,"Price"),O(),A(20,"th"),k(21,"Total"),O()(),A(22,"tbody"),de(23,Uz,13,6,"tr",7),O()(),A(24,"div",8),k(25),O()()()()),2&o&&(V(23),X("ngForOf",s.products),V(2),or(" Total Price : ",s.total," L.E "))},dependencies:[Wr],styles:["label[_ngcontent-%COMP%]{margin-bottom:8px}.main-image[_ngcontent-%COMP%]{width:100%;max-height:95px!important}.scroll[_ngcontent-%COMP%]{overflow:scroll;height:400px}th[_ngcontent-%COMP%]{background-color:#4b4848;color:#fff}.total[_ngcontent-%COMP%]{width:100%;font-weight:800;color:green;text-align:right}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}"]})}return e})();function $z(e,i){if(1&e){const t=tn();A(0,"a",12),Te("keyup.enter",function(){return Ye(t),fe(3),yt(zr(1).previous())})("click",function(){return Ye(t),fe(3),yt(zr(1).previous())}),k(1),A(2,"span",13),k(3),O()()}if(2&e){const t=fe(3);V(1),or(" ",t.previousLabel," "),V(2),st(t.screenReaderPageLabel)}}function Gz(e,i){if(1&e&&(A(0,"span",14),k(1),A(2,"span",13),k(3),O()()),2&e){const t=fe(3);V(1),or(" ",t.previousLabel," "),V(2),st(t.screenReaderPageLabel)}}function zz(e,i){if(1&e&&(A(0,"li",9),de(1,$z,4,2,"a",10),de(2,Gz,4,2,"span",11),O()),2&e){fe(2);const t=zr(1);sn("disabled",t.isFirstPage()),V(1),X("ngIf",1<t.getCurrent()),V(1),X("ngIf",t.isFirstPage())}}function qz(e,i){if(1&e){const t=tn();A(0,"a",12),Te("keyup.enter",function(){Ye(t);const s=fe().$implicit;return fe(2),yt(zr(1).setCurrent(s.value))})("click",function(){Ye(t);const s=fe().$implicit;return fe(2),yt(zr(1).setCurrent(s.value))}),A(1,"span",13),k(2),O(),A(3,"span"),k(4),Od(5,"number"),O()()}if(2&e){const t=fe().$implicit,o=fe(2);V(2),or("",o.screenReaderPageLabel," "),V(2),st("..."===t.label?t.label:xd(5,2,t.label,""))}}function Wz(e,i){if(1&e&&(Fy(0),A(1,"span",16)(2,"span",13),k(3),O(),A(4,"span"),k(5),Od(6,"number"),O()(),Ly()),2&e){const t=fe().$implicit,o=fe(2);V(3),or("",o.screenReaderCurrentLabel," "),V(2),st("..."===t.label?t.label:xd(6,2,t.label,""))}}function Zz(e,i){if(1&e&&(A(0,"li"),de(1,qz,6,5,"a",10),de(2,Wz,7,5,"ng-container",15),O()),2&e){const t=i.$implicit;fe(2);const o=zr(1);sn("current",o.getCurrent()===t.value)("ellipsis","..."===t.label),V(1),X("ngIf",o.getCurrent()!==t.value),V(1),X("ngIf",o.getCurrent()===t.value)}}function Kz(e,i){if(1&e){const t=tn();A(0,"a",12),Te("keyup.enter",function(){return Ye(t),fe(3),yt(zr(1).next())})("click",function(){return Ye(t),fe(3),yt(zr(1).next())}),k(1),A(2,"span",13),k(3),O()()}if(2&e){const t=fe(3);V(1),or(" ",t.nextLabel," "),V(2),st(t.screenReaderPageLabel)}}function Qz(e,i){if(1&e&&(A(0,"span",14),k(1),A(2,"span",13),k(3),O()()),2&e){const t=fe(3);V(1),or(" ",t.nextLabel," "),V(2),st(t.screenReaderPageLabel)}}function Yz(e,i){if(1&e&&(A(0,"li",17),de(1,Kz,4,2,"a",10),de(2,Qz,4,2,"span",11),O()),2&e){fe(2);const t=zr(1);sn("disabled",t.isLastPage()),V(1),X("ngIf",!t.isLastPage()),V(1),X("ngIf",t.isLastPage())}}function Jz(e,i){if(1&e&&(A(0,"ul",4),de(1,zz,3,4,"li",5),A(2,"li",6),k(3),O(),de(4,Zz,3,6,"li",7),de(5,Yz,3,4,"li",8),O()),2&e){const t=fe(),o=zr(1);sn("responsive",t.responsive),V(1),X("ngIf",t.directionLinks),V(2),Tw(" ",o.getCurrent()," / ",o.getLastPage()," "),V(1),X("ngForOf",o.pages)("ngForTrackBy",t.trackByIndex),V(1),X("ngIf",t.directionLinks)}}class uE{constructor(){this.change=new Ke,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(i){return null==i.id&&(i.id=this.DEFAULT_ID),this.instances[i.id]?this.updateInstance(i):(this.instances[i.id]=i,!0)}updateInstance(i){let t=!1;for(let o in this.instances[i.id])i[o]!==this.instances[i.id][o]&&(this.instances[i.id][o]=i[o],t=!0);return t}getCurrentPage(i){return this.instances[i]?this.instances[i].currentPage:1}setCurrentPage(i,t){if(this.instances[i]){let o=this.instances[i];t<=Math.ceil(o.totalItems/o.itemsPerPage)&&1<=t&&(this.instances[i].currentPage=t,this.change.emit(i))}}setTotalItems(i,t){this.instances[i]&&0<=t&&(this.instances[i].totalItems=t,this.change.emit(i))}setItemsPerPage(i,t){this.instances[i]&&(this.instances[i].itemsPerPage=t,this.change.emit(i))}getInstance(i=this.DEFAULT_ID){return this.instances[i]?this.clone(this.instances[i]):{}}clone(i){var t={};for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o]);return t}}const Xz=Number.MAX_SAFE_INTEGER;let _b=(()=>{class e{constructor(t){this.service=t,this.state={}}transform(t,o){if(!(t instanceof Array)){let C=o.id||this.service.defaultId();return this.state[C]?this.state[C].slice:t}let p,m,s=o.totalItems&&o.totalItems!==t.length,l=this.createInstance(t,o),f=l.id,v=l.itemsPerPage,b=this.service.register(l);if(!s&&t instanceof Array){if(v=+v||Xz,p=(l.currentPage-1)*v,m=p+v,this.stateIsIdentical(f,t,p,m))return this.state[f].slice;{let S=t.slice(p,m);return this.saveState(f,t,S,p,m),this.service.change.emit(f),S}}return b&&this.service.change.emit(f),this.saveState(f,t,t,p,m),t}createInstance(t,o){return this.checkConfig(o),{id:null!=o.id?o.id:this.service.defaultId(),itemsPerPage:+o.itemsPerPage||0,currentPage:+o.currentPage||1,totalItems:+o.totalItems||t.length}}checkConfig(t){const s=["itemsPerPage","currentPage"].filter(l=>!(l in t));if(0<s.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${s.join(", ")}`)}saveState(t,o,s,l,f){this.state[t]={collection:o,size:o.length,slice:s,start:l,end:f}}stateIsIdentical(t,o,s,l){let f=this.state[t];return!(!f||f.size!==o.length||f.start!==s||f.end!==l)&&f.slice.every((m,v)=>m===o[s+v])}}return e.\u0275fac=function(t){return new(t||e)(B(uE,16))},e.\u0275pipe=Rr({name:"paginate",type:e,pure:!1}),e})(),eq=(()=>{class e{constructor(t,o){this.service=t,this.changeDetectorRef=o,this.maxSize=7,this.pageChange=new Ke,this.pageBoundsCorrection=new Ke,this.pages=[],this.changeSub=this.service.change.subscribe(s=>{this.id===s&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(t){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(t){this.pageChange.emit(t)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let t=this.service.getInstance(this.id);const o=this.outOfBoundCorrection(t);o!==t.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(o),this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}outOfBoundCorrection(t){const o=Math.ceil(t.totalItems/t.itemsPerPage);return o<t.currentPage&&0<o?o:t.currentPage<1?1:t.currentPage}createPageArray(t,o,s,l){l=+l;let f=[];const p=Math.max(Math.ceil(s/o),1),m=Math.ceil(l/2),v=t<=m,b=p-m<t,C=!v&&!b;let S=l<p,M=1;for(;M<=p&&M<=l;){let P,j=this.calculatePageNumber(M,t,l,p);P=S&&(2===M&&(C||b)||M===l-1&&(C||v))?"...":j,f.push({label:P,value:j}),M++}return f}calculatePageNumber(t,o,s,l){let f=Math.ceil(s/2);return t===s?l:1===t?t:s<l?l-f<o?l-s+t:f<o?o-f+t:t:t}}return e.\u0275fac=function(t){return new(t||e)(B(uE),B(Ns))},e.\u0275dir=Pe({type:e,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[Fr]}),e})();function cE(e){return!!e&&"false"!==e}let vb=(()=>{class e{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new Ke,this.pageBoundsCorrection=new Ke,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=cE(t)}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=cE(t)}get responsive(){return this._responsive}set responsive(t){this._responsive=cE(t)}trackByIndex(t){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=$t({type:e,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(t,o){if(1&t&&(A(0,"pagination-template",0,1),Te("pageChange",function(l){return o.pageChange.emit(l)})("pageBoundsCorrection",function(l){return o.pageBoundsCorrection.emit(l)}),A(2,"nav",2),de(3,Jz,6,8,"ul",3),O()()),2&t){const s=zr(1);X("id",o.id)("maxSize",o.maxSize),V(2),En("aria-label",o.screenReaderPaginationLabel),V(1),X("ngIf",!(o.autoHide&&s.pages.length<=1))}},dependencies:[eq,yr,Wr,wN],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),e})(),tq=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=Nt({providers:[uE],imports:[[h0]]}),e})();function nq(e,i){if(1&e){const t=tn();A(0,"button",15),Te("click",function(){Ye(t);const s=fe().$implicit;return yt(fe(2).shipped(s.order_id))}),k(1,"Shipped"),O()}}function rq(e,i){if(1&e){const t=tn();A(0,"tr")(1,"td"),k(2),O(),A(3,"td"),k(4),O(),A(5,"td"),k(6),O(),A(7,"td"),k(8),O(),A(9,"td"),k(10),O(),A(11,"td"),k(12),O(),A(13,"td"),k(14),O(),A(15,"td"),k(16),O(),A(17,"td"),k(18),O(),A(19,"td"),k(20),O(),A(21,"td"),k(22),O(),A(23,"td"),k(24),O(),A(25,"td")(26,"button",15),Te("click",function(){const l=Ye(t).$implicit;return yt(fe(2).showOrderProduct(l.products,l.totalPrice))}),k(27,"View"),O()(),A(28,"td")(29,"button",15),Te("click",function(){const l=Ye(t).$implicit;return yt(fe(2).showUserData(l.user_id))}),k(30,"View"),O()(),A(31,"td"),de(32,nq,2,0,"button",16),O(),A(33,"td")(34,"button",17),Te("click",function(){const l=Ye(t).$implicit;return yt(fe(2).openDeleteOrder(l.order_id))}),k(35,"Delete"),O()()()}if(2&e){const t=i.$implicit;V(2),st(t.order_id),V(2),st(t.full_name),V(2),st(t.email),V(2),st(t.phone_number),V(2),st(t.city),V(2),st(t.street),V(2),st(t.building),V(2),st(t.address),V(2),st(t.created_at),V(2),st(t.payment),V(2),st(t.status),V(2),or("",t.totalPrice," L.E"),V(8),X("ngIf","waiting"===t.status)}}const iq=function(e,i,t){return{id:"listing_pagination",itemsPerPage:e,currentPage:i,totalItems:t}};function oq(e,i){if(1&e){const t=tn();A(0,"div",9)(1,"table",10)(2,"thead")(3,"tr")(4,"th"),k(5,"Order ID"),O(),A(6,"th",11),k(7,"User Name"),O(),A(8,"th"),k(9,"Email"),O(),A(10,"th"),k(11,"Phone"),O(),A(12,"th",11),k(13,"City"),O(),A(14,"th",11),k(15,"Street"),O(),A(16,"th",11),k(17,"Building"),O(),A(18,"th"),k(19,"Address"),O(),A(20,"th"),k(21,"Created At"),O(),A(22,"th"),k(23,"Payment Type"),O(),A(24,"th",11),k(25,"Order Status"),O(),A(26,"th",12),k(27,"Total Price"),O(),A(28,"th"),k(29,"Order Product"),O(),A(30,"th"),k(31,"User Info"),O(),A(32,"th"),k(33,"Shipped"),O(),A(34,"th"),k(35,"Delete"),O()()(),A(36,"tbody"),de(37,rq,36,13,"tr",13),Od(38,"paginate"),O()(),A(39,"pagination-controls",14),Te("pageChange",function(s){return Ye(t),yt(fe().page=s)}),O()()}if(2&e){const t=fe();V(37),X("ngForOf",xd(38,1,t.orders,Ad(4,iq,t.itemsPerPage,t.page,t.totalRecords)))}}function sq(e,i){1&e&&(A(0,"div",18)(1,"i",19),k(2,"No Orders Found"),O()())}function aq(e,i){1&e&&(A(0,"div",20),He(1,"app-loading"),O())}let uq=(()=>{class e{constructor(t,o){this.router=t,this.modalService=o,this.isLoaingOrder=!1,this.orders=[],this.totalRecords=0,this.itemsPerPage=15,this.page=1,this.firebase=new Eo}ngOnInit(){this.getOrders()}getOrders(){this.isLoaingOrder=!0,this.orders=[],this.firebase.getCollection({path:["order"],where:[],onComplete:t=>{t.docs.forEach(o=>{let s=o.data();s.order_id=o.id,this.orders.push(s)}),this.isLoaingOrder=!1,this.totalRecords=this.orders.length},onFail:t=>{this.router.navigate(["/notFound"])}})}orderFiltered(t){this.isLoaingOrder=!0,this.orders=[],console.log(t),this.firebase.getCollection({path:["order"],where:[new KR("status","==",t)],onComplete:o=>{o.docs.forEach(s=>{let l=s.data();l.order_id=s.id,this.orders.push(l)}),this.isLoaingOrder=!1,this.totalRecords=this.orders.length},onFail:o=>{this.router.navigate(["/notFound"])}})}onFilter(t){let o=t.target.value;console.log(o),"all"===o?this.getOrders():this.orderFiltered(o)}changeOrderSatus(t,o){this.firebase.update({path:["specialOrder",o],data:{status:t}})}showUserData(t){this.modalService.open(QR,{backdrop:!1,windowClass:"modal-holder",scrollable:!0,centered:!0,size:"xl"}).componentInstance.userId=t}showOrderProduct(t,o){console.log(t);const s=this.modalService.open(Hz,{backdrop:!1,windowClass:"modal-holder",scrollable:!0,centered:!0,size:"xl"});s.componentInstance.products=t,s.componentInstance.total=o}openDeleteOrder(t){const o=this.modalService.open(gb,{backdrop:!1,windowClass:"modal-holder",scrollable:!0,centered:!0,size:"md"});o.componentInstance.title="Order",o.componentInstance.deleteItem=()=>{this.deleteAds(t)}}deleteAds(t){this.firebase.delete({path:["order",t],onComplete:()=>{window.location.reload()}})}shipped(t){console.log(t),this.firebase.update({path:["order",t],data:{status:"shipped"},onComplete:o=>{window.location.reload()}})}static#e=this.\u0275fac=function(o){return new(o||e)(B(Zr),B(Co))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-orders"]],decls:16,vars:3,consts:[[1,"filter"],["for","filter"],[3,"change"],["value","all"],["value","waiting"],["value","shipped"],["class","table table-responsive table-control","style","border: 1.5px solid rgba(149, 138, 138, 0.401); border-radius: 10px;",4,"ngIf"],["class","card",4,"ngIf"],["class","loading",4,"ngIf"],[1,"table","table-responsive","table-control",2,"border","1.5px solid rgba(149, 138, 138, 0.401)","border-radius","10px"],[1,"table","table-striped","table-bordered"],[1,"item-expanded"],[1,"total"],[4,"ngFor","ngForOf"],["id","listing_pagination","directionLink","true",3,"pageChange"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"card"],[1,"not-found"],[1,"loading"]],template:function(o,s){1&o&&(A(0,"h1")(1,"i"),k(2,"Orders"),O()(),A(3,"div",0)(4,"label",1),k(5,"Filter By Status : "),O(),A(6,"select",2),Te("change",function(f){return s.onFilter(f)}),A(7,"option",3),k(8,"All"),O(),A(9,"option",4),k(10,"Waiting"),O(),A(11,"option",5),k(12,"Shipped"),O()()(),de(13,oq,40,8,"div",6),de(14,sq,3,0,"div",7),de(15,aq,2,0,"div",8)),2&o&&(V(13),X("ngIf",0!==(null==s.orders?null:s.orders.length)&&!s.isLoaingOrder),V(1),X("ngIf",0==(null==s.orders?null:s.orders.length)&&!s.isLoaingOrder),V(1),X("ngIf",s.isLoaingOrder))},dependencies:[Wr,yr,vb,a_,u_,rf,_b],styles:[".item-expanded[_ngcontent-%COMP%]{width:8%}.total[_ngcontent-%COMP%]{width:150px}h1[_ngcontent-%COMP%]{margin-bottom:80}table[_ngcontent-%COMP%]{width:185%;overflow-x:scroll}th[_ngcontent-%COMP%]{background-color:#4b4848;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.details[_ngcontent-%COMP%]{width:17%}.loading[_ngcontent-%COMP%]{margin-top:150px;text-align:center}.cat-img[_ngcontent-%COMP%]{background-size:cover;width:230px;height:130px}.card[_ngcontent-%COMP%]{height:90px}.card[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;font-size:22px;text-align:center;vertical-align:middle}.filter[_ngcontent-%COMP%]{margin-bottom:50px;margin-top:20px}.filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:250px;text-align:center;height:30px;margin-left:20px}.table-control[_ngcontent-%COMP%]{margin-top:130px}"]})}return e})(),cq=(()=>{class e{constructor(){this.storage=new C_}uploadImage(t,o){let s="";this.storage.upload({uploadName:t.name,path:[o,t.name,"image"],data:{data:t},onComplete:l=>(s=l,console.log(l),l)})}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lq(e,i){if(1&e&&(A(0,"option",26),k(1),O()),2&e){const t=i.$implicit;Ss("value",t.category_id),V(1),or(" ",t.title," ")}}function dq(e,i){if(1&e){const t=tn();A(0,"div",27)(1,"div",28)(2,"i",29),Te("click",function(){const l=Ye(t).index;return yt(fe().deleteImage(l))}),O(),He(3,"img",30),O()()}if(2&e){const t=i.$implicit;V(3),X("src",t,$r)}}function fq(e,i){1&e&&He(0,"i",31)}function hq(e,i){if(1&e){const t=tn();A(0,"button",32),Te("click",function(){return Ye(t),yt(fe().uploadProductImage())}),k(1,"Upload Product Images"),O()}}function pq(e,i){1&e&&He(0,"i",31)}function gq(e,i){if(1&e){const t=tn();A(0,"button",33),Te("click",function(){return Ye(t),yt(fe().addProduct())}),He(1,"i",34),k(2," Add "),O()}}let mq=(()=>{class e{constructor(t,o,s,l,f){this.categoryService=t,this.modalService=o,this.formBuilder=s,this.uploadImageService=l,this.sanitizer=f,this.categories=[],this.productImages=[],this.productImagesUrl=[],this.canAddProduct=!1,this.isloadingAdd=!1,this.isloadingUploadImg=!1,this.productImagesFile=[],this.file="",this.storage=new C_,this.firestore=new Eo}ngOnDestroy(){}ngOnInit(){this.form=this.formBuilder.group({title:["",si.required],price:["",si.required],description:["",si.required],category:["",si.required],is_on_sale:[!1,si.required],important:[!1,si.required],on_sale_price:["",si.required]}),this.getCategories()}getCategories(){this.categories=this.categoryService.getCategory()}closeModal(){this.modalService.dismissAll()}getImage(t){this.imageFile=t.target.files[0],this.file=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(this.imageFile))}getProductImages(t){for(let o of t.target.files)this.productImagesFile.push(o),this.productImages.push(this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(o)))}setCategory(t){this.form.get("category")?.setValue(t.target.value),console.log(this.form)}setImportant(t){this.form.get("important")?.setValue(t.target.value),console.log(this.form)}setIsOnSale(t){this.form.get("is_on_sale")?.setValue(t.target.value),console.log(this.form)}uploadProductImage(){for(let t of this.productImagesFile)this.isloadingUploadImg=!0,this.storage.upload({uploadName:t.name,path:["userImages",t.name],data:{data:t},onComplete:o=>{this.productImagesUrl.push(o),this.canAddProduct=!0,this.isloadingUploadImg=!1}})}addProduct(){let t=this.firestore.genDocId();null!==this.imageFile&&(this.isloadingAdd=!0,this.storage.upload({uploadName:this.imageFile.name,path:["userImages",t],data:{data:this.imageFile},onComplete:o=>{this.firestore.create({path:["product",t],data:{title:this.form.value.title,description:this.form.value.description,price:String(this.form.value.price),is_on_sale:!!this.form.value.is_on_sale,on_sale_price:String(this.form.value.on_sale_price),main_image:o,important:!!this.form.value.important,category:this.form.value.category,product_image:this.productImagesUrl,product_id:t},onComplete:s=>{this.isloadingAdd=!1,this.modalService.dismissAll(),window.location.reload()}})}}))}deleteImage(t){console.log(t),this.productImages.splice(t,1)}static#e=this.\u0275fac=function(o){return new(o||e)(B(mb),B(Co),B(hp),B(cq),B(Pm))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-add-product"]],decls:62,vars:8,consts:[[1,"scroll"],[1,"modal-header"],[1,"modal-title","text-dark","text-bold-300"],["type","button",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body","modal-dialog-scrollable"],[1,"row"],[1,"form-group","col-md-4"],["type","text","id","title","placeholder","title","formControlName","title",1,"form-control"],["type","number","id","price","placeholder","price","formControlName","price",1,"form-control"],[1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],["value","false"],["value","true"],["type","number","id","price","placeholder","On Sale Price","formControlName","on_sale_price",1,"form-control"],["alt","",1,"main-image",3,"src"],["type","file",1,"form-control",3,"change"],[1,"form-group","col-md-8"],["name","","id","","cols","30","rows","3","formControlName","description",2,"width","100%"],[1,"form-group"],["type","file","multiple","",1,"form-control",3,"change"],["class","col ",4,"ngFor","ngForOf"],["class","pi pi-spin pi-spinner",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"modal-footer"],["type","submit","class","btn btn-success matches-list-clear glow mb-0",3,"click",4,"ngIf"],[3,"value"],[1,"col"],[2,"display","block"],[1,"pi","pi-trash",3,"click"],["alt","","width","100px","height","200px",1,"product-images",3,"src"],[1,"pi","pi-spin","pi-spinner"],[1,"btn","btn-success",3,"click"],["type","submit",1,"btn","btn-success","matches-list-clear","glow","mb-0",3,"click"],[1,"ft-check"]],template:function(o,s){1&o&&(A(0,"div",0)(1,"div",1)(2,"h4",2),k(3," Add New Product "),O(),A(4,"button",3),Te("click",function(){return s.closeModal()}),O()(),A(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"label"),k(10,"Title : "),O(),He(11,"input",8),O(),A(12,"div",7)(13,"label"),k(14,"Price : "),O(),He(15,"input",9),O(),A(16,"div",7)(17,"label"),k(18,"Category :"),O(),A(19,"select",10),Te("change",function(f){return s.setCategory(f)}),de(20,lq,2,2,"option",11),O()(),A(21,"div",7)(22,"label"),k(23,"Important : "),O(),A(24,"select",10),Te("change",function(f){return s.setImportant(f)}),A(25,"option",12),k(26," False "),O(),A(27,"option",13),k(28," True "),O()()(),A(29,"div",7)(30,"label"),k(31,"Is On Sale : "),O(),A(32,"select",10),Te("change",function(f){return s.setIsOnSale(f)}),A(33,"option",12),k(34," False "),O(),A(35,"option",13),k(36," True "),O()()(),A(37,"div",7)(38,"label"),k(39,"On Sale Price : "),O(),He(40,"input",14),O(),A(41,"div",7)(42,"label"),k(43,"Pick Images : "),O(),He(44,"img",15),A(45,"input",16),Te("change",function(f){return s.getImage(f)}),O()(),A(46,"div",17)(47,"label"),k(48,"Description : "),O(),A(49,"div"),He(50,"textarea",18),O()()(),A(51,"div",19)(52,"label"),k(53,"Pick Product Images : "),O(),A(54,"input",20),Te("change",function(f){return s.getProductImages(f)}),O(),A(55,"div",6),de(56,dq,4,1,"div",21),O()(),de(57,fq,1,0,"i",22),de(58,hq,2,0,"button",23),O(),A(59,"div",24),de(60,pq,1,0,"i",22),de(61,gq,3,0,"button",25),O()()()),2&o&&(V(5),X("formGroup",s.form),V(15),X("ngForOf",s.categories),V(24),X("src",s.file,$r),V(12),X("ngForOf",s.productImages),V(1),X("ngIf",s.isloadingUploadImg),V(1),X("ngIf",0!==s.productImagesFile.length||!s.isloadingUploadImg),V(2),X("ngIf",s.isloadingAdd),V(1),X("ngIf",s.productImagesUrl.length===s.productImagesFile.length&&0!==s.productImagesUrl.length||!s.isloadingAdd))},dependencies:[Wr,yr,qd,a_,u_,Ju,z0,Hd,$d,Xu,pl],styles:[".form-group[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin-bottom:8px}.scroll[_ngcontent-%COMP%]{overflow:scroll;height:400px}.main-image[_ngcontent-%COMP%]{width:100%;max-height:95px!important}.product-images[_ngcontent-%COMP%]{margin-left:10px;margin-top:4px;display:block}.pi[_ngcontent-%COMP%]{margin-bottom:0;margin-top:15px;display:block;color:red;cursor:pointer;margin-left:8px}"]})}return e})();function _q(e,i){if(1&e&&(A(0,"div",6),He(1,"img",7),O()),2&e){const t=i.$implicit;V(1),Ss("src",t,$r)}}let vq=(()=>{class e{constructor(t){this.modalService=t,this.productImages=[]}closeModal(){this.modalService.dismissAll()}static#e=this.\u0275fac=function(o){return new(o||e)(B(Co))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-view-product-images"]],inputs:{productImages:"productImages"},decls:7,vars:1,consts:[[1,"scroll"],[1,"modal-header"],[1,"modal-title","text-dark","text-bold-300"],["type","button",1,"btn-close",3,"click"],[1,"modal-body","modal-dialog-scrollable"],["class","image-card",4,"ngFor","ngForOf"],[1,"image-card"],["alt","","width","150px","height","250px",3,"src"]],template:function(o,s){1&o&&(A(0,"div",0)(1,"div",1)(2,"h4",2),k(3," Product Images "),O(),A(4,"button",3),Te("click",function(){return s.closeModal()}),O()(),A(5,"div",4),de(6,_q,2,1,"div",5),O()()),2&o&&(V(6),X("ngForOf",s.productImages))},dependencies:[Wr],styles:[".image-card[_ngcontent-%COMP%]{box-shadow:0 -2px 3px 2px #0003;border-radius:7px;margin-right:10px!important;display:inline-block}.image-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:10px}"]})}return e})();function yq(e,i){if(1&e&&(A(0,"option",21),k(1),O()),2&e){const t=i.$implicit;Ss("value",t.category_id),V(1),or(" ",t.title," ")}}function bq(e,i){1&e&&He(0,"i",22)}function wq(e,i){if(1&e){const t=tn();A(0,"button",23),Te("click",function(){return Ye(t),yt(fe().editProduct())}),He(1,"i",24),k(2," Edit "),O()}}let Dq=(()=>{class e{constructor(t,o,s){this.categoryService=t,this.modalService=o,this.formBuilder=s,this.categories=[],this.isloadingUpdate=!1,this.firestore=new Eo}ngOnInit(){this.form=this.formBuilder.group({title:[this.product.title,si.required],price:[this.product.price,si.required],description:[this.product.description,si.required],category:[this.product.category,si.required],is_on_sale:[this.product.is_on_sale,si.required],important:[this.product.important,si.required],on_sale_price:[this.product.on_sale_price,si.required]}),console.log(this.form.value),this.getCategories()}getCategories(){this.categories=this.categoryService.getCategory()}closeModal(){this.modalService.dismissAll()}setCategory(t){this.form.get("category")?.setValue(t.target.value),console.log(this.form)}setImportant(t){this.form.get("important")?.setValue(t.target.value),console.log(this.form)}setIsOnSale(t){this.form.get("is_on_sale")?.setValue(t.target.value),console.log(this.form)}editProduct(){this.isloadingUpdate=!0,this.firestore.update({path:["product",String(this.product?.product_id)],data:{title:this.form.value.title,description:this.form.value.description,price:String(this.form.value.price),is_on_sale:!!this.form.value.is_on_sale,on_sale_price:String(this.form.value.on_sale_price),important:!!this.form.value.important,category:this.form.value.category},onComplete:t=>{this.isloadingUpdate=!1,console.log(t),this.modalService.dismissAll(),window.location.reload()}})}static#e=this.\u0275fac=function(o){return new(o||e)(B(mb),B(Co),B(hp))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-edit-product"]],inputs:{product:"product"},decls:41,vars:4,consts:[[1,"scroll"],[1,"modal-header"],[1,"modal-title","text-dark","text-bold-300"],["type","button",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body","modal-dialog-scrollable"],[1,"row"],[1,"form-group","col-md-4"],["type","text","id","title","placeholder","title","formControlName","title",1,"form-control"],["type","number","id","price","placeholder","price","formControlName","price",1,"form-control"],["formControlName","category",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-md-4","mt-3"],["type","checkbox","formControlName","important",1,"checkbox"],["type","checkbox","formControlName","is_on_sale",1,"checkbox"],["type","number","id","price","placeholder","On Sale Price","formControlName","on_sale_price",1,"form-control"],[1,"form-group"],["name","","id","","cols","30","rows","5","formControlName","description",2,"width","100%"],[1,"modal-footer"],["class","pi pi-spin pi-spinner",4,"ngIf"],["type","submit","class","btn btn-success matches-list-clear glow mb-0",3,"click",4,"ngIf"],[3,"value"],[1,"pi","pi-spin","pi-spinner"],["type","submit",1,"btn","btn-success","matches-list-clear","glow","mb-0",3,"click"],[1,"ft-check"]],template:function(o,s){1&o&&(A(0,"div",0)(1,"div",1)(2,"h4",2),k(3," Edit Product "),O(),A(4,"button",3),Te("click",function(){return s.closeModal()}),O()(),A(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"label"),k(10,"Title : "),O(),He(11,"input",8),O(),A(12,"div",7)(13,"label"),k(14,"Price : "),O(),He(15,"input",9),O(),A(16,"div",7)(17,"label"),k(18,"Category :"),O(),A(19,"select",10),Te("change",function(f){return s.setCategory(f)}),de(20,yq,2,2,"option",11),O()(),A(21,"div",12),He(22,"input",13),A(23,"label"),k(24," Important"),O()(),A(25,"div",12),He(26,"input",14),A(27,"label"),k(28,"Is On Sale "),O()(),A(29,"div",7)(30,"label"),k(31,"On Sale Price : "),O(),He(32,"input",15),O(),A(33,"div",16)(34,"label"),k(35,"Description : "),O(),A(36,"div"),He(37,"textarea",17),O()()(),A(38,"div",18),de(39,bq,1,0,"i",19),de(40,wq,3,0,"button",20),O()()()()),2&o&&(V(5),X("formGroup",s.form),V(15),X("ngForOf",s.categories),V(19),X("ngIf",s.isloadingUpdate),V(1),X("ngIf",!s.isloadingUpdate))},dependencies:[Wr,yr,qd,a_,u_,Ju,z0,hC,q0,Hd,$d,Xu,pl],styles:[".checkbox[_ngcontent-%COMP%]{margin-right:14px}.scroll[_ngcontent-%COMP%]{overflow:scroll;height:400px}"]})}return e})();function Cq(e,i){if(1&e){const t=tn();A(0,"tr")(1,"td"),k(2),O(),A(3,"td"),He(4,"img",13),O(),A(5,"td"),k(6),O(),A(7,"td"),k(8),O(),A(9,"td"),k(10),O(),A(11,"td"),k(12),O(),A(13,"td"),k(14),O(),A(15,"td"),k(16),O(),A(17,"td"),k(18),O(),A(19,"td")(20,"button",14),Te("click",function(){const l=Ye(t).$implicit;return yt(fe(2).getProducImages(l.product_image))}),k(21,"View"),O()(),A(22,"td")(23,"button",15),Te("click",function(){const l=Ye(t).$implicit;return yt(fe(2).updateProduct(l))}),k(24,"Edit"),O()(),A(25,"td")(26,"button",16),Te("click",function(){const l=Ye(t).$implicit;return yt(fe(2).openDeleteProduct(l.product_id))}),k(27,"Delete"),O()()()}if(2&e){const t=i.$implicit,o=fe(2);V(2),st(t.product_id),V(2),Ss("src",t.main_image,$r),V(2),st(t.title),V(2),st(t.description),V(2),st(o.getCategoryTitle(t.category)),V(2),or("",t.price," L.E"),V(2),st(t.is_on_sale),V(2),or("",t.on_sale_price," L.E"),V(2),st(t.important)}}const Eq=function(e,i,t){return{id:"listing_pagination",itemsPerPage:e,currentPage:i,totalItems:t}};function Sq(e,i){if(1&e){const t=tn();A(0,"div",5)(1,"table",6)(2,"thead")(3,"tr")(4,"th"),k(5,"ID"),O(),A(6,"th",7),k(7,"Image"),O(),A(8,"th",8),k(9,"Title"),O(),A(10,"th",9),k(11,"Description"),O(),A(12,"th",10),k(13,"Category"),O(),A(14,"th",7),k(15,"Price"),O(),A(16,"th",7),k(17,"On Sale"),O(),A(18,"th",7),k(19,"On Sale Price"),O(),A(20,"th"),k(21,"Important"),O(),A(22,"th"),k(23,"Product Image"),O(),A(24,"th"),k(25,"Edit"),O(),A(26,"th"),k(27,"Delete"),O()()(),A(28,"tbody"),de(29,Cq,28,9,"tr",11),Od(30,"paginate"),O()(),A(31,"pagination-controls",12),Te("pageChange",function(s){return Ye(t),yt(fe().page=s)}),O()()}if(2&e){const t=fe();V(29),X("ngForOf",xd(30,1,t.products,Ad(4,Eq,t.itemsPerPage,t.page,t.totalRecords)))}}function Tq(e,i){1&e&&(A(0,"div",17)(1,"i",18),k(2,"No Products Found"),O()())}function Iq(e,i){1&e&&(A(0,"div",19),He(1,"app-loading"),O())}let Mq=(()=>{class e{constructor(t,o,s){this.router=t,this.modalService=o,this.categoryService=s,this.products=[],this.cactegories=[],this.isLoaingProuct=!1,this.totalRecords=0,this.itemsPerPage=5,this.page=1,this.firebase=new Eo}ngOnInit(){this.getProduct()}getProduct(){this.isLoaingProuct=!0,this.firebase.getCollection({path:["product"],where:[],onComplete:t=>{t.docs.forEach(o=>{let s=o.data();this.products.push(s)}),this.cactegories=this.categoryService.getCategory(),this.isLoaingProuct=!1,this.totalRecords=this.products.length},onFail:()=>{this.isLoaingProuct=!1,this.router.navigate(["/notFound"])}})}getCategoryTitle(t){let o="";return""!==t&&(o=this.cactegories.find(s=>s.category_id===t).title),o}openAddProduct(){this.modalService.open(mq,{backdrop:!1,windowClass:"modal-holder",scrollable:!0,centered:!0,size:"xl"})}openDeleteProduct(t){const o=this.modalService.open(gb,{backdrop:!1,windowClass:"modal-holder",scrollable:!0,centered:!0,size:"md"});o.componentInstance.title="Product",o.componentInstance.deleteItem=()=>{this.deleteProduct(t)}}deleteProduct(t){this.firebase.delete({path:["product",t],onComplete:()=>{window.location.reload()}})}getProducImages(t){this.modalService.open(vq,{backdrop:!1,windowClass:"modal-holder",scrollable:!0,centered:!0,size:"xl"}).componentInstance.productImages=t}updateProduct(t){this.modalService.open(Dq,{backdrop:!1,windowClass:"modal-holder",scrollable:!0,centered:!0,size:"xl"}).componentInstance.product=t}static#e=this.\u0275fac=function(o){return new(o||e)(B(Zr),B(Co),B(mb))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-products"]],decls:8,vars:3,consts:[[1,"box"],[1,"btn","btn-success",3,"click"],["class","table table-responsive","style","border: 1.5px solid rgba(149, 138, 138, 0.401); border-radius: 10px;",4,"ngIf"],["class","card",4,"ngIf"],["class","loading",4,"ngIf"],[1,"table","table-responsive",2,"border","1.5px solid rgba(149, 138, 138, 0.401)","border-radius","10px"],[1,"table","table-striped","table-bordered"],[1,"table-head"],[1,"title"],[1,"description"],[1,"category"],[4,"ngFor","ngForOf"],["id","listing_pagination","directionLink","true",3,"pageChange"],["alt","","height","130",3,"src"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-secondary",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"card"],[1,"not-found"],[1,"loading"]],template:function(o,s){1&o&&(A(0,"h1"),k(1,"Products"),O(),A(2,"div",0)(3,"button",1),Te("click",function(){return s.openAddProduct()}),k(4,"Add Product"),O()(),de(5,Sq,32,8,"div",2),de(6,Tq,3,0,"div",3),de(7,Iq,2,0,"div",4)),2&o&&(V(5),X("ngIf",!s.isLoaingProuct),V(1),X("ngIf",0==(null==s.products?null:s.products.length)&&!s.isLoaingProuct),V(1),X("ngIf",s.isLoaingProuct))},dependencies:[Wr,yr,vb,rf,_b],styles:[".box[_ngcontent-%COMP%]{border:1.2px solid grey;border-radius:5px;width:100%;padding:1px;margin-bottom:80px}th[_ngcontent-%COMP%]{background-color:#4b4848;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}table[_ngcontent-%COMP%]{width:165%;overflow-x:scroll}.title[_ngcontent-%COMP%]{width:20%}.description[_ngcontent-%COMP%]{width:40%}.loading[_ngcontent-%COMP%]{margin-top:150px;text-align:center}.table-head[_ngcontent-%COMP%]{width:6%}.category[_ngcontent-%COMP%]{width:9%}.card[_ngcontent-%COMP%]{height:90px}.card[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;font-size:22px;text-align:center;vertical-align:middle}"]})}return e})();function Nq(e,i){if(1&e){const t=tn();A(0,"div")(1,"div",2)(2,"div",3)(3,"span"),k(4,"Delivery Fees Amount :"),O(),A(5,"input",4),Te("change",function(s){return Ye(t),yt(fe().getDeliveryFeesChanged(s))}),O()(),A(6,"div",5)(7,"button",6),Te("click",function(){return Ye(t),yt(fe().editDeliveryValue())}),k(8,"Update"),O()()(),A(9,"div",7)(10,"div",3)(11,"span"),k(12,"Order Delivery Message : "),O(),A(13,"input",8),Te("change",function(s){return Ye(t),yt(fe().getMsgChanged(s))}),O()(),A(14,"div",5)(15,"button",6),Te("click",function(){return Ye(t),yt(fe().editMsg())}),k(16,"Update"),O()()()()}if(2&e){const t=fe();V(5),Ss("value",t.deliveryValue),V(8),Ss("value",t.sendOrderMsg)}}function Aq(e,i){1&e&&(A(0,"div",9),He(1,"app-loading"),O())}let Oq=(()=>{class e{constructor(){this.isLoading=!1,this.firestore=new Eo,this.deliveryValue="",this.sendOrderMsg=""}ngOnInit(){this.getDeliveryVal(),this.getsendOrderMsg()}getDeliveryVal(){this.isLoading=!0,this.firestore.getDocument({path:["configration","deliveryFees"],onComplete:t=>{this.deliveryValue=t.data().delivery_fees,this.isLoading=!1}})}getsendOrderMsg(){this.isLoading=!0,this.firestore.getDocument({path:["configration","sendOrderMsg"],onComplete:t=>{this.sendOrderMsg=t.data().msg,this.isLoading=!1}})}getMsgChanged(t){this.sendOrderMsg=t.target.value}getDeliveryFeesChanged(t){this.deliveryValue=t.target.value}editMsg(){this.firestore.update({path:["configration","sendOrderMsg"],data:{msg:this.sendOrderMsg},onComplete:t=>{window.location.reload()}})}editDeliveryValue(){this.firestore.update({path:["configration","deliveryFees"],data:{delivery_fees:this.deliveryValue},onComplete:t=>{window.location.reload()}})}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-setting"]],decls:5,vars:2,consts:[[4,"ngIf"],["class","loading",4,"ngIf"],[1,"row","mt-5","mb-3"],[1,"col-8"],["type","number",3,"value","change"],[1,"col"],[1,"btn","btn-primary",3,"click"],[1,"row"],["type","text",3,"value","change"],[1,"loading"]],template:function(o,s){1&o&&(A(0,"h1")(1,"i"),k(2,"Project Settings"),O()(),de(3,Nq,17,2,"div",0),de(4,Aq,2,0,"div",1)),2&o&&(V(3),X("ngIf",!s.isLoading),V(1),X("ngIf",s.isLoading))},dependencies:[yr,rf],styles:["input[_ngcontent-%COMP%]{width:300px;margin-left:10px;border-radius:7px;height:37px;padding:5px}span[_ngcontent-%COMP%]{display:inline-block;width:180px}.col-8[_ngcontent-%COMP%], .col[_ngcontent-%COMP%]{margin-top:20px}.loading[_ngcontent-%COMP%]{margin-top:200px;text-align:center}.col[_ngcontent-%COMP%]{margin-top:20px;text-align:center}"]})}return e})();function xq(e,i){if(1&e){const t=tn();A(0,"td")(1,"button",19),Te("click",function(){Ye(t);const s=fe().$implicit;return yt(fe(2).changeOrderSatus("accepted",s.order_id))}),k(2,"Accept"),O()()}}function Rq(e,i){1&e&&(A(0,"td",20),k(1,"Accepted"),O())}function Pq(e,i){1&e&&He(0,"td")}function kq(e,i){if(1&e){const t=tn();A(0,"td")(1,"button",21),Te("click",function(){Ye(t);const s=fe().$implicit;return yt(fe(2).changeOrderSatus("rejected",s.order_id))}),k(2,"Reject"),O()()}}function Fq(e,i){1&e&&(A(0,"td",22),k(1,"Rejected"),O())}function Lq(e,i){1&e&&He(0,"td")}function Vq(e,i){if(1&e){const t=tn();A(0,"tr")(1,"td"),k(2),O(),A(3,"td"),k(4),O(),A(5,"td"),k(6),O(),A(7,"td"),k(8),O(),A(9,"td"),k(10),O(),A(11,"td"),k(12),O(),A(13,"td"),k(14),O(),A(15,"td"),k(16),O(),A(17,"td")(18,"button",15),Te("click",function(){const l=Ye(t).$implicit;return yt(fe(2).showUserData(l.user_id))}),k(19,"View"),O()(),de(20,xq,3,0,"td",16),de(21,Rq,2,0,"td",17),de(22,Pq,1,0,"td",16),de(23,kq,3,0,"td",16),de(24,Fq,2,0,"td",18),de(25,Lq,1,0,"td",16),O()}if(2&e){const t=i.$implicit;V(2),st(t.order_id),V(2),st(t.full_name),V(2),st(t.email),V(2),st(t.phone),V(2),st(t.special_order),V(2),st(t.description),V(2),st(t.address),V(2),st(t.status),V(4),X("ngIf","in_progress"===t.status),V(1),X("ngIf","accepted"===t.status),V(1),X("ngIf","rejected"===t.status),V(1),X("ngIf","in_progress"===t.status),V(1),X("ngIf","rejected"===t.status),V(1),X("ngIf","accepted"===t.status)}}const Bq=function(e,i,t){return{id:"listing_pagination",itemsPerPage:e,currentPage:i,totalItems:t}};function jq(e,i){if(1&e){const t=tn();A(0,"div",10)(1,"table",11)(2,"thead")(3,"tr")(4,"th"),k(5,"Order ID"),O(),A(6,"th"),k(7,"User Name"),O(),A(8,"th"),k(9,"email"),O(),A(10,"th"),k(11,"Phone"),O(),A(12,"th",12),k(13,"Order"),O(),A(14,"th",12),k(15,"Description"),O(),A(16,"th"),k(17,"Address"),O(),A(18,"th"),k(19,"Order Status"),O(),A(20,"th"),k(21,"User Info"),O(),A(22,"th"),k(23,"Accept"),O(),A(24,"th"),k(25,"Reject"),O()()(),A(26,"tbody"),de(27,Vq,26,14,"tr",13),Od(28,"paginate"),O()(),A(29,"pagination-controls",14),Te("pageChange",function(s){return Ye(t),yt(fe().page=s)}),O()()}if(2&e){const t=fe();V(27),X("ngForOf",xd(28,1,t.orders,Ad(4,Bq,t.itemsPerPage,t.page,t.totalRecords)))}}function Uq(e,i){1&e&&(A(0,"div",23)(1,"i",24),k(2,"No Orders Found"),O()())}function Hq(e,i){1&e&&(A(0,"div",25),He(1,"app-loading"),O())}let $q=(()=>{class e{constructor(t,o){this.router=t,this.modalService=o,this.isLoaingOrder=!1,this.orders=[],this.firebase=new Eo,this.totalRecords=0,this.itemsPerPage=15,this.page=1}ngOnInit(){this.getSpecialOrders()}getSpecialOrders(){this.isLoaingOrder=!0,this.orders=[],this.firebase.getCollection({path:["specialOrder"],where:[],onComplete:t=>{t.docs.forEach(o=>{let s=o.data();s.order_id=o.id,this.orders.push(s)}),this.isLoaingOrder=!1,this.totalRecords=this.orders.length},onFail:t=>{this.router.navigate(["/notFound"])}})}orderFiltered(t){this.isLoaingOrder=!0,this.orders=[],this.firebase.getCollection({path:["specialOrder"],where:[new KR("status","==",t)],onComplete:o=>{o.docs.forEach(s=>{let l=s.data();l.order_id=s.id,this.orders.push(l)}),this.isLoaingOrder=!1,this.totalRecords=this.orders.length},onFail:o=>{this.router.navigate(["/notFound"])}})}onFilter(t){let o=t.target.value;console.log(o),"all"===o?this.getSpecialOrders():this.orderFiltered(o)}changeOrderSatus(t,o){this.firebase.update({path:["specialOrder",o],data:{status:t}})}showUserData(t){this.modalService.open(QR,{backdrop:!1,windowClass:"modal-holder",scrollable:!0,centered:!0,size:"xl"}).componentInstance.userId=t}static#e=this.\u0275fac=function(o){return new(o||e)(B(Zr),B(Co))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-special-order"]],decls:18,vars:3,consts:[[1,"filter"],["for","filter"],[3,"change"],["value","all"],["value","in_progress"],["value","accepted"],["value","rejected"],["class","table table-responsive","style","border: 1.5px solid rgba(149, 138, 138, 0.401); border-radius: 10px;",4,"ngIf"],["class","card",4,"ngIf"],["class","loading",4,"ngIf"],[1,"table","table-responsive",2,"border","1.5px solid rgba(149, 138, 138, 0.401)","border-radius","10px"],[1,"table","table-striped","table-bordered"],[1,"details"],[4,"ngFor","ngForOf"],["id","listing_pagination","directionLink","true",3,"pageChange"],[1,"btn","btn-secondary",3,"click"],[4,"ngIf"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[1,"btn","btn-success",3,"click"],[2,"color","green"],[1,"btn","btn-danger",3,"click"],[2,"color","red"],[1,"card"],[1,"not-found"],[1,"loading"]],template:function(o,s){1&o&&(A(0,"h1")(1,"i"),k(2,"Spacial Orders"),O()(),A(3,"div",0)(4,"label",1),k(5,"Filter By Status : "),O(),A(6,"select",2),Te("change",function(f){return s.onFilter(f)}),A(7,"option",3),k(8,"All"),O(),A(9,"option",4),k(10,"In Progress"),O(),A(11,"option",5),k(12,"Accepted"),O(),A(13,"option",6),k(14,"Rejected"),O()()(),de(15,jq,30,8,"div",7),de(16,Uq,3,0,"div",8),de(17,Hq,2,0,"div",9)),2&o&&(V(15),X("ngIf",0!==(null==s.orders?null:s.orders.length)&&!s.isLoaingOrder),V(1),X("ngIf",0==(null==s.orders?null:s.orders.length)&&!s.isLoaingOrder),V(1),X("ngIf",s.isLoaingOrder))},dependencies:[Wr,yr,vb,a_,u_,rf,_b],styles:[".box[_ngcontent-%COMP%]{border:1.2px solid grey;border-radius:5px;padding:1px;margin-bottom:80px}table[_ngcontent-%COMP%]{width:165%;overflow-x:scroll}th[_ngcontent-%COMP%]{background-color:#4b4848;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.details[_ngcontent-%COMP%]{width:17%}.loading[_ngcontent-%COMP%]{margin-top:150px;text-align:center}.cat-img[_ngcontent-%COMP%]{background-size:cover;width:230px;height:130px}.card[_ngcontent-%COMP%]{height:90px}.card[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;font-size:22px;text-align:center;vertical-align:middle}.filter[_ngcontent-%COMP%]{margin-bottom:50px;margin-top:20px}.filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:250px;text-align:center;height:30px;margin-left:20px}"]})}return e})();const Gq=[{routerLink:"home",icon:"pi pi-home",lable:"Dashboard"},{routerLink:"product",icon:"pi pi-database",lable:"Products"},{routerLink:"category",icon:"pi pi-th-large",lable:"Category"},{routerLink:"ads",icon:"pi pi-money-bill",lable:"Ads"},{routerLink:"special-order",icon:"pi pi-ticket",lable:"Special Order"},{routerLink:"order",icon:"pi pi-shopping-bag",lable:"Orders"},{routerLink:"reports",icon:"pi pi-file-edit",lable:"Reports"},{routerLink:"setting",icon:"pi pi-cog",lable:"Settings"}];class YR{}class zq{}const nc="*";function qq(e,i){return{type:7,name:e,definitions:i,options:{}}}function JR(e,i=null){return{type:4,styles:i,timings:e}}function XR(e,i=null){return{type:2,steps:e,options:i}}function E_(e){return{type:6,styles:e,offset:null}}function eP(e,i,t){return{type:0,name:e,styles:i,options:t}}function tP(e,i,t=null){return{type:1,expr:e,animation:i,options:t}}class S_{constructor(i=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class nP{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let t=0,o=0,s=0;const l=this.players.length;0==l?queueMicrotask(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++t==l&&this._onFinish()}),f.onDestroy(()=>{++o==l&&this._onDestroy()}),f.onStart(()=>{++s==l&&this._onStart()})}),this.totalTime=this.players.reduce((f,p)=>Math.max(f,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const t=i*this.totalTime;this.players.forEach(o=>{const s=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(s)})}getPosition(){const i=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}function Wq(e,i){if(1&e&&(A(0,"span",11),k(1),O()),2&e){const t=fe(2).$implicit;V(1),or("",t.lable," 1")}}function Zq(e,i){1&e&&He(0,"i",12),2&e&&X("ngClass",fe(2).$implicit.expanded?"pi pi-angle-down":"pi pi-angle-right")}function Kq(e,i){if(1&e){const t=tn();A(0,"a",7),Te("click",function(){Ye(t);const s=fe().$implicit;return yt(fe(2).handleClick(s))}),He(1,"i",8),de(2,Wq,2,1,"span",9),de(3,Zq,1,1,"i",10),O()}if(2&e){const t=fe().$implicit,o=fe(2);V(2),X("ngIf",o.collapsed),V(1),X("ngIf",t.subItem&&o.collapsed)}}function Qq(e,i){if(1&e&&(A(0,"span",11),k(1),O()),2&e){const t=fe(2).$implicit;V(1),or("",t.lable," 2")}}const Yq=function(e){return[e]},Jq=function(){return{exact:!0}};function Xq(e,i){if(1&e&&(A(0,"a",13),He(1,"i",8),de(2,Qq,2,1,"span",9),O()),2&e){const t=fe().$implicit,o=fe(2);X("routerLink",Za(3,Yq,t.routerLink))("routerLinkActiveOptions",zy(5,Jq)),V(2),X("ngIf",o.collapsed)}}function eW(e,i){if(1&e&&(A(0,"div"),He(1,"app-sublevel-menu",14),O()),2&e){const t=fe().$implicit,o=fe(2);V(1),X("data",t)("collapsed",o.collapsed)("expanded",t.expanded)("multiple",o.multiple)}}function tW(e,i){if(1&e&&(A(0,"li",3),de(1,Kq,4,2,"a",4),de(2,Xq,3,6,"a",5),de(3,eW,2,4,"div",6),O()),2&e){const t=i.$implicit;V(1),X("ngIf",t.subItem&&t.subItem.length>0),V(1),X("ngIf",!t.subItem||t.subItem&&0===t.subItem.length),V(1),X("ngIf",t.subItem&&t.subItem.length>0)}}function nW(e,i){if(1&e&&(A(0,"ul",1),de(1,tW,4,3,"li",2),O()),2&e){const t=fe();V(1),X("ngForOf",t.data.subItem)}}let rW=(()=>{class e{constructor(){this.data={routerLink:"",lable:"",icon:"",subItem:[]},this.collapsed=!1,this.multiple=!1}ngOnInit(){}handleClick(t){if(!this.multiple&&this.data?.subItem&&this.data.subItem.length>0)for(let o of this.data.subItem)t!==o&&o.expanded&&(o.expanded=!0);t.expanded=!t.expanded}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-sublevel-menu"]],inputs:{data:"data",collapsed:"collapsed",animating:"animating",expanded:"expanded",multiple:"multiple"},decls:1,vars:1,consts:[["class","sublevel-nav",4,"ngIf"],[1,"sublevel-nav"],["class","sublevel-nav-item",4,"ngFor","ngForOf"],[1,"sublevel-nav-item"],["class","sublevel-nav-link",3,"click",4,"ngIf"],["class","sublevel-nav-link","routerLinkActive","active-sublevel",3,"routerLink","routerLinkActiveOptions",4,"ngIf"],[4,"ngIf"],[1,"sublevel-nav-link",3,"click"],[1,"sublevel-link-icon","pi","pi-circle-fill"],["class","sublevel-link-text",4,"ngIf"],["class","menu-collapse-icon",3,"ngClass",4,"ngIf"],[1,"sublevel-link-text"],[1,"menu-collapse-icon",3,"ngClass"],["routerLinkActive","active-sublevel",1,"sublevel-nav-link",3,"routerLink","routerLinkActiveOptions"],[3,"data","collapsed","expanded","multiple"]],template:function(o,s){1&o&&de(0,nW,2,1,"ul",0),2&o&&X("ngIf",s.collapsed&&s.expanded&&s.data.subItem&&s.data.subItem.length>0)},dependencies:[Am,Wr,yr,e_,lC,e],styles:[".sidenav[_ngcontent-%COMP%]{background:#263238;transition:all .5s ease;position:fixed;z-index:1;top:0;width:5rem;height:100vh;box-shadow:.063rem 0 1.25rem #8690a3}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.938rem .938rem 0;width:100%}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background-color:#fff;text-align:center;width:3rem;min-width:3rem;border-radius:.5rem;padding:.8rem;font-size:24px;font-weight:900;cursor:pointer;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:24px;font-weight:700;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;width:2rem;padding-top:8px;height:2rem;border-radius:50%;background-color:transparent;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .pi-times[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sidenav-collapsed[_ngcontent-%COMP%]{width:16.5625rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;border-radius:.625rem;text-decoration:none;transition:color .3s ease;color:#f3f3f3}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .sidenav-nav-link[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .menu-collapse-icon[_ngcontent-%COMP%]{color:#000}.active[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .menu-collapse-icon[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{color:#000}.menu-collapse-icon[_ngcontent-%COMP%]{font-size:20px;width:2rem;min-width:2rem;margin:auto .5rem auto auto;text-align:center;color:#f3f3f3}.sublevel-nav[_ngcontent-%COMP%]{list-style:none;margin-left:10px}.sublevel-nav[_ngcontent-%COMP%]   .sublevel-nav-item[_ngcontent-%COMP%]   .sublevel-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;color:#898989;text-decoration:none;border-radius:.625rem;transition:all .3s ease}.sublevel-nav[_ngcontent-%COMP%]   .sublevel-nav-item[_ngcontent-%COMP%]   .sublevel-nav-link[_ngcontent-%COMP%]   .sublevel-link-icon[_ngcontent-%COMP%]{font-size:4px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sublevel-nav[_ngcontent-%COMP%]   .sublevel-nav-item[_ngcontent-%COMP%]   .sublevel-nav-link[_ngcontent-%COMP%]   .sublevel-link-text[_ngcontent-%COMP%]{margin-left:.8rem}.sublevel-nav[_ngcontent-%COMP%]   .sublevel-nav-item[_ngcontent-%COMP%]   .sublevel-nav-link[_ngcontent-%COMP%]:hover{color:#f3f3f3}.active-sublevel[_ngcontent-%COMP%]{color:#fff!important;opacity:1!important}.scrollwarp[_ngcontent-%COMP%]{overflow-y:auto;visibility:hidden;height:calc(100% - 3.65rem)}.sidenav-nav[_ngcontent-%COMP%], .scrollwarp[_ngcontent-%COMP%]:hover, .scrollwarp[_ngcontent-%COMP%]:focus{visibility:visible}.scrollwarp_delayed[_ngcontent-%COMP%]{transition:visibility .5s .2s}.scrollwarp_delayed[_ngcontent-%COMP%]:hover{transition:visibility .2s .2s}.scrollwarp[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.scrollwarp[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.scrollwarp[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#556268;border-radius:20px}.scrollwarp[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#556268}.log-out[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem;color:#fff;font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav[_ngcontent-%COMP%]{list-style:none;padding:.938rem;display:flex;margin:0;flex-direction:column;align-items:center;cursor:pointer}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;border-radius:.625rem;text-decoration:none;transition:color .3s ease;color:#f3f3f3}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .logout[_ngcontent-%COMP%]{background-color:#fff;color:#000}"],data:{animation:[qq("submenu",[eP("hidden",E_({height:"0",overflow:"hidden"})),eP("expanded",E_({height:"*"})),tP("visible <=> hidden",[E_({overflow:"hidden"}),JR("{{transitionParams}")]),tP("void => *",JR(0))])]}})}return e})();function iW(e,i){1&e&&(A(0,"div",12),k(1,"Zezo Shop"),O())}function oW(e,i){if(1&e){const t=tn();A(0,"button",13),Te("click",function(){return Ye(t),yt(fe().close())}),He(1,"i",14),O()}}function sW(e,i){if(1&e&&(A(0,"span",21),k(1),O()),2&e){const t=fe(2).$implicit;V(1),or(" ",t.lable," ")}}function aW(e,i){1&e&&He(0,"i",22),2&e&&X("ngClass",fe(2).$implicit.expanded?"pi pi-angle-down":"pi pi-angle-right")}const yb=function(e){return[e]},rP=function(){return{exact:!0}};function uW(e,i){if(1&e){const t=tn();A(0,"a",18),Te("click",function(){Ye(t);const s=fe().$implicit;return yt(fe().handleClick(s))}),He(1,"i",19),de(2,sW,2,1,"span",11),de(3,aW,1,1,"i",20),O()}if(2&e){const t=fe().$implicit,o=fe();X("routerLink",Za(5,yb,t.routerLink))("routerLinkActiveOptions",zy(7,rP)),V(1),X("ngClass",Za(8,yb,t.icon)),V(1),X("ngIf",o.collapsed),V(1),X("ngIf",t.subItem&&o.collapsed)}}function cW(e,i){if(1&e&&(A(0,"span",21),k(1),O()),2&e){const t=fe(2).$implicit;V(1),or(" ",t.lable," ")}}function lW(e,i){if(1&e){const t=tn();A(0,"a",18),Te("click",function(){Ye(t);const s=fe().$implicit;return yt(fe().handleClick(s))}),He(1,"i",19),de(2,cW,2,1,"span",11),O()}if(2&e){const t=fe().$implicit,o=fe();X("routerLink",Za(4,yb,t.routerLink))("routerLinkActiveOptions",zy(6,rP)),V(1),X("ngClass",Za(7,yb,t.icon)),V(1),X("ngIf",o.collapsed)}}function dW(e,i){if(1&e&&(A(0,"div"),He(1,"app-sublevel-menu",23),O()),2&e){const t=fe().$implicit,o=fe();V(1),X("data",t)("collapsed",o.collapsed)("expanded",t.expanded)("multiple",o.multiple)}}function fW(e,i){if(1&e&&(A(0,"li",8),de(1,uW,4,10,"a",15),de(2,lW,3,9,"a",16),de(3,dW,2,4,"div",17),O()),2&e){const t=i.$implicit,o=fe();V(1),X("ngIf",t.subItem&&t.subItem.length>0),V(1),X("ngIf",!t.subItem||t.subItem&&0===t.subItem.length),V(1),X("ngIf",o.collapsed&&t.subItem&&t.subItem.length>0)}}function hW(e,i){1&e&&(A(0,"span",21),k(1," Logout "),O())}let pW=(()=>{class e{ngOnInit(){this.screenWidth=window.innerWidth}constructor(t){this.router=t,this.onToggleSideNav=new Ke,this.collapsed=!1,this.multiple=!1,this.screenWidth=0,this.navbarData=Gq}strech(){this.collapsed=!this.collapsed,this.onToggleSideNav.emit({collapsed:this.collapsed,screenWidth:this.screenWidth})}close(){this.collapsed=!1,this.onToggleSideNav.emit({collapsed:this.collapsed,screenWidth:this.screenWidth})}handleClick(t){if(!this.multiple)for(let o of this.navbarData)t!==o&&o.expanded&&(o.expanded=!1);t.expanded=!t.expanded}logout(){this.router.navigate(["auth/login"])}static#e=this.\u0275fac=function(o){return new(o||e)(B(Zr))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-side-menu"]],outputs:{onToggleSideNav:"onToggleSideNav"},decls:13,vars:5,consts:[[1,"sidenav",3,"ngClass"],[1,"logo-container"],[1,"logo",3,"click"],["class","logo-text",4,"ngIf"],["class","btn-close",3,"click",4,"ngIf"],[1,"scrollwarp","scrollwarp_delayed"],[1,"sidenav-nav"],["class","sidenav-nav-item",4,"ngFor","ngForOf"],[1,"sidenav-nav-item"],[1,"logout",3,"click"],[1,"sidenav-link-icon","pi","pi-sign-out"],["class","sidenav-link-text",4,"ngIf"],[1,"logo-text"],[1,"btn-close",3,"click"],[1,"pi","pi-times","close-icon"],["class","sidenav-nav-link","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions","click",4,"ngIf"],["routerLinkActive","active","class","sidenav-nav-link",3,"routerLink","routerLinkActiveOptions","click",4,"ngIf"],[4,"ngIf"],["routerLinkActive","active",1,"sidenav-nav-link",3,"routerLink","routerLinkActiveOptions","click"],[1,"sidenav-link-icon",3,"ngClass"],["class","menu-collapse-icon",3,"ngClass",4,"ngIf"],[1,"sidenav-link-text"],[1,"menu-collapse-icon",3,"ngClass"],[3,"data","collapsed","expanded","multiple"]],template:function(o,s){1&o&&(A(0,"div",0)(1,"div",1)(2,"button",2),Te("click",function(){return s.strech()}),k(3,"Z"),O(),de(4,iW,2,0,"div",3),de(5,oW,2,0,"button",4),O(),A(6,"div",5)(7,"ul",6),de(8,fW,4,3,"li",7),A(9,"li",8)(10,"a",9),Te("click",function(){return s.logout()}),He(11,"i",10),de(12,hW,2,0,"span",11),O()()()()()),2&o&&(X("ngClass",s.collapsed?"sidenav-collapsed":""),V(4),X("ngIf",s.collapsed),V(1),X("ngIf",s.collapsed),V(3),X("ngForOf",s.navbarData),V(4),X("ngIf",s.collapsed))},dependencies:[Am,Wr,yr,e_,lC,rW],styles:[".sidenav[_ngcontent-%COMP%]{background:#263238;transition:all .5s ease;position:fixed;z-index:1;top:0;width:5rem;height:100vh;box-shadow:.063rem 0 1.25rem #8690a3}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.938rem .938rem 0;width:100%}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background-color:#fff;text-align:center;width:3rem;min-width:3rem;border-radius:.5rem;padding:.8rem;font-size:24px;font-weight:900;cursor:pointer;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:24px;font-weight:700;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;width:2rem;padding-top:8px;height:2rem;border-radius:50%;background-color:transparent;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .pi-times[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sidenav-collapsed[_ngcontent-%COMP%]{width:16.5625rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;border-radius:.625rem;text-decoration:none;transition:color .3s ease;color:#f3f3f3}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .sidenav-nav-link[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .menu-collapse-icon[_ngcontent-%COMP%]{color:#000}.active[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .menu-collapse-icon[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{color:#000}.menu-collapse-icon[_ngcontent-%COMP%]{font-size:20px;width:2rem;min-width:2rem;margin:auto .5rem auto auto;text-align:center;color:#f3f3f3}.sublevel-nav[_ngcontent-%COMP%]{list-style:none;margin-left:10px}.sublevel-nav[_ngcontent-%COMP%]   .sublevel-nav-item[_ngcontent-%COMP%]   .sublevel-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;color:#898989;text-decoration:none;border-radius:.625rem;transition:all .3s ease}.sublevel-nav[_ngcontent-%COMP%]   .sublevel-nav-item[_ngcontent-%COMP%]   .sublevel-nav-link[_ngcontent-%COMP%]   .sublevel-link-icon[_ngcontent-%COMP%]{font-size:4px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sublevel-nav[_ngcontent-%COMP%]   .sublevel-nav-item[_ngcontent-%COMP%]   .sublevel-nav-link[_ngcontent-%COMP%]   .sublevel-link-text[_ngcontent-%COMP%]{margin-left:.8rem}.sublevel-nav[_ngcontent-%COMP%]   .sublevel-nav-item[_ngcontent-%COMP%]   .sublevel-nav-link[_ngcontent-%COMP%]:hover{color:#f3f3f3}.active-sublevel[_ngcontent-%COMP%]{color:#fff!important;opacity:1!important}.scrollwarp[_ngcontent-%COMP%]{overflow-y:auto;visibility:hidden;height:calc(100% - 3.65rem)}.sidenav-nav[_ngcontent-%COMP%], .scrollwarp[_ngcontent-%COMP%]:hover, .scrollwarp[_ngcontent-%COMP%]:focus{visibility:visible}.scrollwarp_delayed[_ngcontent-%COMP%]{transition:visibility .5s .2s}.scrollwarp_delayed[_ngcontent-%COMP%]:hover{transition:visibility .2s .2s}.scrollwarp[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.scrollwarp[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.scrollwarp[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#556268;border-radius:20px}.scrollwarp[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#556268}.log-out[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem;color:#fff;font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav[_ngcontent-%COMP%]{list-style:none;padding:.938rem;display:flex;margin:0;flex-direction:column;align-items:center;cursor:pointer}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;border-radius:.625rem;text-decoration:none;transition:color .3s ease;color:#f3f3f3}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .logout[_ngcontent-%COMP%]{background-color:#fff;color:#000}"]})}return e})();function mW(e,i){if(1&e&&(A(0,"tr")(1,"td"),k(2),O(),A(3,"td"),k(4),O(),A(5,"td"),k(6),O(),A(7,"td"),k(8),O(),A(9,"td"),k(10),O(),A(11,"td"),k(12),O()()),2&e){const t=i.$implicit;V(2),st(t.report_id),V(2),st(t.user_name),V(2),st(t.report),V(2),st(t.email),V(2),st(t.phone),V(2),st(t.user_id)}}const _W=function(e,i,t){return{id:"listing_pagination",itemsPerPage:e,currentPage:i,totalItems:t}};function vW(e,i){if(1&e){const t=tn();A(0,"div",3)(1,"table",4)(2,"thead")(3,"tr")(4,"th"),k(5,"Report ID"),O(),A(6,"th"),k(7,"User Name"),O(),A(8,"th",5),k(9,"Report"),O(),A(10,"th"),k(11,"Email"),O(),A(12,"th"),k(13,"Phone"),O(),A(14,"th"),k(15,"User Id"),O()()(),A(16,"tbody"),de(17,mW,13,6,"tr",6),Od(18,"paginate"),O()(),A(19,"pagination-controls",7),Te("pageChange",function(s){return Ye(t),yt(fe().page=s)}),O()()}if(2&e){const t=fe();V(17),X("ngForOf",xd(18,1,t.reports,Ad(4,_W,t.itemsPerPage,t.page,t.totalRecords)))}}function yW(e,i){1&e&&(A(0,"div",8)(1,"i",9),k(2,"No Reports Found"),O()())}function bW(e,i){1&e&&(A(0,"div",10),He(1,"app-loading"),O())}const wW=[{path:"admin/pages",component:(()=>{class e{constructor(){this.screenWidth=0,this.collapsed=!1}getBodyClass(){let t="";return this.collapsed&&this.screenWidth>768?t="body-trimmed":this.collapsed&&this.screenWidth<=768&&this.screenWidth>0&&(t="body-md-screen"),t}onToggleSideNav(t){this.collapsed=t.collapsed,this.screenWidth=t.screenWidth}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-pages"]],decls:3,vars:1,consts:[[3,"onToggleSideNav"],[1,"body",3,"ngClass"]],template:function(o,s){1&o&&(A(0,"app-side-menu",0),Te("onToggleSideNav",function(f){return s.onToggleSideNav(f)}),O(),A(1,"div",1),He(2,"router-outlet"),O()),2&o&&(V(1),X("ngClass",s.getBodyClass()))},dependencies:[Am,pW,Wm],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);height:100vh;margin-left:5rem;z-index:0;position:relative;top:0;transition:all .5s ease;background-color:#f4f7fa;padding:3rem}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 16.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}"]})}return e})(),children:[{path:"special-order",component:$q},{path:"setting",component:Oq},{path:"order",component:uq},{path:"product",component:Mq},{path:"category",component:Bz},{path:"home",component:jz},{path:"login",component:ix},{path:"ads",component:Tz},{path:"reports",component:(()=>{class e{constructor(t){this.router=t,this.isLoaingreport=!1,this.totalRecords=0,this.itemsPerPage=15,this.page=1,this.reports=[],this.firebase=new Eo}ngOnInit(){this.getOrders()}getOrders(){this.isLoaingreport=!0,this.reports=[],this.firebase.getCollection({path:["reports"],where:[],onComplete:t=>{t.docs.forEach(o=>{let s=o.data();this.reports.push(s)}),this.isLoaingreport=!1,this.totalRecords=this.reports.length},onFail:t=>{this.router.navigate(["/notFound"])}})}static#e=this.\u0275fac=function(o){return new(o||e)(B(Zr))};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-reports"]],decls:6,vars:3,consts:[["class","table table-responsive table-control","style","border: 1.5px solid rgba(149, 138, 138, 0.401); border-radius: 10px",4,"ngIf"],["class","card",4,"ngIf"],["class","loading",4,"ngIf"],[1,"table","table-responsive","table-control",2,"border","1.5px solid rgba(149, 138, 138, 0.401)","border-radius","10px"],[1,"table","table-striped","table-bordered"],[1,"item-expanded"],[4,"ngFor","ngForOf"],["id","listing_pagination","directionLink","true",3,"pageChange"],[1,"card"],[1,"not-found"],[1,"loading"]],template:function(o,s){1&o&&(A(0,"h1")(1,"i"),k(2,"Reports"),O()(),de(3,vW,20,8,"div",0),de(4,yW,3,0,"div",1),de(5,bW,2,0,"div",2)),2&o&&(V(3),X("ngIf",0!==(null==s.reports?null:s.reports.length)&&!s.isLoaingreport),V(1),X("ngIf",0==(null==s.reports?null:s.reports.length)&&!s.isLoaingreport),V(1),X("ngIf",s.isLoaingreport))},dependencies:[Wr,yr,vb,rf,_b],styles:[".item-expanded[_ngcontent-%COMP%]{width:30%}.total[_ngcontent-%COMP%]{width:150px}table[_ngcontent-%COMP%]{overflow-x:scroll}th[_ngcontent-%COMP%]{background-color:#4b4848;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.loading[_ngcontent-%COMP%]{margin-top:150px;text-align:center}.cat-img[_ngcontent-%COMP%]{background-size:cover;width:230px;height:130px}.card[_ngcontent-%COMP%]{height:90px}.card[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;font-size:22px;text-align:center;vertical-align:middle}.table-control[_ngcontent-%COMP%]{margin-top:130px}"]})}return e})()},{path:"notFound",component:k$}]}];let DW=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({imports:[jd.forChild(wW),jd]})}return e})(),CW=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({imports:[h0,tq,AC,nx,c_,DW]})}return e})();const EW=[{path:"auth",component:(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=$t({type:e,selectors:[["app-auth"]],decls:6,vars:0,consts:[[1,"wrapper"],[1,"main-panel"],[1,"main-content"],[1,"content-overlay"],[1,"content-wrapper","p-0"]],template:function(o,s){1&o&&(A(0,"div",0)(1,"div",1)(2,"div",2),He(3,"div",3),A(4,"div",4),He(5,"router-outlet"),O()()()())},dependencies:[Wm],encapsulation:2})}return e})(),children:[{path:"login",component:ix}]}];let SW=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({imports:[jd.forChild(EW),jd]})}return e})(),TW=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({imports:[SW,AC,c_,Rm]})}return e})();function iP(e){return new se(3e3,!1)}function _l(e){switch(e.length){case 0:return new S_;case 1:return e[0];default:return new nP(e)}}function oP(e,i,t=new Map,o=new Map){const s=[],l=[];let f=-1,p=null;if(i.forEach(m=>{const v=m.get("offset"),b=v==f,C=b&&p||new Map;m.forEach((S,M)=>{let P=M,j=S;if("offset"!==M)switch(P=e.normalizePropertyName(P,s),j){case"!":j=t.get(M);break;case nc:j=o.get(M);break;default:j=e.normalizeStyleValue(M,P,j,s)}C.set(P,j)}),b||l.push(C),p=C,f=v}),s.length)throw function KW(e){return new se(3502,!1)}();return l}function dE(e,i,t,o){switch(i){case"start":e.onStart(()=>o(t&&fE(t,"start",e)));break;case"done":e.onDone(()=>o(t&&fE(t,"done",e)));break;case"destroy":e.onDestroy(()=>o(t&&fE(t,"destroy",e)))}}function fE(e,i,t){const l=hE(e.element,e.triggerName,e.fromState,e.toState,i||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),f=e._data;return null!=f&&(l._data=f),l}function hE(e,i,t,o,s="",l=0,f){return{element:e,triggerName:i,fromState:t,toState:o,phaseName:s,totalTime:l,disabled:!!f}}function os(e,i,t){let o=e.get(i);return o||e.set(i,o=t),o}function sP(e){const i=e.indexOf(":");return[e.substring(1,i),e.slice(i+1)]}const a9=(()=>typeof document>"u"?null:document.documentElement)();function pE(e){const i=e.parentNode||e.host||null;return i===a9?null:i}let sf=null,aP=!1;function uP(e,i){for(;i;){if(i===e)return!0;i=pE(i)}return!1}function cP(e,i,t){if(t)return Array.from(e.querySelectorAll(i));const o=e.querySelector(i);return o?[o]:[]}let lP=(()=>{class e{validateStyleProperty(t){return function c9(e){sf||(sf=function l9(){return typeof document<"u"?document.body:null}()||{},aP=!!sf.style&&"WebkitAppearance"in sf.style);let i=!0;return sf.style&&!function u9(e){return"ebkit"==e.substring(1,6)}(e)&&(i=e in sf.style,!i&&aP&&(i="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in sf.style)),i}(t)}matchesElement(t,o){return!1}containsElement(t,o){return uP(t,o)}getParentElement(t){return pE(t)}query(t,o,s){return cP(t,o,s)}computeStyle(t,o,s){return s||""}animate(t,o,s,l,f,p=[],m){return new S_(s,l)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})(),gE=(()=>{class e{static#e=this.NOOP=new lP}return e})();const d9=1e3,mE="ng-enter",bb="ng-leave",wb="ng-trigger",Db=".ng-trigger",fP="ng-animating",_E=".ng-animating";function rc(e){if("number"==typeof e)return e;const i=e.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:vE(parseFloat(i[1]),i[2])}function vE(e,i){return"s"===i?e*d9:e}function Cb(e,i,t){return e.hasOwnProperty("duration")?e:function h9(e,i,t){let s,l=0,f="";if("string"==typeof e){const p=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return i.push(iP()),{duration:0,delay:0,easing:""};s=vE(parseFloat(p[1]),p[2]);const m=p[3];null!=m&&(l=vE(parseFloat(m),p[4]));const v=p[5];v&&(f=v)}else s=e;if(!t){let p=!1,m=i.length;s<0&&(i.push(function IW(){return new se(3100,!1)}()),p=!0),l<0&&(i.push(function MW(){return new se(3101,!1)}()),p=!0),p&&i.splice(m,0,iP())}return{duration:s,delay:l,easing:f}}(e,i,t)}function T_(e,i={}){return Object.keys(e).forEach(t=>{i[t]=e[t]}),i}function hP(e){const i=new Map;return Object.keys(e).forEach(t=>{i.set(t,e[t])}),i}function vl(e,i=new Map,t){if(t)for(let[o,s]of t)i.set(o,s);for(let[o,s]of e)i.set(o,s);return i}function Xa(e,i,t){i.forEach((o,s)=>{const l=bE(s);t&&!t.has(s)&&t.set(s,e.style[l]),e.style[l]=o})}function af(e,i){i.forEach((t,o)=>{const s=bE(o);e.style[s]=""})}function I_(e){return Array.isArray(e)?1==e.length?e[0]:XR(e):e}const yE=new RegExp("{{\\s*(.+?)\\s*}}","g");function gP(e){let i=[];if("string"==typeof e){let t;for(;t=yE.exec(e);)i.push(t[1]);yE.lastIndex=0}return i}function M_(e,i,t){const o=e.toString(),s=o.replace(yE,(l,f)=>{let p=i[f];return null==p&&(t.push(function AW(e){return new se(3003,!1)}()),p=""),p.toString()});return s==o?e:s}function Eb(e){const i=[];let t=e.next();for(;!t.done;)i.push(t.value),t=e.next();return i}const m9=/-+([a-z0-9])/g;function bE(e){return e.replace(m9,(...i)=>i[1].toUpperCase())}function ss(e,i,t){switch(i.type){case 7:return e.visitTrigger(i,t);case 0:return e.visitState(i,t);case 1:return e.visitTransition(i,t);case 2:return e.visitSequence(i,t);case 3:return e.visitGroup(i,t);case 4:return e.visitAnimate(i,t);case 5:return e.visitKeyframes(i,t);case 6:return e.visitStyle(i,t);case 8:return e.visitReference(i,t);case 9:return e.visitAnimateChild(i,t);case 10:return e.visitAnimateRef(i,t);case 11:return e.visitQuery(i,t);case 12:return e.visitStagger(i,t);default:throw function OW(e){return new se(3004,!1)}()}}function mP(e,i){return window.getComputedStyle(e)[i]}const Sb="*";function y9(e,i){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(o=>function b9(e,i,t){if(":"==e[0]){const m=function w9(e,i){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return i.push(function zW(e){return new se(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof m)return void i.push(m);e=m}const o=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(function GW(e){return new se(3015,!1)}()),i;const s=o[1],l=o[2],f=o[3];i.push(_P(s,f));"<"==l[0]&&!(s==Sb&&f==Sb)&&i.push(_P(f,s))}(o,t,i)):t.push(e),t}const Tb=new Set(["true","1"]),Ib=new Set(["false","0"]);function _P(e,i){const t=Tb.has(e)||Ib.has(e),o=Tb.has(i)||Ib.has(i);return(s,l)=>{let f=e==Sb||e==s,p=i==Sb||i==l;return!f&&t&&"boolean"==typeof s&&(f=s?Tb.has(e):Ib.has(e)),!p&&o&&"boolean"==typeof l&&(p=l?Tb.has(i):Ib.has(i)),f&&p}}const D9=new RegExp("s*:selfs*,?","g");function wE(e,i,t,o){return new C9(e).build(i,t,o)}class C9{constructor(i){this._driver=i}build(i,t,o){const s=new T9(t);return this._resetContextStyleTimingState(s),ss(this,I_(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,t){let o=t.queryCount=0,s=t.depCount=0;const l=[],f=[];return"@"==i.name.charAt(0)&&t.errors.push(function RW(){return new se(3006,!1)}()),i.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const m=p,v=m.name;v.toString().split(/\s*,\s*/).forEach(b=>{m.name=b,l.push(this.visitState(m,t))}),m.name=v}else if(1==p.type){const m=this.visitTransition(p,t);o+=m.queryCount,s+=m.depCount,f.push(m)}else t.errors.push(function PW(){return new se(3007,!1)}())}),{type:7,name:i.name,states:l,transitions:f,queryCount:o,depCount:s,options:null}}visitState(i,t){const o=this.visitStyle(i.styles,t),s=i.options&&i.options.params||null;if(o.containsDynamicStyles){const l=new Set,f=s||{};o.styles.forEach(p=>{p instanceof Map&&p.forEach(m=>{gP(m).forEach(v=>{f.hasOwnProperty(v)||l.add(v)})})}),l.size&&(Eb(l.values()),t.errors.push(function kW(e,i){return new se(3008,!1)}()))}return{type:0,name:i.name,style:o,options:s?{params:s}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const o=ss(this,I_(i.animation),t);return{type:1,matchers:y9(i.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:uf(i.options)}}visitSequence(i,t){return{type:2,steps:i.steps.map(o=>ss(this,o,t)),options:uf(i.options)}}visitGroup(i,t){const o=t.currentTime;let s=0;const l=i.steps.map(f=>{t.currentTime=o;const p=ss(this,f,t);return s=Math.max(s,t.currentTime),p});return t.currentTime=s,{type:3,steps:l,options:uf(i.options)}}visitAnimate(i,t){const o=function M9(e,i){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return DE(Cb(e,i).duration,0,"");const t=e;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=DE(0,0,"");return l.dynamic=!0,l.strValue=t,l}const s=Cb(t,i);return DE(s.duration,s.delay,s.easing)}(i.timings,t.errors);t.currentAnimateTimings=o;let s,l=i.styles?i.styles:E_({});if(5==l.type)s=this.visitKeyframes(l,t);else{let f=i.styles,p=!1;if(!f){p=!0;const v={};o.easing&&(v.easing=o.easing),f=E_(v)}t.currentTime+=o.duration+o.delay;const m=this.visitStyle(f,t);m.isEmptyStep=p,s=m}return t.currentAnimateTimings=null,{type:4,timings:o,style:s,options:null}}visitStyle(i,t){const o=this._makeStyleAst(i,t);return this._validateStyleAst(o,t),o}_makeStyleAst(i,t){const o=[],s=Array.isArray(i.styles)?i.styles:[i.styles];for(let p of s)"string"==typeof p?p===nc?o.push(p):t.errors.push(new se(3002,!1)):o.push(hP(p));let l=!1,f=null;return o.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(f=p.get("easing"),p.delete("easing")),!l))for(let m of p.values())if(m.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:o,easing:f,offset:i.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(i,t){const o=t.currentAnimateTimings;let s=t.currentTime,l=t.currentTime;o&&l>0&&(l-=o.duration+o.delay),i.styles.forEach(f=>{"string"!=typeof f&&f.forEach((p,m)=>{const v=t.collectedStyles.get(t.currentQuerySelector),b=v.get(m);let C=!0;b&&(l!=s&&l>=b.startTime&&s<=b.endTime&&(t.errors.push(function LW(e,i,t,o,s){return new se(3010,!1)}()),C=!1),l=b.startTime),C&&v.set(m,{startTime:l,endTime:s}),t.options&&function g9(e,i,t){const o=i.params||{},s=gP(e);s.length&&s.forEach(l=>{o.hasOwnProperty(l)||t.push(function NW(e){return new se(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(i,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function VW(){return new se(3011,!1)}()),o;let l=0;const f=[];let p=!1,m=!1,v=0;const b=i.steps.map(ie=>{const W=this._makeStyleAst(ie,t);let Ie=null!=W.offset?W.offset:function I9(e){if("string"==typeof e)return null;let i=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const o=t;i=parseFloat(o.get("offset")),o.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;i=parseFloat(t.get("offset")),t.delete("offset")}return i}(W.styles),be=0;return null!=Ie&&(l++,be=W.offset=Ie),m=m||be<0||be>1,p=p||be<v,v=be,f.push(be),W});m&&t.errors.push(function BW(){return new se(3012,!1)}()),p&&t.errors.push(function jW(){return new se(3200,!1)}());const C=i.steps.length;let S=0;l>0&&l<C?t.errors.push(function UW(){return new se(3202,!1)}()):0==l&&(S=1/(C-1));const M=C-1,P=t.currentTime,j=t.currentAnimateTimings,K=j.duration;return b.forEach((ie,W)=>{const Ie=S>0?W==M?1:S*W:f[W],be=Ie*K;t.currentTime=P+j.delay+be,j.duration=be,this._validateStyleAst(ie,t),ie.offset=Ie,o.styles.push(ie)}),o}visitReference(i,t){return{type:8,animation:ss(this,I_(i.animation),t),options:uf(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:9,options:uf(i.options)}}visitAnimateRef(i,t){return{type:10,animation:this.visitReference(i.animation,t),options:uf(i.options)}}visitQuery(i,t){const o=t.currentQuerySelector,s=i.options||{};t.queryCount++,t.currentQuery=i;const[l,f]=function E9(e){const i=!!e.split(/\s*,\s*/).find(t=>":self"==t);return i&&(e=e.replace(D9,"")),e=e.replace(/@\*/g,Db).replace(/@\w+/g,t=>Db+"-"+t.slice(1)).replace(/:animating/g,_E),[e,i]}(i.selector);t.currentQuerySelector=o.length?o+" "+l:l,os(t.collectedStyles,t.currentQuerySelector,new Map);const p=ss(this,I_(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:l,limit:s.limit||0,optional:!!s.optional,includeSelf:f,animation:p,originalSelector:i.selector,options:uf(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function HW(){return new se(3013,!1)}());const o="full"===i.timings?{duration:0,delay:0,easing:"full"}:Cb(i.timings,t.errors,!0);return{type:12,animation:ss(this,I_(i.animation),t),timings:o,options:null}}}class T9{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function uf(e){return e?(e=T_(e)).params&&(e.params=function S9(e){return e?T_(e):null}(e.params)):e={},e}function DE(e,i,t){return{duration:e,delay:i,easing:t}}function CE(e,i,t,o,s,l,f=null,p=!1){return{type:1,element:e,keyframes:i,preStyleProps:t,postStyleProps:o,duration:s,delay:l,totalTime:s+l,easing:f,subTimeline:p}}class Mb{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let o=this._map.get(i);o||this._map.set(i,o=[]),o.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const O9=new RegExp(":enter","g"),R9=new RegExp(":leave","g");function EE(e,i,t,o,s,l=new Map,f=new Map,p,m,v=[]){return(new P9).buildKeyframes(e,i,t,o,s,l,f,p,m,v)}class P9{buildKeyframes(i,t,o,s,l,f,p,m,v,b=[]){v=v||new Mb;const C=new SE(i,t,v,s,l,b,[]);C.options=m;const S=m.delay?rc(m.delay):0;C.currentTimeline.delayNextStep(S),C.currentTimeline.setStyles([f],null,C.errors,m),ss(this,o,C);const M=C.timelines.filter(P=>P.containsAnimation());if(M.length&&p.size){let P;for(let j=M.length-1;j>=0;j--){const K=M[j];if(K.element===t){P=K;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([p],null,C.errors,m)}return M.length?M.map(P=>P.buildKeyframes()):[CE(t,[],[],[],0,S,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const o=t.subInstructions.get(t.element);if(o){const s=t.createSubContext(i.options),l=t.currentTimeline.currentTime,f=this._visitSubInstructions(o,s,s.options);l!=f&&t.transformIntoNewTimeline(f)}t.previousNode=i}visitAnimateRef(i,t){const o=t.createSubContext(i.options);o.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],t,o),this.visitReference(i.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=i}_applyAnimationRefDelays(i,t,o){for(const s of i){const l=s?.delay;if(l){const f="number"==typeof l?l:rc(M_(l,s?.params??{},t.errors));o.delayNextStep(f)}}}_visitSubInstructions(i,t,o){let l=t.currentTimeline.currentTime;const f=null!=o.duration?rc(o.duration):null,p=null!=o.delay?rc(o.delay):null;return 0!==f&&i.forEach(m=>{const v=t.appendInstructionToTimeline(m,f,p);l=Math.max(l,v.duration+v.delay)}),l}visitReference(i,t){t.updateOptions(i.options,!0),ss(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const o=t.subContextCount;let s=t;const l=i.options;if(l&&(l.params||l.delay)&&(s=t.createSubContext(l),s.transformIntoNewTimeline(),null!=l.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Nb);const f=rc(l.delay);s.delayNextStep(f)}i.steps.length&&(i.steps.forEach(f=>ss(this,f,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>o&&s.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const o=[];let s=t.currentTimeline.currentTime;const l=i.options&&i.options.delay?rc(i.options.delay):0;i.steps.forEach(f=>{const p=t.createSubContext(i.options);l&&p.delayNextStep(l),ss(this,f,p),s=Math.max(s,p.currentTimeline.currentTime),o.push(p.currentTimeline)}),o.forEach(f=>t.currentTimeline.mergeTimelineCollectedStyles(f)),t.transformIntoNewTimeline(s),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const o=i.strValue;return Cb(t.params?M_(o,t.params,t.errors):o,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const o=t.currentAnimateTimings=this._visitTiming(i.timings,t),s=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),s.snapshotCurrentStyles());const l=i.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(o.duration),this.visitStyle(l,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const o=t.currentTimeline,s=t.currentAnimateTimings;!s&&o.hasCurrentStyleProperties()&&o.forwardFrame();const l=s&&s.easing||i.easing;i.isEmptyStep?o.applyEmptyStep(l):o.setStyles(i.styles,l,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const o=t.currentAnimateTimings,s=t.currentTimeline.duration,l=o.duration,p=t.createSubContext().currentTimeline;p.easing=o.easing,i.styles.forEach(m=>{p.forwardTime((m.offset||0)*l),p.setStyles(m.styles,m.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(s+l),t.previousNode=i}visitQuery(i,t){const o=t.currentTimeline.currentTime,s=i.options||{},l=s.delay?rc(s.delay):0;l&&(6===t.previousNode.type||0==o&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Nb);let f=o;const p=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=p.length;let m=null;p.forEach((v,b)=>{t.currentQueryIndex=b;const C=t.createSubContext(i.options,v);l&&C.delayNextStep(l),v===t.element&&(m=C.currentTimeline),ss(this,i.animation,C),C.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,C.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(f),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const o=t.parentContext,s=t.currentTimeline,l=i.timings,f=Math.abs(l.duration),p=f*(t.currentQueryTotal-1);let m=f*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":m=p-m;break;case"full":m=o.currentStaggerTime}const b=t.currentTimeline;m&&b.delayNextStep(m);const C=b.currentTime;ss(this,i.animation,t),t.previousNode=i,o.currentStaggerTime=s.currentTime-C+(s.startTime-o.currentTimeline.startTime)}}const Nb={};class SE{constructor(i,t,o,s,l,f,p,m){this._driver=i,this.element=t,this.subInstructions=o,this._enterClassName=s,this._leaveClassName=l,this.errors=f,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Nb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new Ab(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const o=i;let s=this.options;null!=o.duration&&(s.duration=rc(o.duration)),null!=o.delay&&(s.delay=rc(o.delay));const l=o.params;if(l){let f=s.params;f||(f=this.options.params={}),Object.keys(l).forEach(p=>{(!t||!f.hasOwnProperty(p))&&(f[p]=M_(l[p],f,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const o=i.params={};Object.keys(t).forEach(s=>{o[s]=t[s]})}}return i}createSubContext(i=null,t,o){const s=t||this.element,l=new SE(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,o||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(i),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(i){return this.previousNode=Nb,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,o){const s={duration:t??i.duration,delay:this.currentTimeline.currentTime+(o??0)+i.delay,easing:""},l=new k9(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,s,i.stretchStartingKeyframe);return this.timelines.push(l),s}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,o,s,l,f){let p=[];if(s&&p.push(this.element),i.length>0){i=(i=i.replace(O9,"."+this._enterClassName)).replace(R9,"."+this._leaveClassName);let v=this._driver.query(this.element,i,1!=o);0!==o&&(v=o<0?v.slice(v.length+o,v.length):v.slice(0,o)),p.push(...v)}return!l&&0==p.length&&f.push(function $W(e){return new se(3014,!1)}()),p}}class Ab{constructor(i,t,o,s){this._driver=i,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new Ab(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles.set(i,t),this._globalTimelineStyles.set(i,t),this._styleSummary.set(i,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[t,o]of this._globalTimelineStyles)this._backFill.set(t,o||nc),this._currentKeyframe.set(t,nc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,o,s){t&&this._previousKeyframe.set("easing",t);const l=s&&s.params||{},f=function F9(e,i){const t=new Map;let o;return e.forEach(s=>{if("*"===s){o=o||i.keys();for(let l of o)t.set(l,nc)}else vl(s,t)}),t}(i,this._globalTimelineStyles);for(let[p,m]of f){const v=M_(m,l,o);this._pendingStyles.set(p,v),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??nc),this._updateStyle(p,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,t)=>{this._currentKeyframe.set(t,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,i)}))}snapshotCurrentStyles(){for(let[i,t]of this._localTimelineStyles)this._pendingStyles.set(i,t),this._updateStyle(i,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((t,o)=>{const s=this._styleSummary.get(o);(!s||t.time>s.time)&&this._updateStyle(o,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((p,m)=>{const v=vl(p,new Map,this._backFill);v.forEach((b,C)=>{"!"===b?i.add(C):b===nc&&t.add(C)}),o||v.set("offset",m/this.duration),s.push(v)});const l=i.size?Eb(i.values()):[],f=t.size?Eb(t.values()):[];if(o){const p=s[0],m=new Map(p);p.set("offset",0),m.set("offset",1),s=[p,m]}return CE(this.element,s,l,f,this.duration,this.startTime,this.easing,!1)}}class k9 extends Ab{constructor(i,t,o,s,l,f,p=!1){super(i,t,f.delay),this.keyframes=o,this.preStyleProps=s,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:o,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],f=o+t,p=t/f,m=vl(i[0]);m.set("offset",0),l.push(m);const v=vl(i[0]);v.set("offset",bP(p)),l.push(v);const b=i.length-1;for(let C=1;C<=b;C++){let S=vl(i[C]);const M=S.get("offset");S.set("offset",bP((t+M*o)/f)),l.push(S)}o=f,t=0,s="",i=l}return CE(this.element,i,this.preStyleProps,this.postStyleProps,o,t,s,!0)}}function bP(e,i=3){const t=Math.pow(10,i-1);return Math.round(e*t)/t}class TE{}const L9=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class V9 extends TE{normalizePropertyName(i,t){return bE(i)}normalizeStyleValue(i,t,o,s){let l="";const f=o.toString().trim();if(L9.has(t)&&0!==o&&"0"!==o)if("number"==typeof o)l="px";else{const p=o.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&s.push(function xW(e,i){return new se(3005,!1)}())}return f+l}}function wP(e,i,t,o,s,l,f,p,m,v,b,C,S){return{type:0,element:e,triggerName:i,isRemovalTransition:s,fromState:t,fromStyles:l,toState:o,toStyles:f,timelines:p,queriedElements:m,preStyleProps:v,postStyleProps:b,totalTime:C,errors:S}}const IE={};class DP{constructor(i,t,o){this._triggerName=i,this.ast=t,this._stateStyles=o}match(i,t,o,s){return function B9(e,i,t,o,s){return e.some(l=>l(i,t,o,s))}(this.ast.matchers,i,t,o,s)}buildStyles(i,t,o){let s=this._stateStyles.get("*");return void 0!==i&&(s=this._stateStyles.get(i?.toString())||s),s?s.buildStyles(t,o):new Map}build(i,t,o,s,l,f,p,m,v,b){const C=[],S=this.ast.options&&this.ast.options.params||IE,P=this.buildStyles(o,p&&p.params||IE,C),j=m&&m.params||IE,K=this.buildStyles(s,j,C),ie=new Set,W=new Map,Ie=new Map,be="void"===s,$e={params:j9(j,S),delay:this.ast.options?.delay},ut=b?[]:EE(i,t,this.ast.animation,l,f,P,K,$e,v,C);let bt=0;if(ut.forEach(yn=>{bt=Math.max(yn.duration+yn.delay,bt)}),C.length)return wP(t,this._triggerName,o,s,be,P,K,[],[],W,Ie,bt,C);ut.forEach(yn=>{const In=yn.element,Kr=os(W,In,new Set);yn.preStyleProps.forEach(br=>Kr.add(br));const no=os(Ie,In,new Set);yn.postStyleProps.forEach(br=>no.add(br)),In!==t&&ie.add(In)});const Vt=Eb(ie.values());return wP(t,this._triggerName,o,s,be,P,K,ut,Vt,W,Ie,bt)}}function j9(e,i){const t=T_(i);for(const o in e)e.hasOwnProperty(o)&&null!=e[o]&&(t[o]=e[o]);return t}class U9{constructor(i,t,o){this.styles=i,this.defaultParams=t,this.normalizer=o}buildStyles(i,t){const o=new Map,s=T_(this.defaultParams);return Object.keys(i).forEach(l=>{const f=i[l];null!==f&&(s[l]=f)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,p)=>{f&&(f=M_(f,s,t));const m=this.normalizer.normalizePropertyName(p,t);f=this.normalizer.normalizeStyleValue(p,m,f,t),o.set(p,f)})}),o}}class $9{constructor(i,t,o){this.name=i,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states=new Map,t.states.forEach(s=>{this.states.set(s.name,new U9(s.style,s.options&&s.options.params||{},o))}),CP(this.states,"true","1"),CP(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new DP(i,s,this.states))}),this.fallbackTransition=function G9(e,i,t){return new DP(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,p)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,o,s){return this.transitionFactories.find(f=>f.match(i,t,o,s))||null}matchStyles(i,t,o){return this.fallbackTransition.buildStyles(i,t,o)}}function CP(e,i,t){e.has(i)?e.has(t)||e.set(t,e.get(i)):e.has(t)&&e.set(i,e.get(t))}const z9=new Mb;class q9{constructor(i,t,o){this.bodyNode=i,this._driver=t,this._normalizer=o,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,t){const o=[],l=wE(this._driver,t,o,[]);if(o.length)throw function QW(e){return new se(3503,!1)}();this._animations.set(i,l)}_buildPlayer(i,t,o){const s=i.element,l=oP(this._normalizer,i.keyframes,t,o);return this._driver.animate(s,l,i.duration,i.delay,i.easing,[],!0)}create(i,t,o={}){const s=[],l=this._animations.get(i);let f;const p=new Map;if(l?(f=EE(this._driver,t,l,mE,bb,new Map,new Map,o,z9,s),f.forEach(b=>{const C=os(p,b.element,new Map);b.postStyleProps.forEach(S=>C.set(S,null))})):(s.push(function YW(){return new se(3300,!1)}()),f=[]),s.length)throw function JW(e){return new se(3504,!1)}();p.forEach((b,C)=>{b.forEach((S,M)=>{b.set(M,this._driver.computeStyle(C,M,nc))})});const v=_l(f.map(b=>{const C=p.get(b.element);return this._buildPlayer(b,new Map,C)}));return this._playersById.set(i,v),v.onDestroy(()=>this.destroy(i)),this.players.push(v),v}destroy(i){const t=this._getPlayer(i);t.destroy(),this._playersById.delete(i);const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(i){const t=this._playersById.get(i);if(!t)throw function XW(e){return new se(3301,!1)}();return t}listen(i,t,o,s){const l=hE(t,"","","");return dE(this._getPlayer(i),o,l,s),()=>{}}command(i,t,o,s){if("register"==o)return void this.register(i,s[0]);if("create"==o)return void this.create(i,t,s[0]||{});const l=this._getPlayer(i);switch(o){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(i)}}}const EP="ng-animate-queued",ME="ng-animate-disabled",Y9=[],SP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},J9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ga="__ng_removed";class NE{get params(){return this.options.params}constructor(i,t=""){this.namespaceId=t;const o=i&&i.hasOwnProperty("value");if(this.value=function n7(e){return e??null}(o?i.value:i),o){const l=T_(i);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const t=i.params;if(t){const o=this.options.params;Object.keys(t).forEach(s=>{null==o[s]&&(o[s]=t[s])})}}}const N_="void",AE=new NE(N_);class X9{constructor(i,t,o){this.id=i,this.hostElement=t,this._engine=o,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Ps(t,this._hostClassName)}listen(i,t,o,s){if(!this._triggers.has(t))throw function e9(e,i){return new se(3302,!1)}();if(null==o||0==o.length)throw function t9(e){return new se(3303,!1)}();if(!function r7(e){return"start"==e||"done"==e}(o))throw function n9(e,i){return new se(3400,!1)}();const l=os(this._elementListeners,i,[]),f={name:t,phase:o,callback:s};l.push(f);const p=os(this._engine.statesByElement,i,new Map);return p.has(t)||(Ps(i,wb),Ps(i,wb+"-"+t),p.set(t,AE)),()=>{this._engine.afterFlush(()=>{const m=l.indexOf(f);m>=0&&l.splice(m,1),this._triggers.has(t)||p.delete(t)})}}register(i,t){return!this._triggers.has(i)&&(this._triggers.set(i,t),!0)}_getTrigger(i){const t=this._triggers.get(i);if(!t)throw function r9(e){return new se(3401,!1)}();return t}trigger(i,t,o,s=!0){const l=this._getTrigger(t),f=new OE(this.id,t,i);let p=this._engine.statesByElement.get(i);p||(Ps(i,wb),Ps(i,wb+"-"+t),this._engine.statesByElement.set(i,p=new Map));let m=p.get(t);const v=new NE(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),p.set(t,v),m||(m=AE),v.value!==N_&&m.value===v.value){if(!function s7(e,i){const t=Object.keys(e),o=Object.keys(i);if(t.length!=o.length)return!1;for(let s=0;s<t.length;s++){const l=t[s];if(!i.hasOwnProperty(l)||e[l]!==i[l])return!1}return!0}(m.params,v.params)){const j=[],K=l.matchStyles(m.value,m.params,j),ie=l.matchStyles(v.value,v.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{af(i,K),Xa(i,ie)})}return}const S=os(this._engine.playersByElement,i,[]);S.forEach(j=>{j.namespaceId==this.id&&j.triggerName==t&&j.queued&&j.destroy()});let M=l.matchTransition(m.value,v.value,i,v.params),P=!1;if(!M){if(!s)return;M=l.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:M,fromState:m,toState:v,player:f,isFallbackTransition:P}),P||(Ps(i,EP),f.onStart(()=>{Ep(i,EP)})),f.onDone(()=>{let j=this.players.indexOf(f);j>=0&&this.players.splice(j,1);const K=this._engine.playersByElement.get(i);if(K){let ie=K.indexOf(f);ie>=0&&K.splice(ie,1)}}),this.players.push(f),S.push(f),f}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(t=>t.delete(i)),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(s=>s.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const o=this._engine.driver.query(i,Db,!0);o.forEach(s=>{if(s[ga])return;const l=this._engine.fetchNamespacesByElement(s);l.size?l.forEach(f=>f.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(i,t,o,s){const l=this._engine.statesByElement.get(i),f=new Map;if(l){const p=[];if(l.forEach((m,v)=>{if(f.set(v,m.value),this._triggers.has(v)){const b=this.trigger(i,v,N_,s);b&&p.push(b)}}),p.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,f),o&&_l(p).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),o=this._engine.statesByElement.get(i);if(t&&o){const s=new Set;t.forEach(l=>{const f=l.name;if(s.has(f))return;s.add(f);const m=this._triggers.get(f).fallbackTransition,v=o.get(f)||AE,b=new NE(N_),C=new OE(this.id,f,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:f,transition:m,fromState:v,toState:b,player:C,isFallbackTransition:!0})})}}removeNode(i,t){const o=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let s=!1;if(o.totalAnimations){const l=o.players.length?o.playersByQueriedElement.get(i):[];if(l&&l.length)s=!0;else{let f=i;for(;f=f.parentNode;)if(o.statesByElement.get(f)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(i),s)o.markElementAsRemoved(this.id,i,!1,t);else{const l=i[ga];(!l||l===SP)&&(o.afterFlush(()=>this.clearElementCache(i)),o.destroyInnerAnimations(i),o._onRemovalComplete(i,t))}}insertNode(i,t){Ps(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(o=>{const s=o.player;if(s.destroyed)return;const l=o.element,f=this._elementListeners.get(l);f&&f.forEach(p=>{if(p.name==o.triggerName){const m=hE(l,o.triggerName,o.fromState.value,o.toState.value);m._data=i,dE(o.player,p.phase,m,p.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(o)}),this._queue=[],t.sort((o,s)=>{const l=o.transition.ast.depCount,f=s.transition.ast.depCount;return 0==l||0==f?l-f:this._engine.driver.containsElement(o.element,s.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class e7{_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}constructor(i,t,o){this.bodyNode=i,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,l)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&i.push(o)})}),i}createNamespace(i,t){const o=new X9(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[i]=o}_balanceNamespaceList(i,t){const o=this._namespaceList,s=this.namespacesByHostElement;if(o.length-1>=0){let f=!1,p=this.driver.getParentElement(t);for(;p;){const m=s.get(p);if(m){const v=o.indexOf(m);o.splice(v+1,0,i),f=!0;break}p=this.driver.getParentElement(p)}f||o.unshift(i)}else o.push(i);return s.set(t,i),i}register(i,t){let o=this._namespaceLookup[i];return o||(o=this.createNamespace(i,t)),o}registerTrigger(i,t,o){let s=this._namespaceLookup[i];s&&s.register(t,o)&&this.totalAnimations++}destroy(i,t){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const o=this._fetchNamespace(i);this.namespacesByHostElement.delete(o.hostElement);const s=this._namespaceList.indexOf(o);s>=0&&this._namespaceList.splice(s,1),o.destroy(t),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,o=this.statesByElement.get(i);if(o)for(let s of o.values())if(s.namespaceId){const l=this._fetchNamespace(s.namespaceId);l&&t.add(l)}return t}trigger(i,t,o,s){if(Ob(t)){const l=this._fetchNamespace(i);if(l)return l.trigger(t,o,s),!0}return!1}insertNode(i,t,o,s){if(!Ob(t))return;const l=t[ga];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const f=this.collectedLeaveElements.indexOf(t);f>=0&&this.collectedLeaveElements.splice(f,1)}if(i){const f=this._fetchNamespace(i);f&&f.insertNode(t,o)}s&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Ps(i,ME)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Ep(i,ME))}removeNode(i,t,o){if(Ob(t)){const s=i?this._fetchNamespace(i):null;s?s.removeNode(t,o):this.markElementAsRemoved(i,t,!1,o);const l=this.namespacesByHostElement.get(t);l&&l.id!==i&&l.removeNode(t,o)}else this._onRemovalComplete(t,o)}markElementAsRemoved(i,t,o,s,l){this.collectedLeaveElements.push(t),t[ga]={namespaceId:i,setForRemoval:s,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:l}}listen(i,t,o,s,l){return Ob(t)?this._fetchNamespace(i).listen(t,o,s,l):()=>{}}_buildInstruction(i,t,o,s,l){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,o,s,i.fromState.options,i.toState.options,t,l)}destroyInnerAnimations(i){let t=this.driver.query(i,Db,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,_E,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return _l(this.players).onDone(()=>i());i()})}processLeaveNode(i){const t=i[ga];if(t&&t.setForRemoval){if(i[ga]=SP,t.namespaceId){this.destroyInnerAnimations(i);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(i)}this._onRemovalComplete(i,t.setForRemoval)}i.classList?.contains(ME)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,s)=>this._balanceNamespaceList(o,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Ps(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,i)}finally{for(let s=0;s<o.length;s++)o[s]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?_l(t).onDone(()=>{o.forEach(s=>s())}):o.forEach(s=>s())}}reportError(i){throw function i9(e){return new se(3402,!1)}()}_flushAnimations(i,t){const o=new Mb,s=[],l=new Map,f=[],p=new Map,m=new Map,v=new Map,b=new Set;this.disabledNodes.forEach(qe=>{b.add(qe);const Ze=this.driver.query(qe,".ng-animate-queued",!0);for(let ft=0;ft<Ze.length;ft++)b.add(Ze[ft])});const C=this.bodyNode,S=Array.from(this.statesByElement.keys()),M=MP(S,this.collectedEnterElements),P=new Map;let j=0;M.forEach((qe,Ze)=>{const ft=mE+j++;P.set(Ze,ft),qe.forEach(qt=>Ps(qt,ft))});const K=[],ie=new Set,W=new Set;for(let qe=0;qe<this.collectedLeaveElements.length;qe++){const Ze=this.collectedLeaveElements[qe],ft=Ze[ga];ft&&ft.setForRemoval&&(K.push(Ze),ie.add(Ze),ft.hasAnimation?this.driver.query(Ze,".ng-star-inserted",!0).forEach(qt=>ie.add(qt)):W.add(Ze))}const Ie=new Map,be=MP(S,Array.from(ie));be.forEach((qe,Ze)=>{const ft=bb+j++;Ie.set(Ze,ft),qe.forEach(qt=>Ps(qt,ft))}),i.push(()=>{M.forEach((qe,Ze)=>{const ft=P.get(Ze);qe.forEach(qt=>Ep(qt,ft))}),be.forEach((qe,Ze)=>{const ft=Ie.get(Ze);qe.forEach(qt=>Ep(qt,ft))}),K.forEach(qe=>{this.processLeaveNode(qe)})});const $e=[],ut=[];for(let qe=this._namespaceList.length-1;qe>=0;qe--)this._namespaceList[qe].drainQueuedTransitions(t).forEach(ft=>{const qt=ft.player,wr=ft.element;if($e.push(qt),this.collectedEnterElements.length){const Qr=wr[ga];if(Qr&&Qr.setForMove){if(Qr.previousTriggersValues&&Qr.previousTriggersValues.has(ft.triggerName)){const So=Qr.previousTriggersValues.get(ft.triggerName),ho=this.statesByElement.get(ft.element);if(ho&&ho.has(ft.triggerName)){const Sp=ho.get(ft.triggerName);Sp.value=So,ho.set(ft.triggerName,Sp)}}return void qt.destroy()}}const Bo=!C||!this.driver.containsElement(C,wr),wi=Ie.get(wr),as=P.get(wr),Rn=this._buildInstruction(ft,o,as,wi,Bo);if(Rn.errors&&Rn.errors.length)return void ut.push(Rn);if(Bo)return qt.onStart(()=>af(wr,Rn.fromStyles)),qt.onDestroy(()=>Xa(wr,Rn.toStyles)),void s.push(qt);if(ft.isFallbackTransition)return qt.onStart(()=>af(wr,Rn.fromStyles)),qt.onDestroy(()=>Xa(wr,Rn.toStyles)),void s.push(qt);const ma=[];Rn.timelines.forEach(Qr=>{Qr.stretchStartingKeyframe=!0,this.disabledNodes.has(Qr.element)||ma.push(Qr)}),Rn.timelines=ma,o.append(wr,Rn.timelines),f.push({instruction:Rn,player:qt,element:wr}),Rn.queriedElements.forEach(Qr=>os(p,Qr,[]).push(qt)),Rn.preStyleProps.forEach((Qr,So)=>{if(Qr.size){let ho=m.get(So);ho||m.set(So,ho=new Set),Qr.forEach((Sp,lf)=>ho.add(lf))}}),Rn.postStyleProps.forEach((Qr,So)=>{let ho=v.get(So);ho||v.set(So,ho=new Set),Qr.forEach((Sp,lf)=>ho.add(lf))})});if(ut.length){const qe=[];ut.forEach(Ze=>{qe.push(function o9(e,i){return new se(3505,!1)}())}),$e.forEach(Ze=>Ze.destroy()),this.reportError(qe)}const bt=new Map,Vt=new Map;f.forEach(qe=>{const Ze=qe.element;o.has(Ze)&&(Vt.set(Ze,Ze),this._beforeAnimationBuild(qe.player.namespaceId,qe.instruction,bt))}),s.forEach(qe=>{const Ze=qe.element;this._getPreviousPlayers(Ze,!1,qe.namespaceId,qe.triggerName,null).forEach(qt=>{os(bt,Ze,[]).push(qt),qt.destroy()})});const yn=K.filter(qe=>AP(qe,m,v)),In=new Map;IP(In,this.driver,W,v,nc).forEach(qe=>{AP(qe,m,v)&&yn.push(qe)});const no=new Map;M.forEach((qe,Ze)=>{IP(no,this.driver,new Set(qe),m,"!")}),yn.forEach(qe=>{const Ze=In.get(qe),ft=no.get(qe);In.set(qe,new Map([...Ze?.entries()??[],...ft?.entries()??[]]))});const br=[],eu=[],tu={};f.forEach(qe=>{const{element:Ze,player:ft,instruction:qt}=qe;if(o.has(Ze)){if(b.has(Ze))return ft.onDestroy(()=>Xa(Ze,qt.toStyles)),ft.disabled=!0,ft.overrideTotalTime(qt.totalTime),void s.push(ft);let wr=tu;if(Vt.size>1){let wi=Ze;const as=[];for(;wi=wi.parentNode;){const Rn=Vt.get(wi);if(Rn){wr=Rn;break}as.push(wi)}as.forEach(Rn=>Vt.set(Rn,wr))}const Bo=this._buildAnimation(ft.namespaceId,qt,bt,l,no,In);if(ft.setRealPlayer(Bo),wr===tu)br.push(ft);else{const wi=this.playersByElement.get(wr);wi&&wi.length&&(ft.parentPlayer=_l(wi)),s.push(ft)}}else af(Ze,qt.fromStyles),ft.onDestroy(()=>Xa(Ze,qt.toStyles)),eu.push(ft),b.has(Ze)&&s.push(ft)}),eu.forEach(qe=>{const Ze=l.get(qe.element);if(Ze&&Ze.length){const ft=_l(Ze);qe.setRealPlayer(ft)}}),s.forEach(qe=>{qe.parentPlayer?qe.syncPlayerEvents(qe.parentPlayer):qe.destroy()});for(let qe=0;qe<K.length;qe++){const Ze=K[qe],ft=Ze[ga];if(Ep(Ze,bb),ft&&ft.hasAnimation)continue;let qt=[];if(p.size){let Bo=p.get(Ze);Bo&&Bo.length&&qt.push(...Bo);let wi=this.driver.query(Ze,_E,!0);for(let as=0;as<wi.length;as++){let Rn=p.get(wi[as]);Rn&&Rn.length&&qt.push(...Rn)}}const wr=qt.filter(Bo=>!Bo.destroyed);wr.length?i7(this,Ze,wr):this.processLeaveNode(Ze)}return K.length=0,br.forEach(qe=>{this.players.push(qe),qe.onDone(()=>{qe.destroy();const Ze=this.players.indexOf(qe);this.players.splice(Ze,1)}),qe.play()}),br}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,o,s,l){let f=[];if(t){const p=this.playersByQueriedElement.get(i);p&&(f=p)}else{const p=this.playersByElement.get(i);if(p){const m=!l||l==N_;p.forEach(v=>{v.queued||!m&&v.triggerName!=s||f.push(v)})}}return(o||s)&&(f=f.filter(p=>!(o&&o!=p.namespaceId||s&&s!=p.triggerName))),f}_beforeAnimationBuild(i,t,o){const l=t.element,f=t.isRemovalTransition?void 0:i,p=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const v=m.element,b=v!==l,C=os(o,v,[]);this._getPreviousPlayers(v,b,f,p,t.toState).forEach(M=>{const P=M.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),M.destroy(),C.push(M)})}af(l,t.fromStyles)}_buildAnimation(i,t,o,s,l,f){const p=t.triggerName,m=t.element,v=[],b=new Set,C=new Set,S=t.timelines.map(P=>{const j=P.element;b.add(j);const K=j[ga];if(K&&K.removedBeforeQueried)return new S_(P.duration,P.delay);const ie=j!==m,W=function o7(e){const i=[];return NP(e,i),i}((o.get(j)||Y9).map(bt=>bt.getRealPlayer())).filter(bt=>!!bt.element&&bt.element===j),Ie=l.get(j),be=f.get(j),$e=oP(this._normalizer,P.keyframes,Ie,be),ut=this._buildPlayer(P,$e,W);if(P.subTimeline&&s&&C.add(j),ie){const bt=new OE(i,p,j);bt.setRealPlayer(ut),v.push(bt)}return ut});v.forEach(P=>{os(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function t7(e,i,t){let o=e.get(i);if(o){if(o.length){const s=o.indexOf(t);o.splice(s,1)}0==o.length&&e.delete(i)}return o}(this.playersByQueriedElement,P.element,P))}),b.forEach(P=>Ps(P,fP));const M=_l(S);return M.onDestroy(()=>{b.forEach(P=>Ep(P,fP)),Xa(m,t.toStyles)}),C.forEach(P=>{os(s,P,[]).push(M)}),M}_buildPlayer(i,t,o){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,o):new S_(i.duration,i.delay)}}class OE{constructor(i,t,o){this.namespaceId=i,this.triggerName=t,this.element=o,this._player=new S_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((t,o)=>{t.forEach(s=>dE(i,o,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){os(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function Ob(e){return e&&1===e.nodeType}function TP(e,i){const t=e.style.display;return e.style.display=i??"none",t}function IP(e,i,t,o,s){const l=[];t.forEach(m=>l.push(TP(m)));const f=[];o.forEach((m,v)=>{const b=new Map;m.forEach(C=>{const S=i.computeStyle(v,C,s);b.set(C,S),(!S||0==S.length)&&(v[ga]=J9,f.push(v))}),e.set(v,b)});let p=0;return t.forEach(m=>TP(m,l[p++])),f}function MP(e,i){const t=new Map;if(e.forEach(p=>t.set(p,[])),0==i.length)return t;const s=new Set(i),l=new Map;function f(p){if(!p)return 1;let m=l.get(p);if(m)return m;const v=p.parentNode;return m=t.has(v)?v:s.has(v)?1:f(v),l.set(p,m),m}return i.forEach(p=>{const m=f(p);1!==m&&t.get(m).push(p)}),t}function Ps(e,i){e.classList?.add(i)}function Ep(e,i){e.classList?.remove(i)}function i7(e,i,t){_l(t).onDone(()=>e.processLeaveNode(i))}function NP(e,i){for(let t=0;t<e.length;t++){const o=e[t];o instanceof nP?NP(o.players,i):i.push(o)}}function AP(e,i,t){const o=t.get(e);if(!o)return!1;let s=i.get(e);return s?o.forEach(l=>s.add(l)):i.set(e,o),t.delete(e),!0}class xb{constructor(i,t,o){this.bodyNode=i,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(s,l)=>{},this._transitionEngine=new e7(i,t,o),this._timelineEngine=new q9(i,t,o),this._transitionEngine.onRemovalComplete=(s,l)=>this.onRemovalComplete(s,l)}registerTrigger(i,t,o,s,l){const f=i+"-"+s;let p=this._triggerCache[f];if(!p){const m=[],b=wE(this._driver,l,m,[]);if(m.length)throw function ZW(e,i){return new se(3404,!1)}();p=function H9(e,i,t){return new $9(e,i,t)}(s,b,this._normalizer),this._triggerCache[f]=p}this._transitionEngine.registerTrigger(t,s,p)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,o,s){this._transitionEngine.insertNode(i,t,o,s)}onRemove(i,t,o){this._transitionEngine.removeNode(i,t,o)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,o,s){if("@"==o.charAt(0)){const[l,f]=sP(o);this._timelineEngine.command(l,t,f,s)}else this._transitionEngine.trigger(i,t,o,s)}listen(i,t,o,s,l){if("@"==o.charAt(0)){const[f,p]=sP(o);return this._timelineEngine.listen(f,t,p,l)}return this._transitionEngine.listen(i,t,o,s,l)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}let u7=(()=>{class e{static#e=this.initialStylesByElement=new WeakMap;constructor(t,o,s){this._element=t,this._startStyles=o,this._endStyles=s,this._state=0;let l=e.initialStylesByElement.get(t);l||e.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Xa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xa(this._element,this._initialStyles),this._endStyles&&(Xa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(af(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(af(this._element,this._endStyles),this._endStyles=null),Xa(this._element,this._initialStyles),this._state=3)}}return e})();function xE(e){let i=null;return e.forEach((t,o)=>{(function c7(e){return"display"===e||"position"===e})(o)&&(i=i||new Map,i.set(o,t))}),i}class OP{constructor(i,t,o,s){this.element=i,this.keyframes=t,this.options=o,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const t=[];return i.forEach(o=>{t.push(Object.fromEntries(o))}),t}_triggerWebAnimation(i,t,o){return i.animate(this._convertKeyframesToObject(t),o)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,s)=>{"offset"!==s&&i.set(s,this._finished?o:mP(this.element,s))}),this.currentSnapshot=i}triggerCallback(i){const t="start"===i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class l7{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,t){return!1}containsElement(i,t){return uP(i,t)}getParentElement(i){return pE(i)}query(i,t,o){return cP(i,t,o)}computeStyle(i,t,o){return window.getComputedStyle(i)[t]}animate(i,t,o,s,l,f=[]){const m={duration:o,delay:s,fill:0==s?"both":"forwards"};l&&(m.easing=l);const v=new Map,b=f.filter(M=>M instanceof OP);(function _9(e,i){return 0===e||0===i})(o,s)&&b.forEach(M=>{M.currentSnapshot.forEach((P,j)=>v.set(j,P))});let C=function p9(e){return e.length?e[0]instanceof Map?e:e.map(i=>hP(i)):[]}(t).map(M=>vl(M));C=function v9(e,i,t){if(t.size&&i.length){let o=i[0],s=[];if(t.forEach((l,f)=>{o.has(f)||s.push(f),o.set(f,l)}),s.length)for(let l=1;l<i.length;l++){let f=i[l];s.forEach(p=>f.set(p,mP(e,p)))}}return i}(i,C,v);const S=function a7(e,i){let t=null,o=null;return Array.isArray(i)&&i.length?(t=xE(i[0]),i.length>1&&(o=xE(i[i.length-1]))):i instanceof Map&&(t=xE(i)),t||o?new u7(e,t,o):null}(i,C);return new OP(i,C,m,S)}}let d7=(()=>{class e extends YR{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:oo.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?XR(t):t;return xP(this._renderer,null,o,"register",[s]),new f7(o,this._renderer)}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(_),Ee(vr))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();class f7 extends zq{constructor(i,t){super(),this._id=i,this._renderer=t}create(i,t){return new h7(this._id,i,t||{},this._renderer)}}class h7{constructor(i,t,o,s){this.id=i,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(i,t){return this._renderer.listen(this.element,`@@${this.id}:${i}`,t)}_command(i,...t){return xP(this._renderer,this.element,this.id,i,t)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xP(e,i,t,o,s){return e.setProperty(i,`@@${t}:${o}`,s)}const RP="@.disabled";let p7=(()=>{class e{constructor(t,o,s){this.delegate=t,this.engine=o,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,o.onRemovalComplete=(l,f)=>{const p=f?.parentNode(l);p&&f.removeChild(p,l)}}createRenderer(t,o){const l=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let b=this._rendererCache.get(l);return b||(b=new PP("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,b)),b}const f=o.id,p=o.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const m=b=>{Array.isArray(b)?b.forEach(m):this.engine.registerTrigger(f,p,t,b.name,b)};return o.data.animation.forEach(m),new g7(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,s){t>=0&&t<this._microtaskId?this._zone.run(()=>o(s)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[f,p]=l;f(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(_),Ee(xb),Ee(en))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();class PP{constructor(i,t,o,s){this.namespaceId=i,this.delegate=t,this.engine=o,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,o,s=!0){this.delegate.insertBefore(i,t,o),this.engine.onInsert(this.namespaceId,t,i,s)}removeChild(i,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,o,s){this.delegate.setAttribute(i,t,o,s)}removeAttribute(i,t,o){this.delegate.removeAttribute(i,t,o)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,o,s){this.delegate.setStyle(i,t,o,s)}removeStyle(i,t,o){this.delegate.removeStyle(i,t,o)}setProperty(i,t,o){"@"==t.charAt(0)&&t==RP?this.disableAnimations(i,!!o):this.delegate.setProperty(i,t,o)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,o){return this.delegate.listen(i,t,o)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class g7 extends PP{constructor(i,t,o,s,l){super(t,o,s,l),this.factory=i,this.namespaceId=t}setProperty(i,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==RP?this.disableAnimations(i,o=void 0===o||!!o):this.engine.process(this.namespaceId,i,t.slice(1),o):this.delegate.setProperty(i,t,o)}listen(i,t,o){if("@"==t.charAt(0)){const s=function m7(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(i);let l=t.slice(1),f="";return"@"!=l.charAt(0)&&([l,f]=function _7(e){const i=e.indexOf(".");return[e.substring(0,i),e.slice(i+1)]}(l)),this.engine.listen(this.namespaceId,s,l,f,p=>{this.factory.scheduleListenerCallback(p._data||-1,o,p)})}return this.delegate.listen(i,t,o)}}const kP=[{provide:YR,useClass:d7},{provide:TE,useFactory:function y7(){return new V9}},{provide:xb,useClass:(()=>{class e extends xb{constructor(t,o,s,l){super(t.body,o,s)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(o){return new(o||e)(Ee(vr),Ee(gE),Ee(TE),Ee(qu))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})()},{provide:_,useFactory:function b7(e,i,t){return new p7(e,i,t)},deps:[LD,xb,en]}],RE=[{provide:gE,useFactory:()=>new l7},{provide:Yg,useValue:"BrowserAnimations"},...kP],FP=[{provide:gE,useClass:lP},{provide:Yg,useValue:"NoopAnimations"},...kP];let w7=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?FP:RE}}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e});static#n=this.\u0275inj=Nt({providers:RE,imports:[Rm]})}return e})();const D7_firebaseConfig={apiKey:"AIzaSyDY616TSH6YnldS7fIidTEH9b2wkxdbwLo",authDomain:"zezo-store-32084.firebaseapp.com",projectId:"zezo-store-32084",storageBucket:"zezo-store-32084.appspot.com",messagingSenderId:"935517971692",appId:"1:935517971692:web:b4bcbc1c4864fe8c20f1c9",measurementId:"G-BSCHGEWCEL"};let C7=(()=>{class e{constructor(){tc.init(D7_firebaseConfig)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Gt({type:e,bootstrap:[j4]});static#n=this.\u0275inj=Nt({imports:[Rm,B4,c_,nx,CW,TW,w7,vz]})}return e})();nU().bootstrapModule(C7).catch(e=>console.error(e))},301:(po,Dr,Bt)=>{Bt.r(Dr),Bt.d(Dr,{default:()=>je.Z});var je=Bt(778);je.Z.registerVersion("firebase","8.10.1","app"),je.Z.SDK_VERSION="8.10.1"},677:(po,Dr,Bt)=>{Bt.r(Dr);var je=Bt(778),I=Bt(582),We=Bt(157),nt=Bt(83),xt=function(u,a){return(xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(c[h]=d[h])})(u,a)};function sr(u){var a="function"==typeof Symbol&&Symbol.iterator,c=a&&u[a],d=0;if(c)return c.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&d>=u.length&&(u=void 0),{value:u&&u[d++],done:!u}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}var ce,Ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce=Ce||{},ve=Ui||self;function Oe(){}function Me(u){var a=typeof u;return"array"==(a="object"!=a?a:u?Array.isArray(u)?"array":a:"null")||"object"==a&&"number"==typeof u.length}function Ue(u){var a=typeof u;return"object"==a&&null!=u||"function"==a}var Ft="closure_uid_"+(1e9*Math.random()>>>0),Wt=0;function Yt(u,a,c){return u.call.apply(u.bind,arguments)}function Qn(u,a,c){if(!u)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,d),u.apply(a,h)}}return function(){return u.apply(a,arguments)}}function jt(u,a,c){return(jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yt:Qn).apply(null,arguments)}function jn(u,a){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),u.apply(this,d)}}function Je(u,a){function c(){}c.prototype=a.prototype,u.Z=a.prototype,u.prototype=new c,u.prototype.constructor=u,u.Vb=function(d,h,g){for(var _=Array(arguments.length-2),y=2;y<arguments.length;y++)_[y-2]=arguments[y];return a.prototype[h].apply(d,_)}}function bn(){this.s=this.s,this.o=this.o}var Zt={};bn.prototype.s=!1,bn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var u=function Mt(u){return Object.prototype.hasOwnProperty.call(u,Ft)&&u[Ft]||(u[Ft]=++Wt)}(this);delete Zt[u]}},bn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ai=Array.prototype.indexOf?function(u,a){return Array.prototype.indexOf.call(u,a,void 0)}:function(u,a){if("string"==typeof u)return"string"!=typeof a||1!=a.length?-1:u.indexOf(a,0);for(var c=0;c<u.length;c++)if(c in u&&u[c]===a)return c;return-1},ro=Array.prototype.forEach?function(u,a,c){Array.prototype.forEach.call(u,a,c)}:function(u,a,c){for(var d=u.length,h="string"==typeof u?u.split(""):u,g=0;g<d;g++)g in h&&a.call(c,h[g],g,u)};function ui(u){return Array.prototype.concat.apply([],arguments)}function tr(u){var a=u.length;if(0<a){for(var c=Array(a),d=0;d<a;d++)c[d]=u[d];return c}return[]}function $n(u){return/^[\s\xa0]*$/.test(u)}var Gn,Ci=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]};function lt(u,a){return-1!=u.indexOf(a)}function Ei(u,a){return u<a?-1:u>a?1:0}e:{var ne=ve.navigator;if(ne){var ae=ne.userAgent;if(ae){Gn=ae;break e}}Gn=""}function q(u,a,c){for(var d in u)a.call(c,u[d],d,u)}function J(u){var a={};for(var c in u)a[c]=u[c];return a}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(u,a){for(var c,d,h=1;h<arguments.length;h++){for(c in d=arguments[h])u[c]=d[c];for(var g=0;g<ge.length;g++)c=ge[g],Object.prototype.hasOwnProperty.call(d,c)&&(u[c]=d[c])}}function we(u){return we[" "](u),u}we[" "]=Oe;var $,u,tt=lt(Gn,"Opera"),Qe=lt(Gn,"Trident")||lt(Gn,"MSIE"),an=lt(Gn,"Edge"),wn=an||Qe,It=lt(Gn,"Gecko")&&!(lt(Gn.toLowerCase(),"webkit")&&!lt(Gn,"Edge"))&&!(lt(Gn,"Trident")||lt(Gn,"MSIE"))&&!lt(Gn,"Edge"),Cr=lt(Gn.toLowerCase(),"webkit")&&!lt(Gn,"Edge");function wt(){var u=ve.document;return u?u.documentMode:void 0}e:{var G="",te=(u=Gn,It?/rv:([^\);]+)(\)|;)/.exec(u):an?/Edge\/([\d\.]+)/.exec(u):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):Cr?/WebKit\/(\S+)/.exec(u):tt?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(te&&(G=te?te[1]:""),Qe){var he=wt();if(null!=he&&he>parseFloat(G)){$=String(he);break e}}$=G}var Ne={};var Rt=ve.document&&Qe&&(wt()||parseInt($,10))||void 0,ar=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var u=!1,a=Object.defineProperty({},"passive",{get:function(){u=!0}});try{ve.addEventListener("test",Oe,a),ve.removeEventListener("test",Oe,a)}catch{}return u}();function Pn(u,a){this.type=u,this.g=this.target=a,this.defaultPrevented=!1}function ci(u,a){if(Pn.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var c=this.type=u.type,d=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=a,a=u.relatedTarget){if(It){e:{try{we(a.nodeName);var h=!0;break e}catch{}h=!1}h||(a=null)}}else"mouseover"==c?a=u.fromElement:"mouseout"==c&&(a=u.toElement);this.relatedTarget=a,d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:ks[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ci.Z.h.call(this)}}Pn.prototype.h=function(){this.defaultPrevented=!0},Je(ci,Pn);var ks={2:"touch",3:"pen",4:"mouse"};ci.prototype.h=function(){ci.Z.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Er="closure_listenable_"+(1e6*Math.random()|0),li=0;function Mn(u,a,c,d,h){this.listener=u,this.proxy=null,this.src=a,this.type=c,this.capture=!!d,this.ia=h,this.key=++li,this.ca=this.fa=!1}function fn(u){u.ca=!0,u.listener=null,u.proxy=null,u.src=null,u.ia=null}function zn(u){this.src=u,this.g={},this.h=0}function nu(u,a){var c=a.type;if(c in u.g){var g,d=u.g[c],h=ai(d,a);(g=0<=h)&&Array.prototype.splice.call(d,h,1),g&&(fn(a),0==u.g[c].length&&(delete u.g[c],u.h--))}}function _a(u,a,c,d){for(var h=0;h<u.length;++h){var g=u[h];if(!g.ca&&g.listener==a&&g.capture==!!c&&g.ia==d)return h}return-1}zn.prototype.add=function(u,a,c,d,h){var g=u.toString();(u=this.g[g])||(u=this.g[g]=[],this.h++);var _=_a(u,a,d,h);return-1<_?(a=u[_],c||(a.fa=!1)):((a=new Mn(a,this.src,g,!!d,h)).fa=c,u.push(a)),a};var To="closure_lm_"+(1e6*Math.random()|0),jo={};function H(u,a,c,d,h){if(d&&d.once)return ue(u,a,c,d,h);if(Array.isArray(a)){for(var g=0;g<a.length;g++)H(u,a[g],c,d,h);return null}return c=Or(c),u&&u[Er]?u.N(a,c,Ue(d)?!!d.capture:!!d,h):U(u,a,c,!1,d,h)}function U(u,a,c,d,h,g){if(!a)throw Error("Invalid event type");var _=Ue(h)?!!h.capture:!!h,y=mn(u);if(y||(u[To]=y=new zn(u)),(c=y.add(a,c,d,_,g)).proxy)return c;if(d=function Q(){var a=Qt;return function u(c){return a.call(u.src,u.listener,c)}}(),c.proxy=d,d.src=u,d.listener=c,u.addEventListener)ar||(h=_),void 0===h&&(h=!1),u.addEventListener(a.toString(),d,h);else if(u.attachEvent)u.attachEvent(mt(a.toString()),d);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(d)}return c}function ue(u,a,c,d,h){if(Array.isArray(a)){for(var g=0;g<a.length;g++)ue(u,a[g],c,d,h);return null}return c=Or(c),u&&u[Er]?u.O(a,c,Ue(d)?!!d.capture:!!d,h):U(u,a,c,!0,d,h)}function Z(u,a,c,d,h){if(Array.isArray(a))for(var g=0;g<a.length;g++)Z(u,a[g],c,d,h);else d=Ue(d)?!!d.capture:!!d,c=Or(c),u&&u[Er]?(u=u.i,(a=String(a).toString())in u.g&&-1<(c=_a(g=u.g[a],c,d,h))&&(fn(g[c]),Array.prototype.splice.call(g,c,1),0==g.length&&(delete u.g[a],u.h--))):u&&(u=mn(u))&&(a=u.g[a.toString()],u=-1,a&&(u=_a(a,c,d,h)),(c=-1<u?a[u]:null)&&ke(c))}function ke(u){if("number"!=typeof u&&u&&!u.ca){var a=u.src;if(a&&a[Er])nu(a.i,u);else{var c=u.type,d=u.proxy;a.removeEventListener?a.removeEventListener(c,d,u.capture):a.detachEvent?a.detachEvent(mt(c),d):a.addListener&&a.removeListener&&a.removeListener(d),(c=mn(a))?(nu(c,u),0==c.h&&(c.src=null,a[To]=null)):fn(u)}}}function mt(u){return u in jo?jo[u]:jo[u]="on"+u}function Qt(u,a){if(u.ca)u=!0;else{a=new ci(a,this);var c=u.listener,d=u.ia||u.src;u.fa&&ke(u),u=c.call(d,a)}return u}function mn(u){return(u=u[To])instanceof zn?u:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Or(u){return"function"==typeof u?u:(u[un]||(u[un]=function(a){return u.handleEvent(a)}),u[un])}function hn(){bn.call(this),this.i=new zn(this),this.P=this,this.I=null}function _t(u,a){var c,d=u.I;if(d)for(c=[];d;d=d.I)c.push(d);if(u=u.P,d=a.type||a,"string"==typeof a)a=new Pn(a,u);else if(a instanceof Pn)a.target=a.target||u;else{var h=a;pe(a=new Pn(d,u),h)}if(h=!0,c)for(var g=c.length-1;0<=g;g--){var _=a.g=c[g];h=go(_,d,!0,a)&&h}if(h=go(_=a.g=u,d,!0,a)&&h,h=go(_,d,!1,a)&&h,c)for(g=0;g<c.length;g++)h=go(_=a.g=c[g],d,!1,a)&&h}function go(u,a,c,d){if(!(a=u.i.g[String(a)]))return!0;a=a.concat();for(var h=!0,g=0;g<a.length;++g){var _=a[g];if(_&&!_.ca&&_.capture==c){var y=_.listener,D=_.ia||_.src;_.fa&&nu(u.i,_),h=!1!==y.call(D,d)&&h}}return h&&!d.defaultPrevented}Je(hn,bn),hn.prototype[Er]=!0,hn.prototype.removeEventListener=function(u,a,c,d){Z(this,u,a,c,d)},hn.prototype.M=function(){if(hn.Z.M.call(this),this.i){var a,u=this.i;for(a in u.g){for(var c=u.g[a],d=0;d<c.length;d++)fn(c[d]);delete u.g[a],u.h--}}this.I=null},hn.prototype.N=function(u,a,c,d){return this.i.add(String(u),a,!1,c,d)},hn.prototype.O=function(u,a,c,d){return this.i.add(String(u),a,!0,c,d)};var xr=ve.JSON.stringify;function ht(){var u=iu,a=null;return u.g&&(a=u.g,u.g=u.g.next,u.g||(u.h=null),a.next=null),a}var cn,ff=function(){function u(){this.h=this.g=null}return u.prototype.add=function(a,c){var d=io.get();d.set(a,c),this.h?this.h.next=d:this.g=d,this.h=d},u}(),io=new(function(){function u(a,c){this.i=a,this.j=c,this.h=0,this.g=null}return u.prototype.get=function(){var a;return 0<this.h?(this.h--,this.g=(a=this.g).next,a.next=null):a=this.i(),a},u}())(function(){return new ur},function(u){return u.reset()}),ur=function(){function u(){this.next=this.g=this.h=null}return u.prototype.set=function(a,c){this.h=a,this.g=c,this.next=null},u.prototype.reset=function(){this.next=this.g=this.h=null},u}();function ru(u){ve.setTimeout(function(){throw u},0)}function yl(u,a){cn||function Uo(){var u=ve.Promise.resolve(void 0);cn=function(){u.then(Tp)}}(),Un||(cn(),Un=!0),iu.add(u,a)}var Un=!1,iu=new ff;function Tp(){for(var u;u=ht();){try{u.h.call(u.g)}catch(c){ru(c)}var a=io;a.j(u),100>a.h&&(a.h++,u.next=a.g,a.g=u)}Un=!1}function Pt(u,a){hn.call(this),this.h=u||1,this.g=a||ve,this.j=jt(this.kb,this),this.l=Date.now()}function pt(u){u.da=!1,u.S&&(u.g.clearTimeout(u.S),u.S=null)}function ou(u,a,c){if("function"==typeof u)c&&(u=jt(u,c));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=jt(u.handleEvent,u)}return 2147483647<Number(a)?-1:ve.setTimeout(u,a||0)}function ic(u){u.g=ou(function(){u.g=null,u.i&&(u.i=!1,ic(u))},u.j);var a=u.h;u.h=null,u.m.apply(null,a)}Je(Pt,hn),(ce=Pt.prototype).da=!1,ce.S=null,ce.kb=function(){if(this.da){var u=Date.now()-this.l;0<u&&u<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-u):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_t(this,"tick"),this.da&&(pt(this),this.start()))}},ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){Pt.Z.M.call(this),pt(this),delete this.g};var Ip=function(u){function a(c,d){var h=u.call(this)||this;return h.m=c,h.j=d,h.h=null,h.i=!1,h.g=null,h}return function Di(u,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=u}xt(u,a),u.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}(a,u),a.prototype.l=function(c){this.h=arguments,this.g?this.i=!0:ic(this)},a.prototype.M=function(){u.prototype.M.call(this),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},a}(bn);function va(u){bn.call(this),this.h=u,this.g={}}Je(va,bn);var se=[];function Fs(u,a,c,d){Array.isArray(c)||(c&&(se[0]=c.toString()),c=se);for(var h=0;h<c.length;h++){var g=H(a,c[h],d||u.handleEvent,!1,u.h||u);if(!g)break;u.g[g.key]=g}}function Dt(u){q(u.g,function(a,c){this.g.hasOwnProperty(c)&&ke(a)},u),u.g={}}function Jt(){this.g=!0}function ya(u,a,c,d){u.info(function(){return"XMLHTTP TEXT ("+a+"): "+function Si(u,a){if(!u.g)return a;if(!a)return null;try{var c=JSON.parse(a);if(c)for(u=0;u<c.length;u++)if(Array.isArray(c[u])){var d=c[u];if(!(2>d.length)){var h=d[1];if(Array.isArray(h)&&!(1>h.length)){var g=h[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var _=1;_<h.length;_++)h[_]=""}}}return xr(c)}catch{return a}}(u,c)+(d?" "+d:"")})}va.prototype.M=function(){va.Z.M.call(this),Dt(this)},va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jt.prototype.Aa=function(){this.g=!1},Jt.prototype.info=function(){};var Ho={},pf=null;function bl(){return pf=pf||new hn}function $o(u){Pn.call(this,Ho.Ma,u)}function su(u){var a=bl();_t(a,new $o(a,u))}function Mp(u,a){Pn.call(this,Ho.STAT_EVENT,u),this.stat=a}function Ti(u){var a=bl();_t(a,new Mp(a,u))}function Np(u,a){Pn.call(this,Ho.Na,u),this.size=a}function au(u,a){if("function"!=typeof u)throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){u()},a)}Ho.Ma="serverreachability",Je($o,Pn),Ho.STAT_EVENT="statevent",Je(Mp,Pn),Ho.Na="timingevent",Je(Np,Pn);var oc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gf(){}function gt(){}gf.prototype.h=null;var Re,uu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mf(){Pn.call(this,"d")}function cu(){Pn.call(this,"c")}function wl(){}function Nt(u,a,c,d){this.l=u,this.j=a,this.m=c,this.X=d||1,this.V=new va(this),this.P=Ap,this.W=new Pt(u=wn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new lu}function lu(){this.i=null,this.g="",this.h=!1}Je(mf,Pn),Je(cu,Pn),Je(wl,gf),wl.prototype.g=function(){return new XMLHttpRequest},wl.prototype.i=function(){return{}},Re=new wl;var Ap=45e3,ac={},uc={};function Ls(u,a,c){u.K=1,u.v=nr(ye(a)),u.s=c,u.U=!0,du(u,null)}function du(u,a){u.F=Date.now(),At(u),u.A=ye(u.v);var c=u.A,d=u.X;Array.isArray(d)||(d=[String(d)]),Dl(c.h,"t",d),u.C=0,c=u.l.H,u.h=new lu,u.g=ze(u.l,c?a:null,!u.s),0<u.O&&(u.L=new Ip(jt(u.Ia,u,u.g),u.O)),Fs(u.V,u.g,"readystatechange",u.gb),a=u.H?J(u.H):{},u.s?(u.u||(u.u="POST"),a["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.s,a)):(u.u="GET",u.g.ea(u.A,u.u,null,a)),su(1),function hf(u,a,c,d,h,g){u.info(function(){if(u.g)if(g)for(var _="",y=g.split("&"),D=0;D<y.length;D++){var T=y[D].split("=");if(1<T.length){var N=T[0];T=T[1];var R=N.split("_");_=2<=R.length&&"type"==R[1]?_+(N+"=")+T+"&":_+(N+"=redacted&")}}else _=null;else _=g;return"XMLHTTP REQ ("+d+") [attempt "+h+"]: "+a+"\n"+c+"\n"+_})}(u.j,u.u,u.A,u.m,u.X,u.s)}function cc(u){return!!u.g&&"GET"==u.u&&2!=u.K&&u.l.Ba}function ba(u,a,c){for(var h,d=!0;!u.I&&u.C<c.length;){if((h=_f(u,c))==uc){4==a&&(u.o=4,Ti(14),d=!1),ya(u.j,u.m,null,"[Incomplete Response]");break}if(h==ac){u.o=4,Ti(15),ya(u.j,u.m,c,"[Invalid Chunk]"),d=!1;break}ya(u.j,u.m,h,null),vf(u,h)}cc(u)&&h!=uc&&h!=ac&&(u.h.g="",u.C=0),4!=a||0!=c.length||u.h.h||(u.o=1,Ti(16),d=!1),u.i=u.i&&d,d?0<c.length&&!u.aa&&(u.aa=!0,(a=u.l).g==u&&a.$&&!a.L&&(a.h.info("Great, no buffering proxy detected. Bytes received: "+c.length),Ea(a),a.L=!0,Ti(11))):(ya(u.j,u.m,c,"[Invalid Chunked Response]"),ls(u),Sr(u))}function _f(u,a){var c=u.C,d=a.indexOf("\n",c);return-1==d?uc:(c=Number(a.substring(c,d)),isNaN(c)?ac:(d+=1)+c>a.length?uc:(a=a.substr(d,c),u.C=d+c,a))}function At(u){u.Y=Date.now()+u.P,cs(u,u.P)}function cs(u,a){if(null!=u.B)throw Error("WatchDog timer not null");u.B=au(jt(u.eb,u),a)}function fu(u){u.B&&(ve.clearTimeout(u.B),u.B=null)}function Sr(u){0==u.l.G||u.I||Lp(u.l,u)}function ls(u){fu(u);var a=u.L;a&&"function"==typeof a.na&&a.na(),u.L=null,pt(u.W),Dt(u.V),u.g&&(a=u.g,u.g=null,a.abort(),a.na())}function vf(u,a){try{var c=u.l;if(0!=c.G&&(c.g==u||oo(c.i,u)))if(c.I=u.N,!u.J&&oo(c.i,u)&&3==c.G){try{var d=c.Ca.g.parse(a)}catch{d=null}if(Array.isArray(d)&&3==d.length){var h=d;if(0==h[0]){e:if(!c.u){if(c.g){if(!(c.g.F+3e3<u.F))break e;Al(c),wf(c)}di(c),Ti(18)}}else c.ta=h[1],0<c.ta-c.U&&37500>h[2]&&c.N&&0==c.A&&!c.v&&(c.v=au(jt(c.ab,c),6e3));if(1>=El(c.i)&&c.ka){try{c.ka()}catch{}c.ka=void 0}}else hu(c,11)}else if((u.J||c.g==u)&&Al(c),!$n(a))for(h=c.Ca.g.parse(a),a=0;a<h.length;a++){var g=h[a];if(c.U=g[0],g=g[1],2==c.G)if("c"==g[0]){c.J=g[1],c.la=g[2];var _=g[3];null!=_&&(c.ma=_,c.h.info("VER="+c.ma));var y=g[4];null!=y&&(c.za=y,c.h.info("SVER="+c.za));var D=g[5];null!=D&&"number"==typeof D&&0<D&&(c.K=d=1.5*D,c.h.info("backChannelRequestTimeoutMs_="+d)),d=c;var T=u.g;if(T){var N=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var R=d.i;!R.g&&(lt(N,"spdy")||lt(N,"quic")||lt(N,"h2"))&&(R.j=R.l,R.g=new Set,R.h&&(Io(R,R.h),R.h=null))}if(d.D){var L=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;L&&(d.sa=L,Et(d.F,d.D,L))}}c.G=3,c.j&&c.j.xa(),c.$&&(c.O=Date.now()-u.F,c.h.info("Handshake RTT: "+c.O+"ms"));var ee=u;if((d=c).oa=rr(d,d.H?d.la:null,d.W),ee.J){ln(d.i,ee);var Y=ee,le=d.K;le&&Y.setTimeout(le),Y.B&&(fu(Y),At(Y)),d.g=ee}else Jr(d);0<c.l.length&&Df(c)}else"stop"!=g[0]&&"close"!=g[0]||hu(c,7);else 3==c.G&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?hu(c,7):Fp(c):"noop"!=g[0]&&c.j&&c.j.wa(g),c.A=0)}su(4)}catch{}}function yf(u,a){if(u.forEach&&"function"==typeof u.forEach)u.forEach(a,void 0);else if(Me(u)||"string"==typeof u)ro(u,a,void 0);else{if(u.T&&"function"==typeof u.T)var c=u.T();else if(u.R&&"function"==typeof u.R)c=void 0;else if(Me(u)||"string"==typeof u){c=[];for(var d=u.length,h=0;h<d;h++)c.push(h)}else for(h in c=[],d=0,u)c[d++]=h;d=function Nn(u){if(u.R&&"function"==typeof u.R)return u.R();if("string"==typeof u)return u.split("");if(Me(u)){for(var a=[],c=u.length,d=0;d<c;d++)a.push(u[d]);return a}for(d in a=[],c=0,u)a[c++]=u[d];return a}(u),h=d.length;for(var g=0;g<h;g++)a.call(void 0,d[g],c&&c[g],u)}}function E(u,a){this.h={},this.g=[],this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(u)if(u instanceof E)for(c=u.T(),d=0;d<c.length;d++)this.set(c[d],u.get(c[d]));else for(d in u)this.set(d,u[d])}function w(u){if(u.i!=u.g.length){for(var a=0,c=0;a<u.g.length;){var d=u.g[a];x(u.h,d)&&(u.g[c++]=d),a++}u.g.length=c}if(u.i!=u.g.length){var h={};for(c=a=0;a<u.g.length;)x(h,d=u.g[a])||(u.g[c++]=d,h[d]=1),a++;u.g.length=c}}function x(u,a){return Object.prototype.hasOwnProperty.call(u,a)}(ce=Nt.prototype).setTimeout=function(u){this.P=u},ce.gb=function(u){u=u.target;var a=this.L;a&&3==Us(u)?a.l():this.Ia(u)},ce.Ia=function(u){try{if(u==this.g)e:{var a=Us(this.g),c=this.g.Da(),d=this.g.ba();if(!(3>a)&&(3!=a||wn||this.g&&(this.h.h||this.g.ga()||Pp(this.g)))){this.I||4!=a||7==c||su(8==c||0>=d?3:2),fu(this);var h=this.g.ba();this.N=h;t:if(cc(this)){var g=Pp(this.g);u="";var _=g.length,y=4==Us(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ls(this),Sr(this);var D="";break t}this.h.i=new ve.TextDecoder}for(c=0;c<_;c++)this.h.h=!0,u+=this.h.i.decode(g[c],{stream:y&&c==_-1});g.splice(0,_),this.h.g+=u,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==h,function A_(u,a,c,d,h,g,_){u.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+h+"]: "+a+"\n"+c+"\n"+g+" "+_})}(this.j,this.u,this.A,this.m,this.X,a,h),this.i){if(this.$&&!this.J){t:{if(this.g){var T,N=this.g;if((T=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$n(T)){var R=T;break t}}R=null}if(!(h=R)){this.i=!1,this.o=3,Ti(12),ls(this),Sr(this);break e}ya(this.j,this.m,h,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vf(this,h)}this.U?(ba(this,a,D),wn&&this.i&&3==a&&(Fs(this.V,this.W,"tick",this.fb),this.W.start())):(ya(this.j,this.m,D,null),vf(this,D)),4==a&&ls(this),this.i&&!this.I&&(4==a?Lp(this.l,this):(this.i=!1,At(this)))}else 400==h&&0<D.indexOf("Unknown SID")?(this.o=3,Ti(12)):(this.o=0,Ti(13)),ls(this),Sr(this)}}}catch{}},ce.fb=function(){if(this.g){var u=Us(this.g),a=this.g.ga();this.C<a.length&&(fu(this),ba(this,u,a),this.i&&4!=u&&At(this))}},ce.cancel=function(){this.I=!0,ls(this)},ce.eb=function(){this.B=null;var u=Date.now();0<=u-this.Y?(function us(u,a){u.info(function(){return"TIMEOUT: "+a})}(this.j,this.A),2!=this.K&&(su(3),Ti(17)),ls(this),this.o=2,Sr(this)):cs(this,this.Y-u)},(ce=E.prototype).R=function(){w(this);for(var u=[],a=0;a<this.g.length;a++)u.push(this.h[this.g[a]]);return u},ce.T=function(){return w(this),this.g.concat()},ce.get=function(u,a){return x(this.h,u)?this.h[u]:a},ce.set=function(u,a){x(this.h,u)||(this.i++,this.g.push(u)),this.h[u]=a},ce.forEach=function(u,a){for(var c=this.T(),d=0;d<c.length;d++){var h=c[d],g=this.get(h);u.call(a,g,h,this)}};var F=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function re(u,a){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,u instanceof re){this.g=void 0!==a?a:u.g,Ge(this,u.j),this.s=u.s,Fe(this,u.i),Xe(this,u.m),this.l=u.l,a=u.h;var c=new Vs;c.i=a.i,a.g&&(c.g=new E(a.g),c.h=a.h),Ct(this,c),this.o=u.o}else u&&(c=String(u).match(F))?(this.g=!!a,Ge(this,c[1]||"",!0),this.s=kn(c[2]||""),Fe(this,c[3]||"",!0),Xe(this,c[4]),this.l=kn(c[5]||"",!0),Ct(this,c[6]||"",!0),this.o=kn(c[7]||"")):(this.g=!!a,this.h=new Vs(null,this.g))}function ye(u){return new re(u)}function Ge(u,a,c){u.j=c?kn(a,!0):a,u.j&&(u.j=u.j.replace(/:$/,""))}function Fe(u,a,c){u.i=c?kn(a,!0):a}function Xe(u,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);u.m=a}else u.m=null}function Ct(u,a,c){a instanceof Vs?(u.h=a,function Cl(u,a){a&&!u.j&&(Ee(u),u.i=null,u.g.forEach(function(c,d){var h=d.toLowerCase();d!=h&&(zi(this,d),Dl(this,h,c))},u)),u.j=a}(u.h,u.g)):(c||(a=Tr(a,wa)),u.h=new Vs(a,u.g))}function Et(u,a,c){u.h.set(a,c)}function nr(u){return Et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function kn(u,a){return u?a?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tr(u,a,c){return"string"==typeof u?(u=encodeURI(u).replace(a,ds),c&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ds(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}re.prototype.toString=function(){var u=[],a=this.j;a&&u.push(Tr(a,Mi,!0),":");var c=this.i;return(c||"file"==a)&&(u.push("//"),(a=this.s)&&u.push(Tr(a,Mi,!0),"@"),u.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(c=this.m)&&u.push(":",String(c))),(c=this.l)&&(this.i&&"/"!=c.charAt(0)&&u.push("/"),u.push(Tr(c,"/"==c.charAt(0)?Ni:$i,!0))),(c=this.h.toString())&&u.push("?",c),(c=this.o)&&u.push("#",Tr(c,Gi)),u.join("")};var Mi=/[#\/\?@]/g,$i=/[#\?:]/g,Ni=/[#\?]/g,wa=/[#\?@]/g,Gi=/#/g;function Vs(u,a){this.h=this.g=null,this.i=u||null,this.j=!!a}function Ee(u){u.g||(u.g=new E,u.h=0,u.i&&function z(u,a){if(u){u=u.split("&");for(var c=0;c<u.length;c++){var d=u[c].indexOf("="),h=null;if(0<=d){var g=u[c].substring(0,d);h=u[c].substring(d+1)}else g=u[c];a(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(u.i,function(a,c){u.add(decodeURIComponent(a.replace(/\+/g," ")),c)}))}function zi(u,a){Ee(u),a=Da(u,a),x(u.g.h,a)&&(u.i=null,u.h-=u.g.get(a).length,x((u=u.g).h,a)&&(delete u.h[a],u.i--,u.g.length>2*u.i&&w(u)))}function Ve(u,a){return Ee(u),a=Da(u,a),x(u.g.h,a)}function Dl(u,a,c){zi(u,a),0<c.length&&(u.i=null,u.g.set(Da(u,a),tr(c)),u.h+=c.length)}function Da(u,a){return a=String(a),u.j&&(a=a.toLowerCase()),a}(ce=Vs.prototype).add=function(u,a){Ee(this),this.i=null,u=Da(this,u);var c=this.g.get(u);return c||this.g.set(u,c=[]),c.push(a),this.h+=1,this},ce.forEach=function(u,a){Ee(this),this.g.forEach(function(c,d){ro(c,function(h){u.call(a,h,d,this)},this)},this)},ce.T=function(){Ee(this);for(var u=this.g.R(),a=this.g.T(),c=[],d=0;d<a.length;d++)for(var h=u[d],g=0;g<h.length;g++)c.push(a[d]);return c},ce.R=function(u){Ee(this);var a=[];if("string"==typeof u)Ve(this,u)&&(a=ui(a,this.g.get(Da(this,u))));else{u=this.g.R();for(var c=0;c<u.length;c++)a=ui(a,u[c])}return a},ce.set=function(u,a){return Ee(this),this.i=null,Ve(this,u=Da(this,u))&&(this.h-=this.g.get(u).length),this.g.set(u,[a]),this.h+=1,this},ce.get=function(u,a){return u&&0<(u=this.R(u)).length?String(u[0]):a},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var u=[],a=this.g.T(),c=0;c<a.length;c++){var d=a[c],h=encodeURIComponent(String(d));d=this.R(d);for(var g=0;g<d.length;g++){var _=h;""!==d[g]&&(_+="="+encodeURIComponent(String(d[g]))),u.push(_)}}return this.i=u.join("&")};var kb=function u(a,c){this.h=a,this.g=c};function O_(u){this.l=u||Fb,u=ve.PerformanceNavigationTiming?0<(u=ve.performance.getEntriesByType("navigation")).length&&("hq"==u[0].nextHopProtocol||"h2"==u[0].nextHopProtocol):!!(ve.g&&ve.g.Ea&&ve.g.Ea()&&ve.g.Ea().Zb),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Fb=10;function fs(u){return!!u.h||!!u.g&&u.g.size>=u.j}function El(u){return u.h?1:u.g?u.g.size:0}function oo(u,a){return u.h?u.h==a:!!u.g&&u.g.has(a)}function Io(u,a){u.g?u.g.add(a):u.h=a}function ln(u,a){u.h&&u.h==a?u.h=null:u.g&&u.g.has(a)&&u.g.delete(a)}function Sl(u){var a,c;if(null!=u.h)return u.i.concat(u.h.D);if(null!=u.g&&0!==u.g.size){var d=u.i;try{for(var h=sr(u.g.values()),g=h.next();!g.done;g=h.next())d=d.concat(g.value.D)}catch(y){a={error:y}}finally{try{g&&!g.done&&(c=h.return)&&c.call(h)}finally{if(a)throw a.error}}return d}return tr(u.i)}function Tl(){}function Op(){this.g=new Tl}function x_(u,a,c){var d=c||"";try{yf(u,function(h,g){var _=h;Ue(h)&&(_=xr(h)),a.push(d+g+"="+encodeURIComponent(_))})}catch(h){throw a.push(d+"type="+encodeURIComponent("_badmap")),h}}function Ca(u,a,c,d,h){try{a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null,h(d)}catch{}}function lc(u){this.l=u.$b||null,this.j=u.ib||!1}function Il(u,a){hn.call(this),this.D=u,this.u=a,this.m=void 0,this.readyState=Ml,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}O_.prototype.cancel=function(){var u,a;if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var c=sr(this.g.values()),d=c.next();!d.done;d=c.next())d.value.cancel()}catch(g){u={error:g}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(u)throw u.error}}this.g.clear()}},Tl.prototype.stringify=function(u){return ve.JSON.stringify(u,void 0)},Tl.prototype.parse=function(u){return ve.JSON.parse(u,void 0)},Je(lc,gf),lc.prototype.g=function(){return new Il(this.l,this.j)},lc.prototype.i=function(u){return function(){return u}}({}),Je(Il,hn);var Ml=0;function xp(u){u.j.read().then(u.Sa.bind(u)).catch(u.ha.bind(u))}function dc(u){u.readyState=4,u.l=null,u.j=null,u.A=null,js(u)}function js(u){u.onreadystatechange&&u.onreadystatechange.call(u)}(ce=Il.prototype).open=function(u,a){if(this.readyState!=Ml)throw this.abort(),Error("Error reopening a connection");this.C=u,this.B=a,this.readyState=1,js(this)},ce.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var a={headers:this.v,method:this.C,credentials:this.m,cache:void 0};u&&(a.body=u),(this.D||ve).fetch(new Request(this.B,a)).then(this.Va.bind(this),this.ha.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dc(this)),this.readyState=Ml},ce.Va=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if("arraybuffer"===this.responseType)u.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xp(this)}else u.text().then(this.Ua.bind(this),this.ha.bind(this))},ce.Sa=function(u){if(this.g){if(this.u&&u.value)this.response.push(u.value);else if(!this.u){var a=u.value?u.value:new Uint8Array(0);(a=this.A.decode(a,{stream:!u.done}))&&(this.response=this.responseText+=a)}u.done?dc(this):js(this),3==this.readyState&&xp(this)}},ce.Ua=function(u){this.g&&(this.response=this.responseText=u,dc(this))},ce.Ta=function(u){this.g&&(this.response=u,dc(this))},ce.ha=function(){this.g&&dc(this)},ce.setRequestHeader=function(u,a){this.v.append(u,a)},ce.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var u=[],a=this.h.entries(),c=a.next();!c.done;)u.push((c=c.value)[0]+": "+c[1]),c=a.next();return u.join("\r\n")},Object.defineProperty(Il.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(u){this.m=u?"include":"same-origin"}});var R_=ve.JSON.parse;function pr(u){hn.call(this),this.headers=new E,this.u=u||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=P_,this.K=this.L=!1}Je(pr,hn);var P_="",k_=/^https?$/i,Lb=["POST","PUT"];function Go(u){return"content-type"==u.toLowerCase()}function F_(u,a){u.h=!1,u.g&&(u.l=!0,u.g.abort(),u.l=!1),u.j=a,u.m=5,Rp(u),bf(u)}function Rp(u){u.D||(u.D=!0,_t(u,"complete"),_t(u,"error"))}function L_(u){if(u.h&&typeof Ce<"u"&&(!u.C[1]||4!=Us(u)||2!=u.ba()))if(u.v&&4==Us(u))ou(u.Fa,0,u);else if(_t(u,"readystatechange"),4==Us(u)){u.h=!1;try{var d,a=u.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}if(!(d=c)){var h;if(h=0===a){var g=String(u.H).match(F)[1]||null;if(!g&&ve.self&&ve.self.location){var _=ve.self.location.protocol;g=_.substr(0,_.length-1)}h=!k_.test(g?g.toLowerCase():"")}d=h}if(d)_t(u,"complete"),_t(u,"success");else{u.m=6;try{var y=2<Us(u)?u.g.statusText:""}catch{y=""}u.j=y+" ["+u.ba()+"]",Rp(u)}}finally{bf(u)}}}function bf(u,a){if(u.g){V_(u);var c=u.g,d=u.C[0]?Oe:null;u.g=null,u.C=null,a||_t(u,"ready");try{c.onreadystatechange=d}catch{}}}function V_(u){u.g&&u.K&&(u.g.ontimeout=null),u.A&&(ve.clearTimeout(u.A),u.A=null)}function Us(u){return u.g?u.g.readyState:0}function Pp(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.J){case P_:case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function kp(u,a,c){e:{for(d in c){var d=!1;break e}d=!0}d||(c=function Bb(u){var a="";return q(u,function(c,d){a+=d,a+=":",a+=c,a+="\r\n"}),a}(c),"string"==typeof u?null!=c&&encodeURIComponent(String(c)):Et(u,a,c))}function Nl(u,a,c){return c&&c.internalChannelParams&&c.internalChannelParams[u]||a}function $t(u){this.za=0,this.l=[],this.h=new Jt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Nl("failFast",!1,u),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Nl("baseRetryDelayMs",5e3,u),this.$a=Nl("retryDelaySeedMs",1e4,u),this.Ya=Nl("forwardChannelMaxRetries",2,u),this.ra=Nl("forwardChannelRequestTimeoutMs",2e4,u),this.qa=u&&u.xmlHttpFactory||void 0,this.Ba=u&&u.Yb||!1,this.K=void 0,this.H=u&&u.supportsCrossDomainXhr||!1,this.J="",this.i=new O_(u&&u.concurrentRequestLimit),this.Ca=new Op,this.ja=u&&u.fastHandshake||!1,this.Ra=u&&u.Wb||!1,u&&u.Aa&&this.h.Aa(),u&&u.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&u&&u.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!u||!1!==u.Xb}function Fp(u){if(B_(u),3==u.G){var a=u.V++,c=ye(u.F);Et(c,"SID",u.J),Et(c,"RID",a),Et(c,"TYPE","terminate"),Rr(u,c),(a=new Nt(u,u.h,a,void 0)).K=2,a.v=nr(ye(c)),c=!1,ve.navigator&&ve.navigator.sendBeacon&&(c=ve.navigator.sendBeacon(a.v.toString(),"")),!c&&ve.Image&&((new Image).src=a.v,c=!0),c||(a.g=ze(a.l,null),a.g.ea(a.v)),a.F=Date.now(),At(a)}U_(u)}function wf(u){u.g&&(Ea(u),u.g.cancel(),u.g=null)}function B_(u){wf(u),u.u&&(ve.clearTimeout(u.u),u.u=null),Al(u),u.i.cancel(),u.m&&("number"==typeof u.m&&ve.clearTimeout(u.m),u.m=null)}function Gt(u,a){u.l.push(new kb(u.Za++,a)),3==u.G&&Df(u)}function Df(u){fs(u.i)||u.m||(u.m=!0,yl(u.Ha,u),u.C=0)}function Pe(u,a){var c;c=a?a.m:u.V++;var d=ye(u.F);Et(d,"SID",u.J),Et(d,"RID",c),Et(d,"AID",u.U),Rr(u,d),u.o&&u.s&&kp(d,u.o,u.s),c=new Nt(u,u.h,c,u.C+1),null===u.o&&(c.H=u.s),a&&(u.l=a.D.concat(u.l)),a=Xt(u,c,1e3),c.setTimeout(Math.round(.5*u.ra)+Math.round(.5*u.ra*Math.random())),Io(u.i,c),Ls(c,d,a)}function Rr(u,a){u.j&&yf({},function(c,d){Et(a,d,c)})}function Xt(u,a,c){c=Math.min(u.l.length,c);var d=u.j?jt(u.j.Oa,u.j,u):null;e:for(var h=u.l,g=-1;;){var _=["count="+c];-1==g?0<c?_.push("ofs="+(g=h[0].h)):g=0:_.push("ofs="+g);for(var y=!0,D=0;D<c;D++){var T=h[D].h,N=h[D].g;if(0>(T-=g))g=Math.max(0,h[D].h-100),y=!1;else try{x_(N,_,"req"+T+"_")}catch{d&&d(N)}}if(y){d=_.join("&");break e}}return u=u.l.splice(0,c),a.D=u,d}function Jr(u){u.g||u.u||(u.Y=1,yl(u.Ga,u),u.A=0)}function di(u){return!(u.g||u.u||3<=u.A||(u.Y++,u.u=au(jt(u.Ga,u),Ol(u,u.A)),u.A++,0))}function Ea(u){null!=u.B&&(ve.clearTimeout(u.B),u.B=null)}function so(u){u.g=new Nt(u,u.h,"rpc",u.Y),null===u.o&&(u.g.H=u.s),u.g.O=0;var a=ye(u.oa);Et(a,"RID","rpc"),Et(a,"SID",u.J),Et(a,"CI",u.N?"0":"1"),Et(a,"AID",u.U),Rr(u,a),Et(a,"TYPE","xmlhttp"),u.o&&u.s&&kp(a,u.o,u.s),u.K&&u.g.setTimeout(u.K);var c=u.g;u=u.la,c.K=1,c.v=nr(ye(a)),c.s=null,c.U=!0,du(c,u)}function Al(u){null!=u.v&&(ve.clearTimeout(u.v),u.v=null)}function Lp(u,a){var c=null;if(u.g==a){Al(u),Ea(u),u.g=null;var d=2}else{if(!oo(u.i,a))return;c=a.D,ln(u.i,a),d=1}if(u.I=a.N,0!=u.G)if(a.i)if(1==d){c=a.s?a.s.length:0,a=Date.now()-a.F;var h=u.C;_t(d=bl(),new Np(d,c,a,h)),Df(u)}else Jr(u);else if(3==(h=a.o)||0==h&&0<u.I||!(1==d&&function j_(u,a){return!(El(u.i)>=u.i.j-(u.m?1:0)||(u.m?(u.l=a.D.concat(u.l),0):1==u.G||2==u.G||u.C>=(u.Xa?0:u.Ya)||(u.m=au(jt(u.Ha,u,a),Ol(u,u.C)),u.C++,0)))}(u,a)||2==d&&di(u)))switch(c&&0<c.length&&(a=u.i,a.i=a.i.concat(c)),h){case 1:hu(u,5);break;case 4:hu(u,10);break;case 3:hu(u,6);break;default:hu(u,2)}}function Ol(u,a){var c=u.Pa+Math.floor(Math.random()*u.$a);return u.j||(c*=2),c*a}function hu(u,a){if(u.h.info("Error code "+a),2==a){var c=null;u.j&&(c=null);var d=jt(u.jb,u);c||(c=new re("//www.google.com/images/cleardot.gif"),ve.location&&"http"==ve.location.protocol||Ge(c,"https"),nr(c)),function Bs(u,a){var c=new Jt;if(ve.Image){var d=new Image;d.onload=jn(Ca,c,d,"TestLoadImage: loaded",!0,a),d.onerror=jn(Ca,c,d,"TestLoadImage: error",!1,a),d.onabort=jn(Ca,c,d,"TestLoadImage: abort",!1,a),d.ontimeout=jn(Ca,c,d,"TestLoadImage: timeout",!1,a),ve.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=u}else a(!1)}(c.toString(),d)}else Ti(2);u.G=0,u.j&&u.j.va(a),U_(u),B_(u)}function U_(u){u.G=0,u.I=-1,u.j&&((0!=Sl(u.i).length||0!=u.l.length)&&(u.i.i.length=0,tr(u.l),u.l.length=0),u.j.ua())}function rr(u,a,c){var d=function cr(u){return u instanceof re?ye(u):new re(u,void 0)}(c);if(""!=d.i)a&&Fe(d,a+"."+d.i),Xe(d,d.m);else{var h=ve.location;d=function Dn(u,a,c,d){var h=new re(null,void 0);return u&&Ge(h,u),a&&Fe(h,a),c&&Xe(h,c),d&&(h.l=d),h}(h.protocol,a?a+"."+h.hostname:h.hostname,+h.port,c)}return u.aa&&q(u.aa,function(g,_){Et(d,_,g)}),c=u.sa,(a=u.D)&&c&&Et(d,a,c),Et(d,"VER",u.ma),Rr(u,d),d}function ze(u,a,c){if(a&&!u.H)throw Error("Can't create secondary domain capable XhrIo object.");return(a=new pr(c&&u.Ba&&!u.qa?new lc({ib:!0}):u.qa)).L=u.H,a}function Ot(){}function Fn(){if(Qe&&!(10<=Number(Rt)))throw Error("Environmental error: no available transport.")}function ir(u,a){hn.call(this),this.g=new $t(a),this.l=u,this.h=a&&a.messageUrlParams||null,u=a&&a.messageHeaders||null,a&&a.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.s=u,u=a&&a.initMessageHeaders||null,a&&a.messageContentType&&(u?u["X-WebChannel-Content-Type"]=a.messageContentType:u={"X-WebChannel-Content-Type":a.messageContentType}),a&&a.ya&&(u?u["X-WebChannel-Client-Profile"]=a.ya:u={"X-WebChannel-Client-Profile":a.ya}),this.g.P=u,(u=a&&a.httpHeadersOverwriteParam)&&!$n(u)&&(this.g.o=u),this.A=a&&a.supportsCrossDomainXhr||!1,this.v=a&&a.sendRawJson||!1,(a=a&&a.httpSessionIdParam)&&!$n(a)&&(this.g.D=a,null!==(u=this.h)&&a in u&&a in(u=this.h)&&delete u[a]),this.j=new zo(this)}function fc(u){mf.call(this);var a=u.__sm__;if(a){e:{for(var c in a){u=c;break e}u=void 0}(this.i=u)&&(u=this.i,a=null!==a&&u in a?a[u]:void 0),this.data=a}else this.data=u}function fi(){cu.call(this),this.status=1}function zo(u){this.g=u}(ce=pr.prototype).ea=function(u,a,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+u);a=a?a.toUpperCase():"GET",this.H=u,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Re.g(),this.C=function Ii(u){return u.h||(u.h=u.i())}(this.u?this.u:Re),this.g.onreadystatechange=jt(this.Fa,this);try{this.F=!0,this.g.open(a,String(u),!0),this.F=!1}catch(g){return void F_(this,g)}u=c||"";var h=new E(this.headers);d&&yf(d,function(g,_){h.set(_,g)}),d=function Hi(u){e:{for(var a=Go,c=u.length,d="string"==typeof u?u.split(""):u,h=0;h<c;h++)if(h in d&&a.call(void 0,d[h],h,u)){a=h;break e}a=-1}return 0>a?null:"string"==typeof u?u.charAt(a):u[a]}(h.T()),c=ve.FormData&&u instanceof ve.FormData,!(0<=ai(Lb,a))||d||c||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(g,_){this.g.setRequestHeader(_,g)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{V_(this),0<this.B&&((this.K=function Vb(u){return Qe&&function De(){return function Tt(u){var a=Ne;return Object.prototype.hasOwnProperty.call(a,9)?a[9]:a[9]=u(9)}(function(){for(var u=0,a=Ci(String($)).split("."),c=Ci("9").split("."),d=Math.max(a.length,c.length),h=0;0==u&&h<d;h++){var g=a[h]||"",_=c[h]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],0==g[0].length&&0==_[0].length)break;u=Ei(0==g[1].length?0:parseInt(g[1],10),0==_[1].length?0:parseInt(_[1],10))||Ei(0==g[2].length,0==_[2].length)||Ei(g[2],_[2]),g=g[3],_=_[3]}while(0==u)}return 0<=u})}()&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.pa,this)):this.A=ou(this.pa,this.B,this)),this.v=!0,this.g.send(u),this.v=!1}catch(g){F_(this,g)}},ce.pa=function(){typeof Ce<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_t(this,"timeout"),this.abort(8))},ce.abort=function(u){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=u||7,_t(this,"complete"),_t(this,"abort"),bf(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bf(this,!0)),pr.Z.M.call(this)},ce.Fa=function(){this.s||(this.F||this.v||this.l?L_(this):this.cb())},ce.cb=function(){L_(this)},ce.ba=function(){try{return 2<Us(this)?this.g.status:-1}catch{return-1}},ce.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ce.Qa=function(u){if(this.g){var a=this.g.responseText;return u&&0==a.indexOf(u)&&(a=a.substring(u.length)),R_(a)}},ce.Da=function(){return this.m},ce.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=$t.prototype).ma=8,ce.G=1,ce.hb=function(u){try{this.h.info("Origin Trials invoked: "+u)}catch{}},ce.Ha=function(u){if(this.m)if(this.m=null,1==this.G){if(!u){this.V=Math.floor(1e5*Math.random()),u=this.V++;var a=new Nt(this,this.h,u,void 0),c=this.s;if(this.P&&(c?pe(c=J(c),this.P):c=this.P),null===this.o&&(a.H=c),this.ja)e:{for(var d=0,h=0;h<this.l.length;h++){var g=this.l[h];if(void 0===(g="__data__"in g.g&&"string"==typeof(g=g.g.__data__)?g.length:void 0))break;if(4096<(d+=g)){d=h;break e}if(4096===d||h===this.l.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Xt(this,a,d),Et(h=ye(this.F),"RID",u),Et(h,"CVER",22),this.D&&Et(h,"X-HTTP-Session-Id",this.D),Rr(this,h),this.o&&c&&kp(h,this.o,c),Io(this.i,a),this.Ra&&Et(h,"TYPE","init"),this.ja?(Et(h,"$req",d),Et(h,"SID","null"),a.$=!0,Ls(a,h,null)):Ls(a,h,d),this.G=2}}else 3==this.G&&(u?Pe(this,u):0==this.l.length||fs(this.i)||Pe(this))},ce.Ga=function(){if(this.u=null,so(this),this.$&&!(this.L||null==this.g||0>=this.O)){var u=2*this.O;this.h.info("BP detection timer enabled: "+u),this.B=au(jt(this.bb,this),u)}},ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ti(10),wf(this),so(this))},ce.ab=function(){null!=this.v&&(this.v=null,wf(this),di(this),Ti(19))},ce.jb=function(u){u?(this.h.info("Successfully pinged google.com"),Ti(2)):(this.h.info("Failed to ping google.com"),Ti(1))},(ce=Ot.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Oa=function(){},Fn.prototype.g=function(u,a){return new ir(u,a)},Je(ir,hn),ir.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var u=this.g,a=this.l,c=this.h||void 0;u.Wa&&(u.h.info("Origin Trials enabled."),yl(jt(u.hb,u,a))),Ti(0),u.W=a,u.aa=c||{},u.N=u.X,u.F=rr(u,null,u.W),Df(u)},ir.prototype.close=function(){Fp(this.g)},ir.prototype.u=function(u){if("string"==typeof u){var a={};a.__data__=u,Gt(this.g,a)}else this.v?((a={}).__data__=xr(u),Gt(this.g,a)):Gt(this.g,u)},ir.prototype.M=function(){this.g.j=null,delete this.j,Fp(this.g),delete this.g,ir.Z.M.call(this)},Je(fc,mf),Je(fi,cu),Je(zo,Ot),zo.prototype.xa=function(){_t(this.g,"a")},zo.prototype.wa=function(u){_t(this.g,new fc(u))},zo.prototype.va=function(u){_t(this.g,new fi(u))},zo.prototype.ua=function(){_t(this.g,"b")},Fn.prototype.createWebChannel=Fn.prototype.g,ir.prototype.send=ir.prototype.u,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,oc.NO_ERROR=0,oc.TIMEOUT=8,oc.HTTP_ERROR=6,sc.COMPLETE="complete",gt.EventType=uu,uu.OPEN="a",uu.CLOSE="b",uu.ERROR="c",uu.MESSAGE="d",hn.prototype.listen=hn.prototype.N,pr.prototype.listenOnce=pr.prototype.O,pr.prototype.getLastError=pr.prototype.La,pr.prototype.getLastErrorCode=pr.prototype.Da,pr.prototype.getStatus=pr.prototype.ba,pr.prototype.getResponseJson=pr.prototype.Qa,pr.prototype.getResponseText=pr.prototype.ga,pr.prototype.send=pr.prototype.ea;var $s=oc,St=sc,hc=Ho,Cf_PROXY=10,Cf_NOPROXY=11,pu=lc,qn=gt,pc=pr,hi=function(){function u(a,c){var d=this;this.previousValue=a,c&&(c.sequenceNumberHandler=function(h){return d.t(h)},this.i=function(h){return c.writeSequenceNumber(h)})}return u.prototype.t=function(a){return this.previousValue=Math.max(a,this.previousValue),this.previousValue},u.prototype.next=function(){var a=++this.previousValue;return this.i&&this.i(a),a},u}();hi.o=-1;var oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_e=function(u){function a(c,d){var h=this;return(h=u.call(this,d)||this).code=c,h.message=d,h.name="FirebaseError",h.toString=function(){return h.name+": [code="+h.code+"]: "+h.message},h}return(0,I.ZT)(a,u),a}(Error),Pr=new nt.Yd("@firebase/firestore");function gu(){return Pr.logLevel}function xe(u){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];if(Pr.logLevel<=nt.in.DEBUG){var d=a.map(Rl);Pr.debug.apply(Pr,(0,I.ev)(["Firestore (8.10.1): "+u],d))}}function it(u){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];if(Pr.logLevel<=nt.in.ERROR){var d=a.map(Rl);Pr.error.apply(Pr,(0,I.ev)(["Firestore (8.10.1): "+u],d))}}function Ef(u){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];if(Pr.logLevel<=nt.in.WARN){var d=a.map(Rl);Pr.warn.apply(Pr,(0,I.ev)(["Firestore (8.10.1): "+u],d))}}function Rl(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function et(u){void 0===u&&(u="Unexpected state");var a="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+u;throw it(a),new Error(a)}function rt(u,a){u||et()}function Be(u,a){return u}function gc(u){var a=typeof self<"u"&&(self.crypto||self.msCrypto),c=new Uint8Array(u);if(a&&"function"==typeof a.getRandomValues)a.getRandomValues(c);else for(var d=0;d<u;d++)c[d]=Math.floor(256*Math.random());return c}var mc=function(){function u(){}return u.u=function(){for(var c=62*Math.floor(256/62),d="";d.length<20;)for(var h=gc(40),g=0;g<h.length;++g)d.length<20&&h[g]<c&&(d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[g]%62));return d},u}();function dt(u,a){return u<a?-1:u>a?1:0}function Pl(u,a,c){return u.length===a.length&&u.every(function(d,h){return c(d,a[h])})}function qi(u){return u+"\0"}var An=function(){function u(a,c){if(this.seconds=a,this.nanoseconds=c,c<0)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(c>=1e9)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(a<-62135596800)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+a);if(a>=253402300800)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+a)}return u.now=function(){return u.fromMillis(Date.now())},u.fromDate=function(a){return u.fromMillis(a.getTime())},u.fromMillis=function(a){var c=Math.floor(a/1e3);return new u(c,Math.floor(1e6*(a-1e3*c)))},u.prototype.toDate=function(){return new Date(this.toMillis())},u.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},u.prototype._compareTo=function(a){return this.seconds===a.seconds?dt(this.nanoseconds,a.nanoseconds):dt(this.seconds,a.seconds)},u.prototype.isEqual=function(a){return a.seconds===this.seconds&&a.nanoseconds===this.nanoseconds},u.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},u.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},u.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},u}(),Lt=function(){function u(a){this.timestamp=a}return u.fromTimestamp=function(a){return new u(a)},u.min=function(){return new u(new An(0,0))},u.prototype.compareTo=function(a){return this.timestamp._compareTo(a.timestamp)},u.prototype.isEqual=function(a){return this.timestamp.isEqual(a.timestamp)},u.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},u.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},u.prototype.toTimestamp=function(){return this.timestamp},u}();function Sa(u){var a=0;for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&a++;return a}function hs(u,a){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&a(c,u[c])}function Mo(u){for(var a in u)if(Object.prototype.hasOwnProperty.call(u,a))return!1;return!0}var Sf=function(){function u(a,c,d){void 0===c?c=0:c>a.length&&et(),void 0===d?d=a.length-c:d>a.length-c&&et(),this.segments=a,this.offset=c,this.len=d}return Object.defineProperty(u.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(a){return 0===u.comparator(this,a)},u.prototype.child=function(a){var c=this.segments.slice(this.offset,this.limit());return a instanceof u?a.forEach(function(d){c.push(d)}):c.push(a),this.construct(c)},u.prototype.limit=function(){return this.offset+this.length},u.prototype.popFirst=function(a){return this.construct(this.segments,this.offset+(a=void 0===a?1:a),this.length-a)},u.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},u.prototype.firstSegment=function(){return this.segments[this.offset]},u.prototype.lastSegment=function(){return this.get(this.length-1)},u.prototype.get=function(a){return this.segments[this.offset+a]},u.prototype.isEmpty=function(){return 0===this.length},u.prototype.isPrefixOf=function(a){if(a.length<this.length)return!1;for(var c=0;c<this.length;c++)if(this.get(c)!==a.get(c))return!1;return!0},u.prototype.isImmediateParentOf=function(a){if(this.length+1!==a.length)return!1;for(var c=0;c<this.length;c++)if(this.get(c)!==a.get(c))return!1;return!0},u.prototype.forEach=function(a){for(var c=this.offset,d=this.limit();c<d;c++)a(this.segments[c])},u.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},u.comparator=function(a,c){for(var d=Math.min(a.length,c.length),h=0;h<d;h++){var g=a.get(h),_=c.get(h);if(g<_)return-1;if(g>_)return 1}return a.length<c.length?-1:a.length>c.length?1:0},u}(),pn=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,I.ZT)(a,u),a.prototype.construct=function(c,d,h){return new a(c,d,h)},a.prototype.canonicalString=function(){return this.toArray().join("/")},a.prototype.toString=function(){return this.canonicalString()},a.fromString=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];for(var h=[],g=0,_=c;g<_.length;g++){var y=_[g];if(y.indexOf("//")>=0)throw new _e(oe.INVALID_ARGUMENT,"Invalid segment ("+y+"). Paths must not contain // in them.");h.push.apply(h,y.split("/").filter(function(D){return D.length>0}))}return new a(h)},a.emptyPath=function(){return new a([])},a}(Sf),jb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ps=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,I.ZT)(a,u),a.prototype.construct=function(c,d,h){return new a(c,d,h)},a.isValidIdentifier=function(c){return jb.test(c)},a.prototype.canonicalString=function(){return this.toArray().map(function(c){return c=c.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),a.isValidIdentifier(c)||(c="`"+c+"`"),c}).join(".")},a.prototype.toString=function(){return this.canonicalString()},a.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},a.keyField=function(){return new a(["__name__"])},a.fromServerFormat=function(c){for(var d=[],h="",g=0,_=function(){if(0===h.length)throw new _e(oe.INVALID_ARGUMENT,"Invalid field path ("+c+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");d.push(h),h=""},y=!1;g<c.length;){var D=c[g];if("\\"===D){if(g+1===c.length)throw new _e(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+c);var T=c[g+1];if("\\"!==T&&"."!==T&&"`"!==T)throw new _e(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+c);h+=T,g+=2}else"`"===D?(y=!y,g++):"."!==D||y?(h+=D,g++):(_(),g++)}if(_(),y)throw new _e(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+c);return new a(d)},a.emptyPath=function(){return new a([])},a}(Sf),_c=function(){function u(a){this.fields=a,a.sort(ps.comparator)}return u.prototype.covers=function(a){for(var c=0,d=this.fields;c<d.length;c++)if(d[c].isPrefixOf(a))return!0;return!1},u.prototype.isEqual=function(a){return Pl(this.fields,a.fields,function(c,d){return c.isEqual(d)})},u}(),Wi=function(){function u(a){this.binaryString=a}return u.fromBase64String=function(a){return new u(atob(a))},u.fromUint8Array=function(a){return new u(function(c){for(var d="",h=0;h<c.length;++h)d+=String.fromCharCode(c[h]);return d}(a))},u.prototype.toBase64=function(){return btoa(this.binaryString)},u.prototype.toUint8Array=function(){return function(a){for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return c}(this.binaryString)},u.prototype.approximateByteSize=function(){return 2*this.binaryString.length},u.prototype.compareTo=function(a){return dt(this.binaryString,a.binaryString)},u.prototype.isEqual=function(a){return this.binaryString===a.binaryString},u}();Wi.EMPTY_BYTE_STRING=new Wi("");var kE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mu(u){if(rt(!!u),"string"==typeof u){var a=0,c=kE.exec(u);if(rt(!!c),c[1]){var d=c[1];d=(d+"000000000").substr(0,9),a=Number(d)}var h=new Date(u);return{seconds:Math.floor(h.getTime()/1e3),nanos:a}}return{seconds:kr(u.seconds),nanos:kr(u.nanos)}}function kr(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function kl(u){return"string"==typeof u?Wi.fromBase64String(u):Wi.fromUint8Array(u)}function H_(u){var a,c;return"server_timestamp"===(null===(c=((null===(a=u?.mapValue)||void 0===a?void 0:a.fields)||{}).__type__)||void 0===c?void 0:c.stringValue)}function Ub(u){var a=u.mapValue.fields.__previous_value__;return H_(a)?Ub(a):a}function Tf(u){var a=mu(u.mapValue.fields.__local_write_time__.timestampValue);return new An(a.seconds,a.nanos)}function vc(u){return null==u}function Vp(u){return 0===u&&1/u==-1/0}function Hb(u){return"number"==typeof u&&Number.isInteger(u)&&!Vp(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}var at=function(){function u(a){this.path=a}return u.fromPath=function(a){return new u(pn.fromString(a))},u.fromName=function(a){return new u(pn.fromString(a).popFirst(5))},u.prototype.hasCollectionId=function(a){return this.path.length>=2&&this.path.get(this.path.length-2)===a},u.prototype.isEqual=function(a){return null!==a&&0===pn.comparator(this.path,a.path)},u.prototype.toString=function(){return this.path.toString()},u.comparator=function(a,c){return pn.comparator(a.path,c.path)},u.isDocumentKey=function(a){return a.length%2==0},u.fromSegments=function(a){return new u(new pn(a.slice()))},u}();function yc(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?H_(u)?4:10:et()}function qo(u,a){var h,c=yc(u);if(c!==yc(a))return!1;switch(c){case 0:return!0;case 1:return u.booleanValue===a.booleanValue;case 4:return Tf(u).isEqual(Tf(a));case 3:return function(d,h){if("string"==typeof d.timestampValue&&"string"==typeof h.timestampValue&&d.timestampValue.length===h.timestampValue.length)return d.timestampValue===h.timestampValue;var g=mu(d.timestampValue),_=mu(h.timestampValue);return g.seconds===_.seconds&&g.nanos===_.nanos}(u,a);case 5:return u.stringValue===a.stringValue;case 6:return h=a,kl(u.bytesValue).isEqual(kl(h.bytesValue));case 7:return u.referenceValue===a.referenceValue;case 8:return function(d,h){return kr(d.geoPointValue.latitude)===kr(h.geoPointValue.latitude)&&kr(d.geoPointValue.longitude)===kr(h.geoPointValue.longitude)}(u,a);case 2:return function(d,h){if("integerValue"in d&&"integerValue"in h)return kr(d.integerValue)===kr(h.integerValue);if("doubleValue"in d&&"doubleValue"in h){var g=kr(d.doubleValue),_=kr(h.doubleValue);return g===_?Vp(g)===Vp(_):isNaN(g)&&isNaN(_)}return!1}(u,a);case 9:return Pl(u.arrayValue.values||[],a.arrayValue.values||[],qo);case 10:return function(d,h){var g=d.mapValue.fields||{},_=h.mapValue.fields||{};if(Sa(g)!==Sa(_))return!1;for(var y in g)if(g.hasOwnProperty(y)&&(void 0===_[y]||!qo(g[y],_[y])))return!1;return!0}(u,a);default:return et()}}function bc(u,a){return void 0!==(u.values||[]).find(function(c){return qo(c,a)})}function Fl(u,a){var h,g,_,y,c=yc(u),d=yc(a);if(c!==d)return dt(c,d);switch(c){case 0:return 0;case 1:return dt(u.booleanValue,a.booleanValue);case 2:return g=a,(_=kr((h=u).integerValue||h.doubleValue))<(y=kr(g.integerValue||g.doubleValue))?-1:_>y?1:_===y?0:isNaN(_)?isNaN(y)?0:-1:1;case 3:return $b(u.timestampValue,a.timestampValue);case 4:return $b(Tf(u),Tf(a));case 5:return dt(u.stringValue,a.stringValue);case 6:return function(h,g){var _=kl(h),y=kl(g);return _.compareTo(y)}(u.bytesValue,a.bytesValue);case 7:return function(h,g){for(var _=h.split("/"),y=g.split("/"),D=0;D<_.length&&D<y.length;D++){var T=dt(_[D],y[D]);if(0!==T)return T}return dt(_.length,y.length)}(u.referenceValue,a.referenceValue);case 8:return function(h,g){var _=dt(kr(h.latitude),kr(g.latitude));return 0!==_?_:dt(kr(h.longitude),kr(g.longitude))}(u.geoPointValue,a.geoPointValue);case 9:return function(h,g){for(var _=h.values||[],y=g.values||[],D=0;D<_.length&&D<y.length;++D){var T=Fl(_[D],y[D]);if(T)return T}return dt(_.length,y.length)}(u.arrayValue,a.arrayValue);case 10:return function(h,g){var _=h.fields||{},y=Object.keys(_),D=g.fields||{},T=Object.keys(D);y.sort(),T.sort();for(var N=0;N<y.length&&N<T.length;++N){var R=dt(y[N],T[N]);if(0!==R)return R;var L=Fl(_[y[N]],D[T[N]]);if(0!==L)return L}return dt(y.length,T.length)}(u.mapValue,a.mapValue);default:throw et()}}function $b(u,a){if("string"==typeof u&&"string"==typeof a&&u.length===a.length)return dt(u,a);var c=mu(u),d=mu(a),h=dt(c.seconds,d.seconds);return 0!==h?h:dt(c.nanos,d.nanos)}function $_(u){return zs(u)}function zs(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?"time("+(h=mu(u.timestampValue)).seconds+","+h.nanos+")":"stringValue"in u?u.stringValue:"bytesValue"in u?kl(u.bytesValue).toBase64():"referenceValue"in u?at.fromName(u.referenceValue).toString():"geoPointValue"in u?"geo("+(a=u.geoPointValue).latitude+","+a.longitude+")":"arrayValue"in u?function(d){for(var h="[",g=!0,_=0,y=d.values||[];_<y.length;_++)g?g=!1:h+=",",h+=zs(y[_]);return h+"]"}(u.arrayValue):"mapValue"in u?function(d){for(var h="{",g=!0,_=0,y=Object.keys(d.fields||{}).sort();_<y.length;_++){var D=y[_];g?g=!1:h+=",",h+=D+":"+zs(d.fields[D])}return h+"}"}(u.mapValue):et();var h,a}function Wo(u,a){return{referenceValue:"projects/"+u.projectId+"/databases/"+u.database+"/documents/"+a.path.canonicalString()}}function G_(u){return!!u&&"integerValue"in u}function z_(u){return!!u&&"arrayValue"in u}function Xr(u){return!!u&&"nullValue"in u}function Ll(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Zi(u){return!!u&&"mapValue"in u}function wc(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){var a={mapValue:{fields:{}}};return hs(u.mapValue.fields,function(h,g){return a.mapValue.fields[h]=wc(g)}),a}if(u.arrayValue){for(var c={arrayValue:{values:[]}},d=0;d<(u.arrayValue.values||[]).length;++d)c.arrayValue.values[d]=wc(u.arrayValue.values[d]);return c}return Object.assign({},u)}var ao=function(){function u(a){this.value=a}return u.empty=function(){return new u({mapValue:{}})},u.prototype.field=function(a){if(a.isEmpty())return this.value;for(var c=this.value,d=0;d<a.length-1;++d)if(!Zi(c=(c.mapValue.fields||{})[a.get(d)]))return null;return(c=(c.mapValue.fields||{})[a.lastSegment()])||null},u.prototype.set=function(a,c){this.getFieldsMap(a.popLast())[a.lastSegment()]=wc(c)},u.prototype.setAll=function(a){var c=this,d=ps.emptyPath(),h={},g=[];a.forEach(function(y,D){if(!d.isImmediateParentOf(D)){var T=c.getFieldsMap(d);c.applyChanges(T,h,g),h={},g=[],d=D.popLast()}y?h[D.lastSegment()]=wc(y):g.push(D.lastSegment())});var _=this.getFieldsMap(d);this.applyChanges(_,h,g)},u.prototype.delete=function(a){var c=this.field(a.popLast());Zi(c)&&c.mapValue.fields&&delete c.mapValue.fields[a.lastSegment()]},u.prototype.isEqual=function(a){return qo(this.value,a.value)},u.prototype.getFieldsMap=function(a){var c=this.value;c.mapValue.fields||(c.mapValue={fields:{}});for(var d=0;d<a.length;++d){var h=c.mapValue.fields[a.get(d)];Zi(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},c.mapValue.fields[a.get(d)]=h),c=h}return c.mapValue.fields},u.prototype.applyChanges=function(a,c,d){hs(c,function(y,D){return a[y]=D});for(var h=0,g=d;h<g.length;h++)delete a[g[h]]},u.prototype.clone=function(){return new u(wc(this.value))},u}();function Bp(u){var a=[];return hs(u.fields,function(c,d){var h=new ps([c]);if(Zi(d)){var g=Bp(d.mapValue).fields;if(0===g.length)a.push(h);else for(var _=0,y=g;_<y.length;_++)a.push(h.child(y[_]))}else a.push(h)}),new _c(a)}var ei=function(){function u(a,c,d,h,g){this.key=a,this.documentType=c,this.version=d,this.data=h,this.documentState=g}return u.newInvalidDocument=function(a){return new u(a,0,Lt.min(),ao.empty(),0)},u.newFoundDocument=function(a,c,d){return new u(a,1,c,d,0)},u.newNoDocument=function(a,c){return new u(a,2,c,ao.empty(),0)},u.newUnknownDocument=function(a,c){return new u(a,3,c,ao.empty(),2)},u.prototype.convertToFoundDocument=function(a,c){return this.version=a,this.documentType=1,this.data=c,this.documentState=0,this},u.prototype.convertToNoDocument=function(a){return this.version=a,this.documentType=2,this.data=ao.empty(),this.documentState=0,this},u.prototype.convertToUnknownDocument=function(a){return this.version=a,this.documentType=3,this.data=ao.empty(),this.documentState=2,this},u.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},u.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(u.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),u.prototype.isValidDocument=function(){return 0!==this.documentType},u.prototype.isFoundDocument=function(){return 1===this.documentType},u.prototype.isNoDocument=function(){return 2===this.documentType},u.prototype.isUnknownDocument=function(){return 3===this.documentType},u.prototype.isEqual=function(a){return a instanceof u&&this.key.isEqual(a.key)&&this.version.isEqual(a.version)&&this.documentType===a.documentType&&this.documentState===a.documentState&&this.data.isEqual(a.data)},u.prototype.clone=function(){return new u(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},u.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},u}(),jp=function(u,a,c,d,h,g,_){void 0===a&&(a=null),void 0===c&&(c=[]),void 0===d&&(d=[]),void 0===h&&(h=null),void 0===g&&(g=null),void 0===_&&(_=null),this.path=u,this.collectionGroup=a,this.orderBy=c,this.filters=d,this.limit=h,this.startAt=g,this.endAt=_,this.h=null};function Up(u,a,c,d,h,g,_){return void 0===a&&(a=null),void 0===c&&(c=[]),void 0===d&&(d=[]),void 0===h&&(h=null),void 0===g&&(g=null),void 0===_&&(_=null),new jp(u,a,c,d,h,g,_)}function _u(u){var a=Be(u);if(null===a.h){var c=a.path.canonicalString();null!==a.collectionGroup&&(c+="|cg:"+a.collectionGroup),c+="|f:",c+=a.filters.map(function(d){return(h=d).field.canonicalString()+h.op.toString()+$_(h.value);var h}).join(","),c+="|ob:",c+=a.orderBy.map(function(d){return(h=d).field.canonicalString()+h.dir;var h}).join(","),vc(a.limit)||(c+="|l:",c+=a.limit),a.startAt&&(c+="|lb:",c+=Mf(a.startAt)),a.endAt&&(c+="|ub:",c+=Mf(a.endAt)),a.h=c}return a.h}function Dc(u,a){if(u.limit!==a.limit||u.orderBy.length!==a.orderBy.length)return!1;for(var c=0;c<u.orderBy.length;c++)if(!Z_(u.orderBy[c],a.orderBy[c]))return!1;if(u.filters.length!==a.filters.length)return!1;for(var d=0;d<u.filters.length;d++)if((h=u.filters[d]).op!==(g=a.filters[d]).op||!h.field.isEqual(g.field)||!qo(h.value,g.value))return!1;var h,g;return u.collectionGroup===a.collectionGroup&&!!u.path.isEqual(a.path)&&!!K_(u.startAt,a.startAt)&&K_(u.endAt,a.endAt)}function Vl(u){return at.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}var uo=function(u){function a(c,d,h){var g=this;return(g=u.call(this)||this).field=c,g.op=d,g.value=h,g}return(0,I.ZT)(a,u),a.create=function(c,d,h){return c.isKeyField()?"in"===d||"not-in"===d?this.l(c,d,h):new q_(c,d,h):"array-contains"===d?new W_(c,h):"in"===d?new FE(c,h):"not-in"===d?new LE(c,h):"array-contains-any"===d?new VE(c,h):new a(c,d,h)},a.l=function(c,d,h){return"in"===d?new If(c,h):new Bl(c,h)},a.prototype.matches=function(c){var d=c.data.field(this.field);return"!="===this.op?null!==d&&this.m(Fl(d,this.value)):null!==d&&yc(this.value)===yc(d)&&this.m(Fl(d,this.value))},a.prototype.m=function(c){switch(this.op){case"<":return c<0;case"<=":return c<=0;case"==":return 0===c;case"!=":return 0!==c;case">":return c>0;case">=":return c>=0;default:return et()}},a.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},a}(function(){}),q_=function(u){function a(c,d,h){var g=this;return(g=u.call(this,c,d,h)||this).key=at.fromName(h.referenceValue),g}return(0,I.ZT)(a,u),a.prototype.matches=function(c){var d=at.comparator(c.key,this.key);return this.m(d)},a}(uo),If=function(u){function a(c,d){var h=this;return(h=u.call(this,c,"in",d)||this).keys=vu(0,d),h}return(0,I.ZT)(a,u),a.prototype.matches=function(c){return this.keys.some(function(d){return d.isEqual(c.key)})},a}(uo),Bl=function(u){function a(c,d){var h=this;return(h=u.call(this,c,"not-in",d)||this).keys=vu(0,d),h}return(0,I.ZT)(a,u),a.prototype.matches=function(c){return!this.keys.some(function(d){return d.isEqual(c.key)})},a}(uo);function vu(u,a){var c;return((null===(c=a.arrayValue)||void 0===c?void 0:c.values)||[]).map(function(d){return at.fromName(d.referenceValue)})}var W_=function(u){function a(c,d){return u.call(this,c,"array-contains",d)||this}return(0,I.ZT)(a,u),a.prototype.matches=function(c){var d=c.data.field(this.field);return z_(d)&&bc(d.arrayValue,this.value)},a}(uo),FE=function(u){function a(c,d){return u.call(this,c,"in",d)||this}return(0,I.ZT)(a,u),a.prototype.matches=function(c){var d=c.data.field(this.field);return null!==d&&bc(this.value.arrayValue,d)},a}(uo),LE=function(u){function a(c,d){return u.call(this,c,"not-in",d)||this}return(0,I.ZT)(a,u),a.prototype.matches=function(c){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var d=c.data.field(this.field);return null!==d&&!bc(this.value.arrayValue,d)},a}(uo),VE=function(u){function a(c,d){return u.call(this,c,"array-contains-any",d)||this}return(0,I.ZT)(a,u),a.prototype.matches=function(c){var d=this,h=c.data.field(this.field);return!(!z_(h)||!h.arrayValue.values)&&h.arrayValue.values.some(function(g){return bc(d.value.arrayValue,g)})},a}(uo),jl=function(u,a){this.position=u,this.before=a};function Mf(u){return(u.before?"b":"a")+":"+u.position.map(function(a){return $_(a)}).join(",")}var Ul=function(u,a){void 0===a&&(a="asc"),this.field=u,this.dir=a};function Z_(u,a){return u.dir===a.dir&&u.field.isEqual(a.field)}function Nf(u,a,c){for(var d=0,h=0;h<u.position.length;h++){var g=a[h],_=u.position[h];if(d=g.field.isKeyField()?at.comparator(at.fromName(_.referenceValue),c.key):Fl(_,c.data.field(g.field)),"desc"===g.dir&&(d*=-1),0!==d)break}return u.before?d<=0:d<0}function K_(u,a){if(null===u)return null===a;if(null===a||u.before!==a.before||u.position.length!==a.position.length)return!1;for(var c=0;c<u.position.length;c++)if(!qo(u.position[c],a.position[c]))return!1;return!0}var Zo=function(u,a,c,d,h,g,_,y){void 0===a&&(a=null),void 0===c&&(c=[]),void 0===d&&(d=[]),void 0===h&&(h=null),void 0===g&&(g="F"),void 0===_&&(_=null),void 0===y&&(y=null),this.path=u,this.collectionGroup=a,this.explicitOrderBy=c,this.filters=d,this.limit=h,this.limitType=g,this.startAt=_,this.endAt=y,this.p=null,this.T=null};function Gb(u,a,c,d,h,g,_,y){return new Zo(u,a,c,d,h,g,_,y)}function Hl(u){return new Zo(u)}function Af(u){return!vc(u.limit)&&"F"===u.limitType}function $l(u){return!vc(u.limit)&&"L"===u.limitType}function Of(u){return u.explicitOrderBy.length>0?u.explicitOrderBy[0].field:null}function Hp(u){for(var a=0,c=u.filters;a<c.length;a++){var d=c[a];if(d.g())return d.field}return null}function $p(u){return null!==u.collectionGroup}function Cc(u){var a=Be(u);if(null===a.p){a.p=[];var c=Hp(a),d=Of(a);if(null!==c&&null===d)c.isKeyField()||a.p.push(new Ul(c)),a.p.push(new Ul(ps.keyField(),"asc"));else{for(var h=!1,g=0,_=a.explicitOrderBy;g<_.length;g++){var y=_[g];a.p.push(y),y.field.isKeyField()&&(h=!0)}if(!h){var D=a.explicitOrderBy.length>0?a.explicitOrderBy[a.explicitOrderBy.length-1].dir:"asc";a.p.push(new Ul(ps.keyField(),D))}}}return a.p}function mo(u){var a=Be(u);if(!a.T)if("F"===a.limitType)a.T=Up(a.path,a.collectionGroup,Cc(a),a.filters,a.limit,a.startAt,a.endAt);else{for(var c=[],d=0,h=Cc(a);d<h.length;d++){var g=h[d];c.push(new Ul(g.field,"desc"===g.dir?"asc":"desc"))}var y=a.endAt?new jl(a.endAt.position,!a.endAt.before):null,D=a.startAt?new jl(a.startAt.position,!a.startAt.before):null;a.T=Up(a.path,a.collectionGroup,c,a.filters,a.limit,y,D)}return a.T}function Q_(u,a,c){return new Zo(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),a,c,u.startAt,u.endAt)}function Ec(u,a){return Dc(mo(u),mo(a))&&u.limitType===a.limitType}function Y_(u){return _u(mo(u))+"|lt:"+u.limitType}function J_(u){return"Query(target="+(c=(a=mo(u)).path.canonicalString(),null!==a.collectionGroup&&(c+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(c+=", filters: ["+a.filters.map(function(d){return(h=d).field.canonicalString()+" "+h.op+" "+$_(h.value);var h}).join(", ")+"]"),vc(a.limit)||(c+=", limit: "+a.limit),a.orderBy.length>0&&(c+=", orderBy: ["+a.orderBy.map(function(d){return(h=d).field.canonicalString()+" ("+h.dir+")";var h}).join(", ")+"]"),a.startAt&&(c+=", startAt: "+Mf(a.startAt)),a.endAt&&(c+=", endAt: "+Mf(a.endAt)),"Target("+c+"); limitType=")+u.limitType+")";var a,c}function Gl(u,a){return a.isFoundDocument()&&(h=(d=a).key.path,null!==(c=u).collectionGroup?d.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(h):at.isDocumentKey(c.path)?c.path.isEqual(h):c.path.isImmediateParentOf(h))&&function(c,d){for(var h=0,g=c.explicitOrderBy;h<g.length;h++){var _=g[h];if(!_.field.isKeyField()&&null===d.data.field(_.field))return!1}return!0}(u,a)&&function(c,d){for(var h=0,g=c.filters;h<g.length;h++)if(!g[h].matches(d))return!1;return!0}(u,a)&&function(c,d){return!(c.startAt&&!Nf(c.startAt,Cc(c),d)||c.endAt&&Nf(c.endAt,Cc(c),d))}(u,a);var c,d,h}function Fr(u){return function(a,c){for(var d=!1,h=0,g=Cc(u);h<g.length;h++){var _=g[h],y=X_(_,a,c);if(0!==y)return y;d=d||_.field.isKeyField()}return 0}}function X_(u,a,c){var h,_,y,D,d=u.field.isKeyField()?at.comparator(a.key,c.key):(_=c,y=a.data.field(h=u.field),D=_.data.field(h),null!==y&&null!==D?Fl(y,D):et());switch(u.dir){case"asc":return d;case"desc":return-1*d;default:return et()}}function ev(u,a){if(u.I){if(isNaN(a))return{doubleValue:"NaN"};if(a===1/0)return{doubleValue:"Infinity"};if(a===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vp(a)?"-0":a}}function tv(u){return{integerValue:""+u}}function Gp(u,a){return Hb(a)?tv(a):ev(u,a)}var zl=function(){this._=void 0};function zb(u,a,c){return u instanceof Ki?(g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(d=c).seconds,nanos:d.nanoseconds}}}},(h=a)&&(g.fields.__previous_value__=h),{mapValue:g}):u instanceof Ta?qp(u,a):u instanceof gn?xf(u,a):function(d,h){var g=nv(d,h),_=Qi(g)+Qi(d.A);return G_(g)&&G_(d.A)?tv(_):ev(d.R,_)}(u,a);var d,h,g}function zp(u,a,c){return u instanceof Ta?qp(u,a):u instanceof gn?xf(u,a):c}function nv(u,a){return u instanceof qs?G_(c=a)||(d=c)&&"doubleValue"in d?a:{integerValue:0}:null;var d,c}var Ki=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,I.ZT)(a,u),a}(zl),Ta=function(u){function a(c){var d=this;return(d=u.call(this)||this).elements=c,d}return(0,I.ZT)(a,u),a}(zl);function qp(u,a){for(var c=rv(a),d=function(_){c.some(function(y){return qo(y,_)})||c.push(_)},h=0,g=u.elements;h<g.length;h++)d(g[h]);return{arrayValue:{values:c}}}var gn=function(u){function a(c){var d=this;return(d=u.call(this)||this).elements=c,d}return(0,I.ZT)(a,u),a}(zl);function xf(u,a){for(var c=rv(a),d=function(_){c=c.filter(function(y){return!qo(y,_)})},h=0,g=u.elements;h<g.length;h++)d(g[h]);return{arrayValue:{values:c}}}var qs=function(u){function a(c,d){var h=this;return(h=u.call(this)||this).R=c,h.A=d,h}return(0,I.ZT)(a,u),a}(zl);function Qi(u){return kr(u.integerValue||u.doubleValue)}function rv(u){return z_(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}var Sc=function(u,a){this.field=u,this.transform=a},Tc=function(u,a){this.version=u,this.transformResults=a},On=function(){function u(a,c){this.updateTime=a,this.exists=c}return u.none=function(){return new u},u.exists=function(a){return new u(void 0,a)},u.updateTime=function(a){return new u(a)},Object.defineProperty(u.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(a){return this.exists===a.exists&&(this.updateTime?!!a.updateTime&&this.updateTime.isEqual(a.updateTime):!a.updateTime)},u}();function Rf(u,a){return void 0!==u.updateTime?a.isFoundDocument()&&a.version.isEqual(u.updateTime):void 0===u.exists||u.exists===a.isFoundDocument()}var Pf=function(){};function qb(u,a,c){var d,h,g,_,y;u instanceof Ic?(h=a,g=c,_=(d=u).value.clone(),y=vt(d.fieldTransforms,h,g.transformResults),_.setAll(y),h.convertToFoundDocument(g.version,_).setHasCommittedMutations()):u instanceof Ws?function(d,h,g){if(Rf(d.precondition,h)){var _=vt(d.fieldTransforms,h,g.transformResults),y=h.data;y.setAll(sv(d)),y.setAll(_),h.convertToFoundDocument(g.version,y).setHasCommittedMutations()}else h.convertToUnknownDocument(g.version)}(u,a,c):function(d,h,g){h.convertToNoDocument(g.version).setHasCommittedMutations()}(0,a,c)}function gs(u,a,c){var h;u instanceof Ic?function(d,h,g){if(Rf(d.precondition,h)){var _=d.value.clone(),y=Zp(d.fieldTransforms,g,h);_.setAll(y),h.convertToFoundDocument(Wp(h),_).setHasLocalMutations()}}(u,a,c):u instanceof Ws?function(d,h,g){if(Rf(d.precondition,h)){var _=Zp(d.fieldTransforms,g,h),y=h.data;y.setAll(sv(d)),y.setAll(_),h.convertToFoundDocument(Wp(h),y).setHasLocalMutations()}}(u,a,c):Rf(u.precondition,h=a)&&h.convertToNoDocument(Lt.min())}function iv(u,a){for(var c=null,d=0,h=u.fieldTransforms;d<h.length;d++){var g=h[d],_=a.data.field(g.field),y=nv(g.transform,_||null);null!=y&&(null==c&&(c=ao.empty()),c.set(g.field,y))}return c||null}function ov(u,a){return u.type===a.type&&!!u.key.isEqual(a.key)&&!!u.precondition.isEqual(a.precondition)&&(d=a.fieldTransforms,!!(void 0===(c=u.fieldTransforms)&&void 0===d||c&&d&&Pl(c,d,function(h,g){return(_=h).field.isEqual((y=g).field)&&(T=y.transform,(D=_.transform)instanceof Ta&&T instanceof Ta||D instanceof gn&&T instanceof gn?Pl(D.elements,T.elements,qo):D instanceof qs&&T instanceof qs?qo(D.A,T.A):D instanceof Ki&&T instanceof Ki);var _,y,D,T})))&&(0===u.type?u.value.isEqual(a.value):1!==u.type||u.data.isEqual(a.data)&&u.fieldMask.isEqual(a.fieldMask));var c,d}function Wp(u){return u.isFoundDocument()?u.version:Lt.min()}var Ic=function(u){function a(c,d,h,g){void 0===g&&(g=[]);var _=this;return(_=u.call(this)||this).key=c,_.value=d,_.precondition=h,_.fieldTransforms=g,_.type=0,_}return(0,I.ZT)(a,u),a}(Pf),Ws=function(u){function a(c,d,h,g,_){void 0===_&&(_=[]);var y=this;return(y=u.call(this)||this).key=c,y.data=d,y.fieldMask=h,y.precondition=g,y.fieldTransforms=_,y.type=1,y}return(0,I.ZT)(a,u),a}(Pf);function sv(u){var a=new Map;return u.fieldMask.fields.forEach(function(c){if(!c.isEmpty()){var d=u.data.field(c);a.set(c,d)}}),a}function vt(u,a,c){var d=new Map;rt(u.length===c.length);for(var h=0;h<c.length;h++){var g=u[h],_=g.transform,y=a.data.field(g.field);d.set(g.field,zp(_,y,c[h]))}return d}function Zp(u,a,c){for(var d=new Map,h=0,g=u;h<g.length;h++){var _=g[h],y=_.transform,D=c.data.field(_.field);d.set(_.field,zb(y,D,a))}return d}var Lr,nn,ql=function(u){function a(c,d){var h=this;return(h=u.call(this)||this).key=c,h.precondition=d,h.type=2,h.fieldTransforms=[],h}return(0,I.ZT)(a,u),a}(Pf),Kp=function(u){function a(c,d){var h=this;return(h=u.call(this)||this).key=c,h.precondition=d,h.type=3,h.fieldTransforms=[],h}return(0,I.ZT)(a,u),a}(Pf),av=function(u){this.count=u};function yu(u){switch(u){case oe.OK:return et();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return et()}}function uv(u){if(void 0===u)return it("GRPC error has no .code"),oe.UNKNOWN;switch(u){case Lr.OK:return oe.OK;case Lr.CANCELLED:return oe.CANCELLED;case Lr.UNKNOWN:return oe.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return oe.INTERNAL;case Lr.UNAVAILABLE:return oe.UNAVAILABLE;case Lr.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Lr.NOT_FOUND:return oe.NOT_FOUND;case Lr.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Lr.ABORTED:return oe.ABORTED;case Lr.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Lr.DATA_LOSS:return oe.DATA_LOSS;default:return et()}}(nn=Lr||(Lr={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";var Ai=function(){function u(a,c){this.comparator=a,this.root=c||Ia.EMPTY}return u.prototype.insert=function(a,c){return new u(this.comparator,this.root.insert(a,c,this.comparator).copy(null,null,Ia.BLACK,null,null))},u.prototype.remove=function(a){return new u(this.comparator,this.root.remove(a,this.comparator).copy(null,null,Ia.BLACK,null,null))},u.prototype.get=function(a){for(var c=this.root;!c.isEmpty();){var d=this.comparator(a,c.key);if(0===d)return c.value;d<0?c=c.left:d>0&&(c=c.right)}return null},u.prototype.indexOf=function(a){for(var c=0,d=this.root;!d.isEmpty();){var h=this.comparator(a,d.key);if(0===h)return c+d.left.size;h<0?d=d.left:(c+=d.left.size+1,d=d.right)}return-1},u.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(u.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),u.prototype.minKey=function(){return this.root.minKey()},u.prototype.maxKey=function(){return this.root.maxKey()},u.prototype.inorderTraversal=function(a){return this.root.inorderTraversal(a)},u.prototype.forEach=function(a){this.inorderTraversal(function(c,d){return a(c,d),!1})},u.prototype.toString=function(){var a=[];return this.inorderTraversal(function(c,d){return a.push(c+":"+d),!1}),"{"+a.join(", ")+"}"},u.prototype.reverseTraversal=function(a){return this.root.reverseTraversal(a)},u.prototype.getIterator=function(){return new kf(this.root,null,this.comparator,!1)},u.prototype.getIteratorFrom=function(a){return new kf(this.root,a,this.comparator,!1)},u.prototype.getReverseIterator=function(){return new kf(this.root,null,this.comparator,!0)},u.prototype.getReverseIteratorFrom=function(a){return new kf(this.root,a,this.comparator,!0)},u}(),kf=function(){function u(a,c,d,h){this.isReverse=h,this.nodeStack=[];for(var g=1;!a.isEmpty();)if(g=c?d(a.key,c):1,h&&(g*=-1),g<0)a=this.isReverse?a.left:a.right;else{if(0===g){this.nodeStack.push(a);break}this.nodeStack.push(a),a=this.isReverse?a.right:a.left}}return u.prototype.getNext=function(){var a=this.nodeStack.pop(),c={key:a.key,value:a.value};if(this.isReverse)for(a=a.left;!a.isEmpty();)this.nodeStack.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack.push(a),a=a.left;return c},u.prototype.hasNext=function(){return this.nodeStack.length>0},u.prototype.peek=function(){if(0===this.nodeStack.length)return null;var a=this.nodeStack[this.nodeStack.length-1];return{key:a.key,value:a.value}},u}(),Ia=function(){function u(a,c,d,h,g){this.key=a,this.value=c,this.color=d??u.RED,this.left=h??u.EMPTY,this.right=g??u.EMPTY,this.size=this.left.size+1+this.right.size}return u.prototype.copy=function(a,c,d,h,g){return new u(a??this.key,c??this.value,d??this.color,h??this.left,g??this.right)},u.prototype.isEmpty=function(){return!1},u.prototype.inorderTraversal=function(a){return this.left.inorderTraversal(a)||a(this.key,this.value)||this.right.inorderTraversal(a)},u.prototype.reverseTraversal=function(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)},u.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},u.prototype.minKey=function(){return this.min().key},u.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},u.prototype.insert=function(a,c,d){var h=this,g=d(a,h.key);return(h=g<0?h.copy(null,null,null,h.left.insert(a,c,d),null):0===g?h.copy(null,c,null,null,null):h.copy(null,null,null,null,h.right.insert(a,c,d))).fixUp()},u.prototype.removeMin=function(){if(this.left.isEmpty())return u.EMPTY;var a=this;return a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),(a=a.copy(null,null,null,a.left.removeMin(),null)).fixUp()},u.prototype.remove=function(a,c){var d,h=this;if(c(a,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(a,c),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===c(a,h.key)){if(h.right.isEmpty())return u.EMPTY;d=h.right.min(),h=h.copy(d.key,d.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(a,c))}return h.fixUp()},u.prototype.isRed=function(){return this.color},u.prototype.fixUp=function(){var a=this;return a.right.isRed()&&!a.left.isRed()&&(a=a.rotateLeft()),a.left.isRed()&&a.left.left.isRed()&&(a=a.rotateRight()),a.left.isRed()&&a.right.isRed()&&(a=a.colorFlip()),a},u.prototype.moveRedLeft=function(){var a=this.colorFlip();return a.right.left.isRed()&&(a=(a=(a=a.copy(null,null,null,null,a.right.rotateRight())).rotateLeft()).colorFlip()),a},u.prototype.moveRedRight=function(){var a=this.colorFlip();return a.left.left.isRed()&&(a=(a=a.rotateRight()).colorFlip()),a},u.prototype.rotateLeft=function(){var a=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)},u.prototype.rotateRight=function(){var a=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)},u.prototype.colorFlip=function(){var a=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,c)},u.prototype.checkMaxDepth=function(){var a=this.check();return Math.pow(2,a)<=this.size+1},u.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();var a=this.left.check();if(a!==this.right.check())throw et();return a+(this.isRed()?0:1)},u}();Ia.EMPTY=null,Ia.RED=!0,Ia.BLACK=!1,Ia.EMPTY=new(function(){function u(){this.size=0}return Object.defineProperty(u.prototype,"key",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"color",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"left",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"right",{get:function(){throw et()},enumerable:!1,configurable:!0}),u.prototype.copy=function(a,c,d,h,g){return this},u.prototype.insert=function(a,c,d){return new Ia(a,c)},u.prototype.remove=function(a,c){return this},u.prototype.isEmpty=function(){return!0},u.prototype.inorderTraversal=function(a){return!1},u.prototype.reverseTraversal=function(a){return!1},u.prototype.minKey=function(){return null},u.prototype.maxKey=function(){return null},u.prototype.isRed=function(){return!1},u.prototype.checkMaxDepth=function(){return!0},u.prototype.check=function(){return 0},u}());var Vr=function(){function u(a){this.comparator=a,this.data=new Ai(this.comparator)}return u.prototype.has=function(a){return null!==this.data.get(a)},u.prototype.first=function(){return this.data.minKey()},u.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(u.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),u.prototype.indexOf=function(a){return this.data.indexOf(a)},u.prototype.forEach=function(a){this.data.inorderTraversal(function(c,d){return a(c),!1})},u.prototype.forEachInRange=function(a,c){for(var d=this.data.getIteratorFrom(a[0]);d.hasNext();){var h=d.getNext();if(this.comparator(h.key,a[1])>=0)return;c(h.key)}},u.prototype.forEachWhile=function(a,c){var d;for(d=void 0!==c?this.data.getIteratorFrom(c):this.data.getIterator();d.hasNext();)if(!a(d.getNext().key))return},u.prototype.firstAfterOrEqual=function(a){var c=this.data.getIteratorFrom(a);return c.hasNext()?c.getNext().key:null},u.prototype.getIterator=function(){return new me(this.data.getIterator())},u.prototype.getIteratorFrom=function(a){return new me(this.data.getIteratorFrom(a))},u.prototype.add=function(a){return this.copy(this.data.remove(a).insert(a,!0))},u.prototype.delete=function(a){return this.has(a)?this.copy(this.data.remove(a)):this},u.prototype.isEmpty=function(){return this.data.isEmpty()},u.prototype.unionWith=function(a){var c=this;return c.size<a.size&&(c=a,a=this),a.forEach(function(d){c=c.add(d)}),c},u.prototype.isEqual=function(a){if(!(a instanceof u)||this.size!==a.size)return!1;for(var c=this.data.getIterator(),d=a.data.getIterator();c.hasNext();){var h=c.getNext().key,g=d.getNext().key;if(0!==this.comparator(h,g))return!1}return!0},u.prototype.toArray=function(){var a=[];return this.forEach(function(c){a.push(c)}),a},u.prototype.toString=function(){var a=[];return this.forEach(function(c){return a.push(c)}),"SortedSet("+a.toString()+")"},u.prototype.copy=function(a){var c=new u(this.comparator);return c.data=a,c},u}(),me=function(){function u(a){this.iter=a}return u.prototype.getNext=function(){return this.iter.getNext().key},u.prototype.hasNext=function(){return this.iter.hasNext()},u}(),rn=new Ai(at.comparator);function Ye(){return rn}var yt=new Ai(at.comparator);function Br(){return yt}var cv=new Ai(at.comparator);function Mc(){return cv}var ms=new Vr(at.comparator);function _n(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];for(var c=ms,d=0,h=u;d<h.length;d++)c=c.add(h[d]);return c}var Qp=new Vr(dt);function Ff(){return Qp}var lv=function(){function u(a,c,d,h,g){this.snapshotVersion=a,this.targetChanges=c,this.targetMismatches=d,this.documentUpdates=h,this.resolvedLimboDocuments=g}return u.createSynthesizedRemoteEventForCurrentChange=function(a,c){var d=new Map;return d.set(a,Lf.createSynthesizedTargetChangeForCurrentChange(a,c)),new u(Lt.min(),d,Ff(),Ye(),_n())},u}(),Lf=function(){function u(a,c,d,h,g){this.resumeToken=a,this.current=c,this.addedDocuments=d,this.modifiedDocuments=h,this.removedDocuments=g}return u.createSynthesizedTargetChangeForCurrentChange=function(a,c){return new u(Wi.EMPTY_BYTE_STRING,c,_n(),_n(),_n())},u}(),ti=function(u,a,c,d){this.v=u,this.removedTargetIds=a,this.key=c,this.P=d},_s=function(u,a){this.targetId=u,this.V=a},Yp=function(u,a,c,d){void 0===c&&(c=Wi.EMPTY_BYTE_STRING),void 0===d&&(d=null),this.state=u,this.targetIds=a,this.resumeToken=c,this.cause=d},bu=function(){function u(){this.S=0,this.D=Jp(),this.C=Wi.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(u.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),u.prototype.O=function(a){a.approximateByteSize()>0&&(this.k=!0,this.C=a)},u.prototype.M=function(){var a=_n(),c=_n(),d=_n();return this.D.forEach(function(h,g){switch(g){case 0:a=a.add(h);break;case 2:c=c.add(h);break;case 1:d=d.add(h);break;default:et()}}),new Lf(this.C,this.N,a,c,d)},u.prototype.L=function(){this.k=!1,this.D=Jp()},u.prototype.B=function(a,c){this.k=!0,this.D=this.D.insert(a,c)},u.prototype.q=function(a){this.k=!0,this.D=this.D.remove(a)},u.prototype.U=function(){this.S+=1},u.prototype.K=function(){this.S-=1},u.prototype.j=function(){this.k=!0,this.N=!0},u}(),Zs=function(){function u(a){this.W=a,this.G=new Map,this.H=Ye(),this.J=dv(),this.Y=new Vr(dt)}return u.prototype.X=function(a){for(var c=0,d=a.v;c<d.length;c++){var h=d[c];a.P&&a.P.isFoundDocument()?this.Z(h,a.P):this.tt(h,a.key,a.P)}for(var g=0,_=a.removedTargetIds;g<_.length;g++)this.tt(h=_[g],a.key,a.P)},u.prototype.et=function(a){var c=this;this.forEachTarget(a,function(d){var h=c.nt(d);switch(a.state){case 0:c.st(d)&&h.O(a.resumeToken);break;case 1:h.K(),h.F||h.L(),h.O(a.resumeToken);break;case 2:h.K(),h.F||c.removeTarget(d);break;case 3:c.st(d)&&(h.j(),h.O(a.resumeToken));break;case 4:c.st(d)&&(c.it(d),h.O(a.resumeToken));break;default:et()}})},u.prototype.forEachTarget=function(a,c){var d=this;a.targetIds.length>0?a.targetIds.forEach(c):this.G.forEach(function(h,g){d.st(g)&&c(g)})},u.prototype.rt=function(a){var c=a.targetId,d=a.V.count,h=this.ot(c);if(h){var g=h.target;if(Vl(g))if(0===d){var _=new at(g.path);this.tt(c,_,ei.newNoDocument(_,Lt.min()))}else rt(1===d);else this.ct(c)!==d&&(this.it(c),this.Y=this.Y.add(c))}},u.prototype.ut=function(a){var c=this,d=new Map;this.G.forEach(function(_,y){var D=c.ot(y);if(D){if(_.current&&Vl(D.target)){var T=new at(D.target.path);null!==c.H.get(T)||c.at(y,T)||c.tt(y,T,ei.newNoDocument(T,a))}_.$&&(d.set(y,_.M()),_.L())}});var h=_n();this.J.forEach(function(_,y){var D=!0;y.forEachWhile(function(T){var N=c.ot(T);return!N||2===N.purpose||(D=!1,!1)}),D&&(h=h.add(_))});var g=new lv(a,d,this.Y,this.H,h);return this.H=Ye(),this.J=dv(),this.Y=new Vr(dt),g},u.prototype.Z=function(a,c){if(this.st(a)){var d=this.at(a,c.key)?2:0;this.nt(a).B(c.key,d),this.H=this.H.insert(c.key,c),this.J=this.J.insert(c.key,this.ht(c.key).add(a))}},u.prototype.tt=function(a,c,d){if(this.st(a)){var h=this.nt(a);this.at(a,c)?h.B(c,1):h.q(c),this.J=this.J.insert(c,this.ht(c).delete(a)),d&&(this.H=this.H.insert(c,d))}},u.prototype.removeTarget=function(a){this.G.delete(a)},u.prototype.ct=function(a){var c=this.nt(a).M();return this.W.getRemoteKeysForTarget(a).size+c.addedDocuments.size-c.removedDocuments.size},u.prototype.U=function(a){this.nt(a).U()},u.prototype.nt=function(a){var c=this.G.get(a);return c||(c=new bu,this.G.set(a,c)),c},u.prototype.ht=function(a){var c=this.J.get(a);return c||(c=new Vr(dt),this.J=this.J.insert(a,c)),c},u.prototype.st=function(a){var c=null!==this.ot(a);return c||xe("WatchChangeAggregator","Detected inactive target",a),c},u.prototype.ot=function(a){var c=this.G.get(a);return c&&c.F?null:this.W.lt(a)},u.prototype.it=function(a){var c=this;this.G.set(a,new bu),this.W.getRemoteKeysForTarget(a).forEach(function(d){c.tt(a,d,null)})},u.prototype.at=function(a,c){return this.W.getRemoteKeysForTarget(a).has(c)},u}();function dv(){return new Ai(at.comparator)}function Jp(){return new Ai(at.comparator)}var Wb={asc:"ASCENDING",desc:"DESCENDING"},Zb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xp=function(u,a){this.databaseId=u,this.I=a};function wu(u,a){return u.I?new Date(1e3*a.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+a.nanoseconds).slice(-9)+"Z":{seconds:""+a.seconds,nanos:a.nanoseconds}}function eg(u,a){return u.I?a.toBase64():a.toUint8Array()}function tg(u,a){return wu(u,a.toTimestamp())}function ni(u){return rt(!!u),Lt.fromTimestamp((c=mu(u),new An(c.seconds,c.nanos)));var c}function Vf(u,a){return(c=u,new pn(["projects",c.projectId,"databases",c.database])).child("documents").child(a).canonicalString();var c}function Bf(u){var a=pn.fromString(u);return rt(sg(a)),a}function Nc(u,a){return Vf(u.databaseId,a.path)}function Ko(u,a){var c=Bf(a);if(c.get(1)!==u.databaseId.projectId)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+c.get(1)+" vs "+u.databaseId.projectId);if(c.get(3)!==u.databaseId.database)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+c.get(3)+" vs "+u.databaseId.database);return new at(fv(c))}function jf(u,a){return Vf(u.databaseId,a)}function ng(u){var a=Bf(u);return 4===a.length?pn.emptyPath():fv(a)}function Du(u){return new pn(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function fv(u){return rt(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function hv(u,a,c){return{name:Nc(u,a),fields:c.value.mapValue.fields}}function Oi(u,a,c){var d=Ko(u,a.name),h=ni(a.updateTime),g=new ao({mapValue:{fields:a.fields}}),_=ei.newFoundDocument(d,h,g);return c&&_.setHasCommittedMutations(),c?_.setHasCommittedMutations():_}function vs(u,a){var c,h;if(a instanceof Ic)c={update:hv(u,a.key,a.value)};else if(a instanceof ql)c={delete:Nc(u,a.key)};else if(a instanceof Ws)c={update:hv(u,a.key,a.data),updateMask:og(a.fieldMask)};else{if(!(a instanceof Kp))return et();c={verify:Nc(u,a.key)}}return a.fieldTransforms.length>0&&(c.updateTransforms=a.fieldTransforms.map(function(d){return function(h,g){var _=g.transform;if(_ instanceof Ki)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Ta)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof gn)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof qs)return{fieldPath:g.field.canonicalString(),increment:_.A};throw et()}(0,d)})),a.precondition.isNone||(c.currentDocument=void 0!==(h=a.precondition).updateTime?{updateTime:tg(u,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:et()),c}function Yn(u,a){var T,c=a.currentDocument?void 0!==(T=a.currentDocument).updateTime?On.updateTime(ni(T.updateTime)):void 0!==T.exists?On.exists(T.exists):On.none():On.none(),d=a.updateTransforms?a.updateTransforms.map(function(T){return function(N,R){var L=null;"setToServerValue"in R?(rt("REQUEST_TIME"===R.setToServerValue),L=new Ki):"appendMissingElements"in R?L=new Ta(R.appendMissingElements.values||[]):"removeAllFromArray"in R?L=new gn(R.removeAllFromArray.values||[]):"increment"in R?L=new qs(N,R.increment):et();var le=ps.fromServerFormat(R.fieldPath);return new Sc(le,L)}(u,T)}):[];if(a.update){var h=Ko(u,a.update.name),g=new ao({mapValue:{fields:a.update.fields}});if(a.updateMask){var _=function(T){return new _c((T.fieldPaths||[]).map(function(R){return ps.fromServerFormat(R)}))}(a.updateMask);return new Ws(h,g,_,c,d)}return new Ic(h,g,c,d)}if(a.delete){var y=Ko(u,a.delete);return new ql(y,c)}if(a.verify){var D=Ko(u,a.verify);return new Kp(D,c)}return et()}function pv(u,a){return{documents:[jf(u,a.path)]}}function gv(u,a){var c={structuredQuery:{}},d=a.path;null!==a.collectionGroup?(c.parent=jf(u,d),c.structuredQuery.from=[{collectionId:a.collectionGroup,allDescendants:!0}]):(c.parent=jf(u,d.popLast()),c.structuredQuery.from=[{collectionId:d.lastSegment()}]);var h=function(y){if(0!==y.length){var D=y.map(function(T){return function(N){if("=="===N.op){if(Ll(N.value))return{unaryFilter:{field:Ac(N.field),op:"IS_NAN"}};if(Xr(N.value))return{unaryFilter:{field:Ac(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(Ll(N.value))return{unaryFilter:{field:Ac(N.field),op:"IS_NOT_NAN"}};if(Xr(N.value))return{unaryFilter:{field:Ac(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ac(N.field),op:Ma(N.op),value:N.value}}}(T)});return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}}(a.filters);h&&(c.structuredQuery.where=h);var g=function(y){if(0!==y.length)return y.map(function(D){return{field:Ac((T=D).field),direction:Uf(T.dir)};var T})}(a.orderBy);g&&(c.structuredQuery.orderBy=g);var D,_=(D=a.limit,u.I||vc(D)?D:{value:D});return null!==_&&(c.structuredQuery.limit=_),a.startAt&&(c.structuredQuery.startAt=rg(a.startAt)),a.endAt&&(c.structuredQuery.endAt=rg(a.endAt)),c}function mv(u){var a=ng(u.parent),c=u.structuredQuery,d=c.from?c.from.length:0,h=null;if(d>0){rt(1===d);var g=c.from[0];g.allDescendants?h=g.collectionId:a=a.child(g.collectionId)}var _=[];c.where&&(_=_v(c.where));var y=[];c.orderBy&&(y=c.orderBy.map(function(R){return new Ul(Ks((L=R).field),function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction));var L}));var R,L,D=null;c.limit&&(D=vc(L="object"==typeof(R=c.limit)?R.value:R)?null:L);var T=null;c.startAt&&(T=ig(c.startAt));var N=null;return c.endAt&&(N=ig(c.endAt)),Gb(a,h,y,_,D,"F",T,N)}function _v(u){return u?void 0!==u.unaryFilter?[$f(u)]:void 0!==u.fieldFilter?[Hf(u)]:void 0!==u.compositeFilter?u.compositeFilter.filters.map(function(a){return _v(a)}).reduce(function(a,c){return a.concat(c)}):et():[]}function rg(u){return{before:u.before,values:u.position}}function ig(u){return new jl(u.values||[],!!u.before)}function Uf(u){return Wb[u]}function Ma(u){return Zb[u]}function Ac(u){return{fieldPath:u.canonicalString()}}function Ks(u){return ps.fromServerFormat(u.fieldPath)}function Hf(u){return uo.create(Ks(u.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(u.fieldFilter.op),u.fieldFilter.value)}function $f(u){switch(u.unaryFilter.op){case"IS_NAN":var a=Ks(u.unaryFilter.field);return uo.create(a,"==",{doubleValue:NaN});case"IS_NULL":var c=Ks(u.unaryFilter.field);return uo.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var d=Ks(u.unaryFilter.field);return uo.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var h=Ks(u.unaryFilter.field);return uo.create(h,"!=",{nullValue:"NULL_VALUE"});default:return et()}}function og(u){var a=[];return u.fields.forEach(function(c){return a.push(c.canonicalString())}),{fieldPaths:a}}function sg(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}function No(u){for(var a="",c=0;c<u.length;c++)a.length>0&&(a=Cu(a)),a=Kb(u.get(c),a);return Cu(a)}function Kb(u,a){for(var c=a,d=u.length,h=0;h<d;h++){var g=u.charAt(h);switch(g){case"\0":c+="\x01\x10";break;case"\x01":c+="\x01\x11";break;default:c+=g}}return c}function Cu(u){return u+"\x01\x01"}function _o(u){var a=u.length;if(rt(a>=2),2===a)return rt("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),pn.emptyPath();for(var c=a-2,d=[],h="",g=0;g<a;){var _=u.indexOf("\x01",g);switch((_<0||_>c)&&et(),u.charAt(_+1)){case"\x01":var y=u.substring(g,_),D=void 0;0===h.length?D=y:(D=h+=y,h=""),d.push(D);break;case"\x10":h+=u.substring(g,_),h+="\0";break;case"\x11":h+=u.substring(g,_+1);break;default:et()}g=_+2}return new pn(d)}var Qb=function(u,a){this.seconds=u,this.nanoseconds=a},Ao=function(u,a,c){this.ownerId=u,this.allowTabSynchronization=a,this.leaseTimestampMs=c};Ao.store="owner",Ao.key="owner";var ys=function(u,a,c){this.userId=u,this.lastAcknowledgedBatchId=a,this.lastStreamToken=c};ys.store="mutationQueues",ys.keyPath="userId";var Jn=function(u,a,c,d,h){this.userId=u,this.batchId=a,this.localWriteTimeMs=c,this.baseMutations=d,this.mutations=h};Jn.store="mutations",Jn.keyPath="batchId",Jn.userMutationsIndex="userMutationsIndex",Jn.userMutationsKeyPath=["userId","batchId"];var xi=function(){function u(){}return u.prefixForUser=function(a){return[a]},u.prefixForPath=function(a,c){return[a,No(c)]},u.key=function(a,c,d){return[a,No(c),d]},u}();xi.store="documentMutations",xi.PLACEHOLDER=new xi;var Yb=function(u,a){this.path=u,this.readTime=a},BE=function(u,a){this.path=u,this.version=a},gr=function(u,a,c,d,h,g){this.unknownDocument=u,this.noDocument=a,this.document=c,this.hasCommittedMutations=d,this.readTime=h,this.parentPath=g};gr.store="remoteDocuments",gr.readTimeIndex="readTimeIndex",gr.readTimeIndexPath="readTime",gr.collectionReadTimeIndex="collectionReadTimeIndex",gr.collectionReadTimeIndexPath=["parentPath","readTime"];var Oo=function(u){this.byteSize=u};Oo.store="remoteDocumentGlobal",Oo.key="remoteDocumentGlobalKey";var ri=function(u,a,c,d,h,g,_){this.targetId=u,this.canonicalId=a,this.readTime=c,this.resumeToken=d,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=g,this.query=_};ri.store="targets",ri.keyPath="targetId",ri.queryTargetsIndexName="queryTargetsIndex",ri.queryTargetsKeyPath=["canonicalId","targetId"];var pi=function(u,a,c){this.targetId=u,this.path=a,this.sequenceNumber=c};pi.store="targetDocuments",pi.keyPath=["targetId","path"],pi.documentTargetsIndex="documentTargetsIndex",pi.documentTargetsKeyPath=["path","targetId"];var gi=function(u,a,c,d){this.highestTargetId=u,this.highestListenSequenceNumber=a,this.lastRemoteSnapshotVersion=c,this.targetCount=d};gi.key="targetGlobalKey",gi.store="targetGlobal";var Qs=function(u,a){this.collectionId=u,this.parent=a};Qs.store="collectionParents",Qs.keyPath=["collectionId","parent"];var xo=function(u,a,c,d){this.clientId=u,this.updateTimeMs=a,this.networkEnabled=c,this.inForeground=d};xo.store="clientMetadata",xo.keyPath="clientId";var Wl=function(u,a,c){this.bundleId=u,this.createTime=a,this.version=c};Wl.store="bundles",Wl.keyPath="bundleId";var Eu=function(u,a,c){this.name=u,this.readTime=a,this.bundledQuery=c};Eu.store="namedQueries",Eu.keyPath="name";var vv=(0,I.ev)((0,I.ev)([],(0,I.ev)((0,I.ev)([],(0,I.ev)((0,I.ev)([],(0,I.ev)((0,I.ev)([],[ys.store,Jn.store,xi.store,gr.store,ri.store,Ao.store,gi.store,pi.store]),[xo.store])),[Oo.store])),[Qs.store])),[Wl.store,Eu.store]),yv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qo=function(){function u(){this.onCommittedListeners=[]}return u.prototype.addOnCommittedListener=function(a){this.onCommittedListeners.push(a)},u.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(a){return a()})},u}(),Ri=function(){var u=this;this.promise=new Promise(function(a,c){u.resolve=a,u.reject=c})},Se=function(){function u(a){var c=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,a(function(d){c.isDone=!0,c.result=d,c.nextCallback&&c.nextCallback(d)},function(d){c.isDone=!0,c.error=d,c.catchCallback&&c.catchCallback(d)})}return u.prototype.catch=function(a){return this.next(void 0,a)},u.prototype.next=function(a,c){var d=this;return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(c,this.error):this.wrapSuccess(a,this.result):new u(function(h,g){d.nextCallback=function(_){d.wrapSuccess(a,_).next(h,g)},d.catchCallback=function(_){d.wrapFailure(c,_).next(h,g)}})},u.prototype.toPromise=function(){var a=this;return new Promise(function(c,d){a.next(c,d)})},u.prototype.wrapUserFunction=function(a){try{var c=a();return c instanceof u?c:u.resolve(c)}catch(d){return u.reject(d)}},u.prototype.wrapSuccess=function(a,c){return a?this.wrapUserFunction(function(){return a(c)}):u.resolve(c)},u.prototype.wrapFailure=function(a,c){return a?this.wrapUserFunction(function(){return a(c)}):u.reject(c)},u.resolve=function(a){return new u(function(c,d){c(a)})},u.reject=function(a){return new u(function(c,d){d(a)})},u.waitFor=function(a){return new u(function(c,d){var h=0,g=0,_=!1;a.forEach(function(y){++h,y.next(function(){++g,_&&g===h&&c()},function(D){return d(D)})}),_=!0,g===h&&c()})},u.or=function(a){for(var c=u.resolve(!1),d=function(_){c=c.next(function(y){return y?u.resolve(y):_()})},h=0,g=a;h<g.length;h++)d(g[h]);return c},u.forEach=function(a,c){var d=this,h=[];return a.forEach(function(g,_){h.push(c.call(d,g,_))}),this.waitFor(h)},u}(),Gf=function(){function u(a,c){var d=this;this.action=a,this.transaction=c,this.aborted=!1,this.ft=new Ri,this.transaction.oncomplete=function(){d.ft.resolve()},this.transaction.onabort=function(){c.error?d.ft.reject(new Tu(a,c.error)):d.ft.resolve()},this.transaction.onerror=function(h){var g=qf(h.target.error);d.ft.reject(new Tu(a,g))}}return u.open=function(a,c,d,h){try{return new u(c,a.transaction(h,d))}catch(g){throw new Tu(c,g)}},Object.defineProperty(u.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),u.prototype.abort=function(a){a&&this.ft.reject(a),this.aborted||(xe("SimpleDb","Aborting transaction:",a?a.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},u.prototype.store=function(a){var c=this.transaction.objectStore(a);return new bv(c)},u}(),Su=function(){function u(a,c,d){this.name=a,this.version=c,this.wt=d,12.2===u._t((0,We.z$)())&&it("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return u.delete=function(a){return xe("SimpleDb","Removing database:",a),Na(window.indexedDB.deleteDatabase(a)).toPromise()},u.yt=function(){if(typeof indexedDB>"u")return!1;if(u.gt())return!0;var a=(0,We.z$)(),c=u._t(a),d=0<c&&c<10,h=u.Et(a),g=0<h&&h<4.5;return!(a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0||a.indexOf("Edge/")>0||d||g)},u.gt=function(){var a;return typeof process<"u"&&"YES"===(null===(a=process.env)||void 0===a?void 0:a.Tt)},u.It=function(a,c){return a.store(c)},u._t=function(a){var c=a.match(/i(?:phone|pad|pod) os ([\d_]+)/i),d=c?c[1].split("_").slice(0,2).join("."):"-1";return Number(d)},u.Et=function(a){var c=a.match(/Android ([\d.]+)/i),d=c?c[1].split(".").slice(0,2).join("."):"-1";return Number(d)},u.prototype.At=function(a){return(0,I.mG)(this,void 0,void 0,function(){var c,d=this;return(0,I.Jh)(this,function(h){switch(h.label){case 0:return this.db?[3,2]:(xe("SimpleDb","Opening database:",this.name),c=this,[4,new Promise(function(g,_){var y=indexedDB.open(d.name,d.version);y.onsuccess=function(D){g(D.target.result)},y.onblocked=function(){_(new Tu(a,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=function(D){var T=D.target.error;_("VersionError"===T.name?new _e(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Tu(a,T))},y.onupgradeneeded=function(D){xe("SimpleDb",'Database "'+d.name+'" requires upgrade from version:',D.oldVersion),d.wt.Rt(D.target.result,y.transaction,D.oldVersion,d.version).next(function(){xe("SimpleDb","Database upgrade to version "+d.version+" complete")})}})]);case 1:c.db=h.sent(),h.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(g){return d.bt(g)}),this.db)]}})})},u.prototype.vt=function(a){this.bt=a,this.db&&(this.db.onversionchange=function(c){return a(c)})},u.prototype.runTransaction=function(a,c,d,h){return(0,I.mG)(this,void 0,void 0,function(){var g,_,y,D,T;return(0,I.Jh)(this,function(N){switch(N.label){case 0:g="readonly"===c,_=0,y=function(){var R,L,ee,Y,le;return(0,I.Jh)(this,function(Ae){switch(Ae.label){case 0:++_,Ae.label=1;case 1:return Ae.trys.push([1,4,,5]),[4,D.At(a)];case 2:return D.db=Ae.sent(),R=Gf.open(D.db,a,g?"readonly":"readwrite",d),L=h(R).catch(function(Le){return R.abort(Le),Se.reject(Le)}).toPromise(),ee={},L.catch(function(){}),[4,R.dt];case 3:return[2,(ee.value=(Ae.sent(),L),ee)];case 4:return xe("SimpleDb","Transaction failed with error:",(Y=Ae.sent()).message,"Retrying:",le="FirebaseError"!==Y.name&&_<3),D.close(),le?[3,5]:[2,{value:Promise.reject(Y)}];case 5:return[2]}})},D=this,N.label=1;case 1:return[5,y()];case 2:if("object"==typeof(T=N.sent()))return[2,T.value];N.label=3;case 3:return[3,1];case 4:return[2]}})})},u.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},u}(),zf=function(){function u(a){this.Pt=a,this.Vt=!1,this.St=null}return Object.defineProperty(u.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"cursor",{set:function(a){this.Pt=a},enumerable:!1,configurable:!0}),u.prototype.done=function(){this.Vt=!0},u.prototype.Ct=function(a){this.St=a},u.prototype.delete=function(){return Na(this.Pt.delete())},u}(),Tu=function(u){function a(c,d){var h=this;return(h=u.call(this,oe.UNAVAILABLE,"IndexedDB transaction '"+c+"' failed: "+d)||this).name="IndexedDbTransactionError",h}return(0,I.ZT)(a,u),a}(_e);function Iu(u){return"IndexedDbTransactionError"===u.name}var bv=function(){function u(a){this.store=a}return u.prototype.put=function(a,c){var d;return void 0!==c?(xe("SimpleDb","PUT",this.store.name,a,c),d=this.store.put(c,a)):(xe("SimpleDb","PUT",this.store.name,"<auto-key>",a),d=this.store.put(a)),Na(d)},u.prototype.add=function(a){return xe("SimpleDb","ADD",this.store.name,a,a),Na(this.store.add(a))},u.prototype.get=function(a){var c=this;return Na(this.store.get(a)).next(function(d){return void 0===d&&(d=null),xe("SimpleDb","GET",c.store.name,a,d),d})},u.prototype.delete=function(a){return xe("SimpleDb","DELETE",this.store.name,a),Na(this.store.delete(a))},u.prototype.count=function(){return xe("SimpleDb","COUNT",this.store.name),Na(this.store.count())},u.prototype.Nt=function(a,c){var d=this.cursor(this.options(a,c)),h=[];return this.xt(d,function(g,_){h.push(_)}).next(function(){return h})},u.prototype.kt=function(a,c){xe("SimpleDb","DELETE ALL",this.store.name);var d=this.options(a,c);d.Ft=!1;var h=this.cursor(d);return this.xt(h,function(g,_,y){return y.delete()})},u.prototype.$t=function(a,c){var d;c?d=a:(d={},c=a);var h=this.cursor(d);return this.xt(h,c)},u.prototype.Ot=function(a){var c=this.cursor({});return new Se(function(d,h){c.onerror=function(g){var _=qf(g.target.error);h(_)},c.onsuccess=function(g){var _=g.target.result;_?a(_.primaryKey,_.value).next(function(y){y?_.continue():d()}):d()}})},u.prototype.xt=function(a,c){var d=[];return new Se(function(h,g){a.onerror=function(_){g(_.target.error)},a.onsuccess=function(_){var y=_.target.result;if(y){var D=new zf(y),T=c(y.primaryKey,y.value,D);if(T instanceof Se){var N=T.catch(function(R){return D.done(),Se.reject(R)});d.push(N)}D.isDone?h():null===D.Dt?y.continue():y.continue(D.Dt)}else h()}}).next(function(){return Se.waitFor(d)})},u.prototype.options=function(a,c){var d;return void 0!==a&&("string"==typeof a?d=a:c=a),{index:d,range:c}},u.prototype.cursor=function(a){var c="next";if(a.reverse&&(c="prev"),a.index){var d=this.store.index(a.index);return a.Ft?d.openKeyCursor(a.range,c):d.openCursor(a.range,c)}return this.store.openCursor(a.range,c)},u}();function Na(u){return new Se(function(a,c){u.onsuccess=function(d){a(d.target.result)},u.onerror=function(d){var h=qf(d.target.error);c(h)}})}var ag=!1;function qf(u){var a=Su._t((0,We.z$)());if(a>=12.2&&a<13){var c="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(c)>=0){var d=new _e("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+c+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ag||(ag=!0,setTimeout(function(){throw d},0)),d}}return u}var wv=function(u){function a(c,d){var h=this;return(h=u.call(this)||this).Mt=c,h.currentSequenceNumber=d,h}return(0,I.ZT)(a,u),a}(Qo);function mi(u,a){var c=Be(u);return Su.It(c.Mt,a)}var Ys=function(){function u(a,c,d,h){this.batchId=a,this.localWriteTime=c,this.baseMutations=d,this.mutations=h}return u.prototype.applyToRemoteDocument=function(a,c){for(var d=c.mutationResults,h=0;h<this.mutations.length;h++){var g=this.mutations[h];g.key.isEqual(a.key)&&qb(g,a,d[h])}},u.prototype.applyToLocalView=function(a){for(var c=0,d=this.baseMutations;c<d.length;c++)(_=d[c]).key.isEqual(a.key)&&gs(_,a,this.localWriteTime);for(var h=0,g=this.mutations;h<g.length;h++){var _;(_=g[h]).key.isEqual(a.key)&&gs(_,a,this.localWriteTime)}},u.prototype.applyToLocalDocumentSet=function(a){var c=this;this.mutations.forEach(function(d){var h=a.get(d.key),g=h;c.applyToLocalView(g),h.isValidDocument()||g.convertToNoDocument(Lt.min())})},u.prototype.keys=function(){return this.mutations.reduce(function(a,c){return a.add(c.key)},_n())},u.prototype.isEqual=function(a){return this.batchId===a.batchId&&Pl(this.mutations,a.mutations,function(c,d){return ov(c,d)})&&Pl(this.baseMutations,a.baseMutations,function(c,d){return ov(c,d)})},u}(),Jb=function(){function u(a,c,d,h){this.batch=a,this.commitVersion=c,this.mutationResults=d,this.docVersions=h}return u.from=function(a,c,d){rt(a.mutations.length===d.length);for(var h=Mc(),g=a.mutations,_=0;_<g.length;_++)h=h.insert(g[_].key,d[_].version);return new u(a,c,d,h)},u}(),Zl=function(){function u(a,c,d,h,g,_,y){void 0===g&&(g=Lt.min()),void 0===_&&(_=Lt.min()),void 0===y&&(y=Wi.EMPTY_BYTE_STRING),this.target=a,this.targetId=c,this.purpose=d,this.sequenceNumber=h,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=y}return u.prototype.withSequenceNumber=function(a){return new u(this.target,this.targetId,this.purpose,a,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},u.prototype.withResumeToken=function(a,c){return new u(this.target,this.targetId,this.purpose,this.sequenceNumber,c,this.lastLimboFreeSnapshotVersion,a)},u.prototype.withLastLimboFreeSnapshotVersion=function(a){return new u(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,a,this.resumeToken)},u}(),ug=function(u){this.Lt=u};function Mu(u,a){if(a.document)return Oi(u.Lt,a.document,!!a.hasCommittedMutations);if(a.noDocument){var c=at.fromSegments(a.noDocument.path),d=Aa(a.noDocument.readTime),h=ei.newNoDocument(c,d);return a.hasCommittedMutations?h.setHasCommittedMutations():h}if(a.unknownDocument){var g=at.fromSegments(a.unknownDocument.path);return d=Aa(a.unknownDocument.version),ei.newUnknownDocument(g,d)}return et()}function Dv(u,a,c){var R,L,d=_i(c),h=a.key.path.popLast().toArray();if(a.isFoundDocument()){var g={name:Nc(R=u.Lt,(L=a).key),fields:L.data.value.mapValue.fields,updateTime:wu(R,L.version.toTimestamp())},_=a.hasCommittedMutations;return new gr(null,null,g,_,d,h)}if(a.isNoDocument()){var y=a.key.path.toArray(),D=Hn(a.version);return _=a.hasCommittedMutations,new gr(null,new Yb(y,D),null,_,d,h)}if(a.isUnknownDocument()){var T=a.key.path.toArray(),N=Hn(a.version);return new gr(new BE(T,N),null,null,!0,d,h)}return et()}function _i(u){var a=u.toTimestamp();return[a.seconds,a.nanoseconds]}function Cv(u){var a=new An(u[0],u[1]);return Lt.fromTimestamp(a)}function Hn(u){var a=u.toTimestamp();return new Qb(a.seconds,a.nanoseconds)}function Aa(u){var a=new An(u.seconds,u.nanoseconds);return Lt.fromTimestamp(a)}function Oc(u,a){for(var c=(a.baseMutations||[]).map(function(D){return Yn(u.Lt,D)}),d=0;d<a.mutations.length-1;++d)d+1<a.mutations.length&&void 0!==a.mutations[d+1].transform&&(a.mutations[d].updateTransforms=a.mutations[d+1].transform.fieldTransforms,a.mutations.splice(d+1,1),++d);var _=a.mutations.map(function(D){return Yn(u.Lt,D)}),y=An.fromMillis(a.localWriteTimeMs);return new Ys(a.batchId,y,c,_)}function xc(u){var a,c,d=Aa(u.readTime),h=void 0!==u.lastLimboFreeSnapshotVersion?Aa(u.lastLimboFreeSnapshotVersion):Lt.min();return void 0!==u.query.documents?(rt(1===(c=u.query).documents.length),a=mo(Hl(ng(c.documents[0])))):a=mo(mv(u.query)),new Zl(a,u.targetId,0,u.lastListenSequenceNumber,d,h,Wi.fromBase64String(u.resumeToken))}function Oa(u,a){var c,d=Hn(a.snapshotVersion),h=Hn(a.lastLimboFreeSnapshotVersion);c=Vl(a.target)?pv(u.Lt,a.target):gv(u.Lt,a.target);var g=a.resumeToken.toBase64();return new ri(a.targetId,_u(a.target),d,g,a.sequenceNumber,h,c)}function xa(u){var a=mv({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?Q_(a,a.limit,"L"):a}var Rc=function(){function u(){}return u.prototype.getBundleMetadata=function(a,c){return Nu(a).get(c).next(function(d){if(d)return{id:(h=d).bundleId,createTime:Aa(h.createTime),version:h.version};var h})},u.prototype.saveBundleMetadata=function(a,c){return Nu(a).put({bundleId:(d=c).id,createTime:Hn(ni(d.createTime)),version:d.version});var d},u.prototype.getNamedQuery=function(a,c){return cg(a).get(c).next(function(d){if(d)return{name:(h=d).name,query:xa(h.bundledQuery),readTime:Aa(h.readTime)};var h})},u.prototype.saveNamedQuery=function(a,c){return cg(a).put({name:(d=c).name,readTime:Hn(ni(d.readTime)),bundledQuery:d.bundledQuery});var d},u}();function Nu(u){return mi(u,Wl.store)}function cg(u){return mi(u,Eu.store)}var lg=function(){function u(){this.Bt=new Ra}return u.prototype.addToCollectionParentIndex=function(a,c){return this.Bt.add(c),Se.resolve()},u.prototype.getCollectionParents=function(a,c){return Se.resolve(this.Bt.getEntries(c))},u}(),Ra=function(){function u(){this.index={}}return u.prototype.add=function(a){var c=a.lastSegment(),d=a.popLast(),h=this.index[c]||new Vr(pn.comparator),g=!h.has(d);return this.index[c]=h.add(d),g},u.prototype.has=function(a){var c=a.lastSegment(),d=a.popLast(),h=this.index[c];return h&&h.has(d)},u.prototype.getEntries=function(a){return(this.index[a]||new Vr(pn.comparator)).toArray()},u}(),jE=function(){function u(){this.qt=new Ra}return u.prototype.addToCollectionParentIndex=function(a,c){var d=this;if(!this.qt.has(c)){var h=c.lastSegment(),g=c.popLast();a.addOnCommittedListener(function(){d.qt.add(c)});var _={collectionId:h,parent:No(g)};return Ev(a).put(_)}return Se.resolve()},u.prototype.getCollectionParents=function(a,c){var d=[],h=IDBKeyRange.bound([c,""],[qi(c),""],!1,!0);return Ev(a).Nt(h).next(function(g){for(var _=0,y=g;_<y.length;_++){var D=y[_];if(D.collectionId!==c)break;d.push(_o(D.parent))}return d})},u}();function Ev(u){return mi(u,Qs.store)}var Xb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Js=function(){function u(a,c,d){this.cacheSizeCollectionThreshold=a,this.percentileToCollect=c,this.maximumSequenceNumbersToCollect=d}return u.withCacheSize=function(a){return new u(a,u.DEFAULT_COLLECTION_PERCENTILE,u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},u}();function e1(u,a,c){var d=u.store(Jn.store),h=u.store(xi.store),g=[],_=IDBKeyRange.only(c.batchId),y=0,D=d.$t({range:_},function(Y,le,Ae){return y++,Ae.delete()});g.push(D.next(function(){rt(1===y)}));for(var T=[],N=0,R=c.mutations;N<R.length;N++){var L=R[N],ee=xi.key(a,L.key.path,c.batchId);g.push(h.delete(ee)),T.push(L.key)}return Se.waitFor(g).next(function(){return T})}function dg(u){if(!u)return 0;var a;if(u.document)a=u.document;else if(u.unknownDocument)a=u.unknownDocument;else{if(!u.noDocument)throw et();a=u.noDocument}return JSON.stringify(a).length}Js.DEFAULT_COLLECTION_PERCENTILE=10,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Js.DEFAULT=new Js(41943040,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Js.DISABLED=new Js(-1,0,0);var UE=function(){function u(a,c,d,h){this.userId=a,this.R=c,this.Ut=d,this.referenceDelegate=h,this.Kt={}}return u.Qt=function(a,c,d,h){return rt(""!==a.uid),new u(a.isAuthenticated()?a.uid:"",c,d,h)},u.prototype.checkEmpty=function(a){var c=!0,d=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vo(a).$t({index:Jn.userMutationsIndex,range:d},function(h,g,_){c=!1,_.done()}).next(function(){return c})},u.prototype.addMutationBatch=function(a,c,d,h){var g=this,_=Pc(a),y=vo(a);return y.add({}).next(function(D){rt("number"==typeof D);for(var T=new Ys(D,c,d,h),N=function(Le,ot,ct){var zt=ct.baseMutations.map(function(Cn){return vs(Le.Lt,Cn)}),on=ct.mutations.map(function(Cn){return vs(Le.Lt,Cn)});return new Jn(ot,ct.batchId,ct.localWriteTime.toMillis(),zt,on)}(g.R,g.userId,T),R=[],L=new Vr(function(Le,ot){return dt(Le.canonicalString(),ot.canonicalString())}),ee=0,Y=h;ee<Y.length;ee++){var le=Y[ee],Ae=xi.key(g.userId,le.key.path,D);L=L.add(le.key.path.popLast()),R.push(y.put(N)),R.push(_.put(Ae,xi.PLACEHOLDER))}return L.forEach(function(Le){R.push(g.Ut.addToCollectionParentIndex(a,Le))}),a.addOnCommittedListener(function(){g.Kt[D]=T.keys()}),Se.waitFor(R).next(function(){return T})})},u.prototype.lookupMutationBatch=function(a,c){var d=this;return vo(a).get(c).next(function(h){return h?(rt(h.userId===d.userId),Oc(d.R,h)):null})},u.prototype.jt=function(a,c){var d=this;return this.Kt[c]?Se.resolve(this.Kt[c]):this.lookupMutationBatch(a,c).next(function(h){if(h){var g=h.keys();return d.Kt[c]=g,g}return null})},u.prototype.getNextMutationBatchAfterBatchId=function(a,c){var d=this,h=c+1,g=IDBKeyRange.lowerBound([this.userId,h]),_=null;return vo(a).$t({index:Jn.userMutationsIndex,range:g},function(y,D,T){D.userId===d.userId&&(rt(D.batchId>=h),_=Oc(d.R,D)),T.done()}).next(function(){return _})},u.prototype.getHighestUnacknowledgedBatchId=function(a){var c=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),d=-1;return vo(a).$t({index:Jn.userMutationsIndex,range:c,reverse:!0},function(h,g,_){d=g.batchId,_.done()}).next(function(){return d})},u.prototype.getAllMutationBatches=function(a){var c=this,d=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vo(a).Nt(Jn.userMutationsIndex,d).next(function(h){return h.map(function(g){return Oc(c.R,g)})})},u.prototype.getAllMutationBatchesAffectingDocumentKey=function(a,c){var d=this,h=xi.prefixForPath(this.userId,c.path),g=IDBKeyRange.lowerBound(h),_=[];return Pc(a).$t({range:g},function(y,D,T){var N=y[0],L=y[2],ee=_o(y[1]);if(N===d.userId&&c.path.isEqual(ee))return vo(a).get(L).next(function(Y){if(!Y)throw et();rt(Y.userId===d.userId),_.push(Oc(d.R,Y))});T.done()}).next(function(){return _})},u.prototype.getAllMutationBatchesAffectingDocumentKeys=function(a,c){var d=this,h=new Vr(dt),g=[];return c.forEach(function(_){var y=xi.prefixForPath(d.userId,_.path),D=IDBKeyRange.lowerBound(y),T=Pc(a).$t({range:D},function(N,R,L){var ee=N[0],le=N[2],Ae=_o(N[1]);ee===d.userId&&_.path.isEqual(Ae)?h=h.add(le):L.done()});g.push(T)}),Se.waitFor(g).next(function(){return d.Wt(a,h)})},u.prototype.getAllMutationBatchesAffectingQuery=function(a,c){var d=this,h=c.path,g=h.length+1,_=xi.prefixForPath(this.userId,h),y=IDBKeyRange.lowerBound(_),D=new Vr(dt);return Pc(a).$t({range:y},function(T,N,R){var L=T[0],Y=T[2],le=_o(T[1]);L===d.userId&&h.isPrefixOf(le)?le.length===g&&(D=D.add(Y)):R.done()}).next(function(){return d.Wt(a,D)})},u.prototype.Wt=function(a,c){var d=this,h=[],g=[];return c.forEach(function(_){g.push(vo(a).get(_).next(function(y){if(null===y)throw et();rt(y.userId===d.userId),h.push(Oc(d.R,y))}))}),Se.waitFor(g).next(function(){return h})},u.prototype.removeMutationBatch=function(a,c){var d=this;return e1(a.Mt,this.userId,c).next(function(h){return a.addOnCommittedListener(function(){d.Gt(c.batchId)}),Se.forEach(h,function(g){return d.referenceDelegate.markPotentiallyOrphaned(a,g)})})},u.prototype.Gt=function(a){delete this.Kt[a]},u.prototype.performConsistencyCheck=function(a){var c=this;return this.checkEmpty(a).next(function(d){if(!d)return Se.resolve();var h=IDBKeyRange.lowerBound(xi.prefixForUser(c.userId)),g=[];return Pc(a).$t({range:h},function(_,y,D){if(_[0]===c.userId){var T=_o(_[1]);g.push(T)}else D.done()}).next(function(){rt(0===g.length)})})},u.prototype.containsKey=function(a,c){return t1(a,this.userId,c)},u.prototype.zt=function(a){var c=this;return Sv(a).get(this.userId).next(function(d){return d||new ys(c.userId,-1,"")})},u}();function t1(u,a,c){var d=xi.prefixForPath(a,c.path),h=d[1],g=IDBKeyRange.lowerBound(d),_=!1;return Pc(u).$t({range:g,Ft:!0},function(y,D,T){y[0]===a&&y[1]===h&&(_=!0),T.done()}).next(function(){return _})}function vo(u){return mi(u,Jn.store)}function Pc(u){return mi(u,xi.store)}function Sv(u){return mi(u,ys.store)}var dr=function(){function u(a){this.Ht=a}return u.prototype.next=function(){return this.Ht+=2,this.Ht},u.Jt=function(){return new u(0)},u.Yt=function(){return new u(-1)},u}(),n1=function(){function u(a,c){this.referenceDelegate=a,this.R=c}return u.prototype.allocateTargetId=function(a){var c=this;return this.Xt(a).next(function(d){var h=new dr(d.highestTargetId);return d.highestTargetId=h.next(),c.Zt(a,d).next(function(){return d.highestTargetId})})},u.prototype.getLastRemoteSnapshotVersion=function(a){return this.Xt(a).next(function(c){return Lt.fromTimestamp(new An(c.lastRemoteSnapshotVersion.seconds,c.lastRemoteSnapshotVersion.nanoseconds))})},u.prototype.getHighestSequenceNumber=function(a){return this.Xt(a).next(function(c){return c.highestListenSequenceNumber})},u.prototype.setTargetsMetadata=function(a,c,d){var h=this;return this.Xt(a).next(function(g){return g.highestListenSequenceNumber=c,d&&(g.lastRemoteSnapshotVersion=d.toTimestamp()),c>g.highestListenSequenceNumber&&(g.highestListenSequenceNumber=c),h.Zt(a,g)})},u.prototype.addTargetData=function(a,c){var d=this;return this.te(a,c).next(function(){return d.Xt(a).next(function(h){return h.targetCount+=1,d.ee(c,h),d.Zt(a,h)})})},u.prototype.updateTargetData=function(a,c){return this.te(a,c)},u.prototype.removeTargetData=function(a,c){var d=this;return this.removeMatchingKeysForTargetId(a,c.targetId).next(function(){return bs(a).delete(c.targetId)}).next(function(){return d.Xt(a)}).next(function(h){return rt(h.targetCount>0),h.targetCount-=1,d.Zt(a,h)})},u.prototype.removeTargets=function(a,c,d){var h=this,g=0,_=[];return bs(a).$t(function(y,D){var T=xc(D);T.sequenceNumber<=c&&null===d.get(T.targetId)&&(g++,_.push(h.removeTargetData(a,T)))}).next(function(){return Se.waitFor(_)}).next(function(){return g})},u.prototype.forEachTarget=function(a,c){return bs(a).$t(function(d,h){var g=xc(h);c(g)})},u.prototype.Xt=function(a){return Tv(a).get(gi.key).next(function(c){return rt(null!==c),c})},u.prototype.Zt=function(a,c){return Tv(a).put(gi.key,c)},u.prototype.te=function(a,c){return bs(a).put(Oa(this.R,c))},u.prototype.ee=function(a,c){var d=!1;return a.targetId>c.highestTargetId&&(c.highestTargetId=a.targetId,d=!0),a.sequenceNumber>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=a.sequenceNumber,d=!0),d},u.prototype.getTargetCount=function(a){return this.Xt(a).next(function(c){return c.targetCount})},u.prototype.getTargetData=function(a,c){var d=_u(c),h=IDBKeyRange.bound([d,Number.NEGATIVE_INFINITY],[d,Number.POSITIVE_INFINITY]),g=null;return bs(a).$t({range:h,index:ri.queryTargetsIndexName},function(_,y,D){var T=xc(y);Dc(c,T.target)&&(g=T,D.done())}).next(function(){return g})},u.prototype.addMatchingKeys=function(a,c,d){var h=this,g=[],_=jr(a);return c.forEach(function(y){var D=No(y.path);g.push(_.put(new pi(d,D))),g.push(h.referenceDelegate.addReference(a,d,y))}),Se.waitFor(g)},u.prototype.removeMatchingKeys=function(a,c,d){var h=this,g=jr(a);return Se.forEach(c,function(_){var y=No(_.path);return Se.waitFor([g.delete([d,y]),h.referenceDelegate.removeReference(a,d,_)])})},u.prototype.removeMatchingKeysForTargetId=function(a,c){var d=jr(a),h=IDBKeyRange.bound([c],[c+1],!1,!0);return d.delete(h)},u.prototype.getMatchingKeysForTargetId=function(a,c){var d=IDBKeyRange.bound([c],[c+1],!1,!0),h=jr(a),g=_n();return h.$t({range:d,Ft:!0},function(_,y,D){var T=_o(_[1]),N=new at(T);g=g.add(N)}).next(function(){return g})},u.prototype.containsKey=function(a,c){var d=No(c.path),h=IDBKeyRange.bound([d],[qi(d)],!1,!0),g=0;return jr(a).$t({index:pi.documentTargetsIndex,Ft:!0,range:h},function(_,y,D){0!==_[0]&&(g++,D.done())}).next(function(){return g>0})},u.prototype.lt=function(a,c){return bs(a).get(c).next(function(d){return d?xc(d):null})},u}();function bs(u){return mi(u,ri.store)}function Tv(u){return mi(u,gi.store)}function jr(u){return mi(u,pi.store)}function Ro(u){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(a){if(u.code!==oe.FAILED_PRECONDITION||u.message!==yv)throw u;return xe("LocalStore","Unexpectedly lost primary lease"),[2]})})}function fg(u,a){var d=u[1],g=a[1],_=dt(u[0],a[0]);return 0===_?dt(d,g):_}var Wf=function(){function u(a){this.ne=a,this.buffer=new Vr(fg),this.se=0}return u.prototype.ie=function(){return++this.se},u.prototype.re=function(a){var c=[a,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(c);else{var d=this.buffer.last();fg(c,d)<0&&(this.buffer=this.buffer.delete(d).add(c))}},Object.defineProperty(u.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),u}(),Kl=function(){function u(a,c){this.garbageCollector=a,this.asyncQueue=c,this.oe=!1,this.ce=null}return u.prototype.start=function(a){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(a)},u.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(u.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),u.prototype.ue=function(a){var c=this,d=this.oe?3e5:6e4;xe("LruGarbageCollector","Garbage collection scheduled in "+d+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",d,function(){return(0,I.mG)(c,void 0,void 0,function(){var h;return(0,I.Jh)(this,function(g){switch(g.label){case 0:this.ce=null,this.oe=!0,g.label=1;case 1:return g.trys.push([1,3,,7]),[4,a.collectGarbage(this.garbageCollector)];case 2:return g.sent(),[3,7];case 3:return Iu(h=g.sent())?(xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h),[3,6]):[3,4];case 4:return[4,Ro(h)];case 5:g.sent(),g.label=6;case 6:return[3,7];case 7:return[4,this.ue(a)];case 8:return g.sent(),[2]}})})})},u}(),r1=function(){function u(a,c){this.ae=a,this.params=c}return u.prototype.calculateTargetCount=function(a,c){return this.ae.he(a).next(function(d){return Math.floor(c/100*d)})},u.prototype.nthSequenceNumber=function(a,c){var d=this;if(0===c)return Se.resolve(hi.o);var h=new Wf(c);return this.ae.forEachTarget(a,function(g){return h.re(g.sequenceNumber)}).next(function(){return d.ae.le(a,function(g){return h.re(g)})}).next(function(){return h.maxValue})},u.prototype.removeTargets=function(a,c,d){return this.ae.removeTargets(a,c,d)},u.prototype.removeOrphanedDocuments=function(a,c){return this.ae.removeOrphanedDocuments(a,c)},u.prototype.collect=function(a,c){var d=this;return-1===this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(Xb)):this.getCacheSize(a).next(function(h){return h<d.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; Cache size "+h+" is lower than threshold "+d.params.cacheSizeCollectionThreshold),Xb):d.fe(a,c)})},u.prototype.getCacheSize=function(a){return this.ae.getCacheSize(a)},u.prototype.fe=function(a,c){var d,h,g,_,y,D,T,N=this,R=Date.now();return this.calculateTargetCount(a,this.params.percentileToCollect).next(function(L){return L>N.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+N.params.maximumSequenceNumbersToCollect+" from "+L),h=N.params.maximumSequenceNumbersToCollect):h=L,_=Date.now(),N.nthSequenceNumber(a,h)}).next(function(L){return d=L,y=Date.now(),N.removeTargets(a,d,c)}).next(function(L){return g=L,D=Date.now(),N.removeOrphanedDocuments(a,d)}).next(function(L){return T=Date.now(),gu()<=nt.in.DEBUG&&xe("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(_-R)+"ms\n\tDetermined least recently used "+h+" in "+(y-_)+"ms\n\tRemoved "+g+" targets in "+(D-y)+"ms\n\tRemoved "+L+" documents in "+(T-D)+"ms\nTotal Duration: "+(T-R)+"ms"),Se.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:g,documentsRemoved:L})})},u}(),HE=function(){function u(a,c){this.db=a,this.garbageCollector=new r1(this,c)}return u.prototype.he=function(a){var c=this.de(a);return this.db.getTargetCache().getTargetCount(a).next(function(d){return c.next(function(h){return d+h})})},u.prototype.de=function(a){var c=0;return this.le(a,function(d){c++}).next(function(){return c})},u.prototype.forEachTarget=function(a,c){return this.db.getTargetCache().forEachTarget(a,c)},u.prototype.le=function(a,c){return this.we(a,function(d,h){return c(h)})},u.prototype.addReference=function(a,c,d){return Zf(a,d)},u.prototype.removeReference=function(a,c,d){return Zf(a,d)},u.prototype.removeTargets=function(a,c,d){return this.db.getTargetCache().removeTargets(a,c,d)},u.prototype.markPotentiallyOrphaned=function(a,c){return Zf(a,c)},u.prototype._e=function(a,c){return h=c,g=!1,Sv(d=a).Ot(function(_){return t1(d,_,h).next(function(y){return y&&(g=!0),Se.resolve(!y)})}).next(function(){return g});var d,h,g},u.prototype.removeOrphanedDocuments=function(a,c){var d=this,h=this.db.getRemoteDocumentCache().newChangeBuffer(),g=[],_=0;return this.we(a,function(y,D){if(D<=c){var T=d._e(a,y).next(function(N){if(!N)return _++,h.getEntry(a,y).next(function(){return h.removeEntry(y),jr(a).delete([0,No(y.path)])})});g.push(T)}}).next(function(){return Se.waitFor(g)}).next(function(){return h.apply(a)}).next(function(){return _})},u.prototype.removeTarget=function(a,c){var d=c.withSequenceNumber(a.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(a,d)},u.prototype.updateLimboDocument=function(a,c){return Zf(a,c)},u.prototype.we=function(a,c){var d,h=jr(a),g=hi.o;return h.$t({index:pi.documentTargetsIndex},function(_,y){var T=y.path,N=y.sequenceNumber;0===_[0]?(g!==hi.o&&c(new at(_o(d)),g),g=N,d=T):g=hi.o}).next(function(){g!==hi.o&&c(new at(_o(d)),g)})},u.prototype.getCacheSize=function(a){return this.db.getRemoteDocumentCache().getSize(a)},u}();function Zf(u,a){return jr(u).put((d=u.currentSequenceNumber,new pi(0,No(a.path),d)));var d}var Ql=function(){function u(a,c){this.mapKeyFn=a,this.equalsFn=c,this.inner={}}return u.prototype.get=function(a){var c=this.mapKeyFn(a),d=this.inner[c];if(void 0!==d)for(var h=0,g=d;h<g.length;h++){var _=g[h],D=_[1];if(this.equalsFn(_[0],a))return D}},u.prototype.has=function(a){return void 0!==this.get(a)},u.prototype.set=function(a,c){var d=this.mapKeyFn(a),h=this.inner[d];if(void 0!==h){for(var g=0;g<h.length;g++)if(this.equalsFn(h[g][0],a))return void(h[g]=[a,c]);h.push([a,c])}else this.inner[d]=[[a,c]]},u.prototype.delete=function(a){var c=this.mapKeyFn(a),d=this.inner[c];if(void 0===d)return!1;for(var h=0;h<d.length;h++)if(this.equalsFn(d[h][0],a))return 1===d.length?delete this.inner[c]:d.splice(h,1),!0;return!1},u.prototype.forEach=function(a){hs(this.inner,function(c,d){for(var h=0,g=d;h<g.length;h++){var _=g[h];a(_[0],_[1])}})},u.prototype.isEmpty=function(){return Mo(this.inner)},u}(),co=function(){function u(){this.changes=new Ql(function(a){return a.toString()},function(a,c){return a.isEqual(c)}),this.changesApplied=!1}return u.prototype.getReadTime=function(a){var c=this.changes.get(a);return c?c.readTime:Lt.min()},u.prototype.addEntry=function(a,c){this.assertNotApplied(),this.changes.set(a.key,{document:a,readTime:c})},u.prototype.removeEntry=function(a,c){void 0===c&&(c=null),this.assertNotApplied(),this.changes.set(a,{document:ei.newInvalidDocument(a),readTime:c})},u.prototype.getEntry=function(a,c){this.assertNotApplied();var d=this.changes.get(c);return void 0!==d?Se.resolve(d.document):this.getFromCache(a,c)},u.prototype.getEntries=function(a,c){return this.getAllFromCache(a,c)},u.prototype.apply=function(a){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(a)},u.prototype.assertNotApplied=function(){},u}(),hg=function(){function u(a,c){this.R=a,this.Ut=c}return u.prototype.addEntry=function(a,c,d){return Xs(a).put(Kf(c),d)},u.prototype.removeEntry=function(a,c){var d=Xs(a),h=Kf(c);return d.delete(h)},u.prototype.updateMetadata=function(a,c){var d=this;return this.getMetadata(a).next(function(h){return h.byteSize+=c,d.me(a,h)})},u.prototype.getEntry=function(a,c){var d=this;return Xs(a).get(Kf(c)).next(function(h){return d.ye(c,h)})},u.prototype.ge=function(a,c){var d=this;return Xs(a).get(Kf(c)).next(function(h){return{document:d.ye(c,h),size:dg(h)}})},u.prototype.getEntries=function(a,c){var d=this,h=Ye();return this.pe(a,c,function(g,_){var y=d.ye(g,_);h=h.insert(g,y)}).next(function(){return h})},u.prototype.Ee=function(a,c){var d=this,h=Ye(),g=new Ai(at.comparator);return this.pe(a,c,function(_,y){var D=d.ye(_,y);h=h.insert(_,D),g=g.insert(_,dg(y))}).next(function(){return{documents:h,Te:g}})},u.prototype.pe=function(a,c,d){if(c.isEmpty())return Se.resolve();var h=IDBKeyRange.bound(c.first().path.toArray(),c.last().path.toArray()),g=c.getIterator(),_=g.getNext();return Xs(a).$t({range:h},function(y,D,T){for(var N=at.fromSegments(y);_&&at.comparator(_,N)<0;)d(_,null),_=g.getNext();_&&_.isEqual(N)&&(d(_,D),_=g.hasNext()?g.getNext():null),_?T.Ct(_.path.toArray()):T.done()}).next(function(){for(;_;)d(_,null),_=g.hasNext()?g.getNext():null})},u.prototype.getDocumentsMatchingQuery=function(a,c,d){var h=this,g=Ye(),_=c.path.length+1,y={};if(d.isEqual(Lt.min())){var D=c.path.toArray();y.range=IDBKeyRange.lowerBound(D)}else{var T=c.path.toArray(),N=_i(d);y.range=IDBKeyRange.lowerBound([T,N],!0),y.index=gr.collectionReadTimeIndex}return Xs(a).$t(y,function(R,L,ee){if(R.length===_){var Y=Mu(h.R,L);c.path.isPrefixOf(Y.key.path)?Gl(c,Y)&&(g=g.insert(Y.key,Y)):ee.done()}}).next(function(){return g})},u.prototype.newChangeBuffer=function(a){return new kc(this,!!a&&a.trackRemovals)},u.prototype.getSize=function(a){return this.getMetadata(a).next(function(c){return c.byteSize})},u.prototype.getMetadata=function(a){return i1(a).get(Oo.key).next(function(c){return rt(!!c),c})},u.prototype.me=function(a,c){return i1(a).put(Oo.key,c)},u.prototype.ye=function(a,c){if(c){var d=Mu(this.R,c);if(!d.isNoDocument()||!d.version.isEqual(Lt.min()))return d}return ei.newInvalidDocument(a)},u}(),kc=function(u){function a(c,d){var h=this;return(h=u.call(this)||this).Ie=c,h.trackRemovals=d,h.Ae=new Ql(function(g){return g.toString()},function(g,_){return g.isEqual(_)}),h}return(0,I.ZT)(a,u),a.prototype.applyChanges=function(c){var d=this,h=[],g=0,_=new Vr(function(y,D){return dt(y.canonicalString(),D.canonicalString())});return this.changes.forEach(function(y,D){var T=d.Ae.get(y);if(D.document.isValidDocument()){var N=Dv(d.Ie.R,D.document,d.getReadTime(y));_=_.add(y.path.popLast());var R=dg(N);g+=R-T,h.push(d.Ie.addEntry(c,y,N))}else if(g-=T,d.trackRemovals){var L=Dv(d.Ie.R,ei.newNoDocument(y,Lt.min()),d.getReadTime(y));h.push(d.Ie.addEntry(c,y,L))}else h.push(d.Ie.removeEntry(c,y))}),_.forEach(function(y){h.push(d.Ie.Ut.addToCollectionParentIndex(c,y))}),h.push(this.Ie.updateMetadata(c,g)),Se.waitFor(h)},a.prototype.getFromCache=function(c,d){var h=this;return this.Ie.ge(c,d).next(function(g){return h.Ae.set(d,g.size),g.document})},a.prototype.getAllFromCache=function(c,d){var h=this;return this.Ie.Ee(c,d).next(function(g){var _=g.documents;return g.Te.forEach(function(y,D){h.Ae.set(y,D)}),_})},a}(co);function i1(u){return mi(u,Oo.store)}function Xs(u){return mi(u,gr.store)}function Kf(u){return u.path.toArray()}var o1=function(){function u(a){this.R=a}return u.prototype.Rt=function(a,c,d,h){var g=this;rt(d<h&&d>=0&&h<=11);var D,_=new Gf("createOrUpgrade",c);d<1&&h>=1&&(a.createObjectStore(Ao.store),(D=a).createObjectStore(ys.store,{keyPath:ys.keyPath}),D.createObjectStore(Jn.store,{keyPath:Jn.keyPath,autoIncrement:!0}).createIndex(Jn.userMutationsIndex,Jn.userMutationsKeyPath,{unique:!0}),D.createObjectStore(xi.store),Iv(a),function(D){D.createObjectStore(gr.store)}(a));var y=Se.resolve();return d<3&&h>=3&&(0!==d&&(function(D){D.deleteObjectStore(pi.store),D.deleteObjectStore(ri.store),D.deleteObjectStore(gi.store)}(a),Iv(a)),y=y.next(function(){return function(D){var T=D.store(gi.store),N=new gi(0,0,Lt.min().toTimestamp(),0);return T.put(gi.key,N)}(_)})),d<4&&h>=4&&(0!==d&&(y=y.next(function(){return function(D,T){return T.store(Jn.store).Nt().next(function(N){D.deleteObjectStore(Jn.store),D.createObjectStore(Jn.store,{keyPath:Jn.keyPath,autoIncrement:!0}).createIndex(Jn.userMutationsIndex,Jn.userMutationsKeyPath,{unique:!0});var R=T.store(Jn.store),L=N.map(function(ee){return R.put(ee)});return Se.waitFor(L)})}(a,_)})),y=y.next(function(){!function(D){D.createObjectStore(xo.store,{keyPath:xo.keyPath})}(a)})),d<5&&h>=5&&(y=y.next(function(){return g.Re(_)})),d<6&&h>=6&&(y=y.next(function(){return function(D){D.createObjectStore(Oo.store)}(a),g.be(_)})),d<7&&h>=7&&(y=y.next(function(){return g.ve(_)})),d<8&&h>=8&&(y=y.next(function(){return g.Pe(a,_)})),d<9&&h>=9&&(y=y.next(function(){(function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")})(a),function(D){var T=D.objectStore(gr.store);T.createIndex(gr.readTimeIndex,gr.readTimeIndexPath,{unique:!1}),T.createIndex(gr.collectionReadTimeIndex,gr.collectionReadTimeIndexPath,{unique:!1})}(c)})),d<10&&h>=10&&(y=y.next(function(){return g.Ve(_)})),d<11&&h>=11&&(y=y.next(function(){(function(D){D.createObjectStore(Wl.store,{keyPath:Wl.keyPath})})(a),function(D){D.createObjectStore(Eu.store,{keyPath:Eu.keyPath})}(a)})),y},u.prototype.be=function(a){var c=0;return a.store(gr.store).$t(function(d,h){c+=dg(h)}).next(function(){var d=new Oo(c);return a.store(Oo.store).put(Oo.key,d)})},u.prototype.Re=function(a){var c=this,d=a.store(ys.store),h=a.store(Jn.store);return d.Nt().next(function(g){return Se.forEach(g,function(_){var y=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return h.Nt(Jn.userMutationsIndex,y).next(function(D){return Se.forEach(D,function(T){rt(T.userId===_.userId);var N=Oc(c.R,T);return e1(a,_.userId,N).next(function(){})})})})})},u.prototype.ve=function(a){var c=a.store(pi.store),d=a.store(gr.store);return a.store(gi.store).get(gi.key).next(function(h){var g=[];return d.$t(function(_,y){var D=new pn(_),T=[0,No(D)];g.push(c.get(T).next(function(N){return N?Se.resolve():c.put(new pi(0,No(D),h.highestListenSequenceNumber))}))}).next(function(){return Se.waitFor(g)})})},u.prototype.Pe=function(a,c){a.createObjectStore(Qs.store,{keyPath:Qs.keyPath});var d=c.store(Qs.store),h=new Ra,g=function(_){if(h.add(_)){var y=_.lastSegment(),D=_.popLast();return d.put({collectionId:y,parent:No(D)})}};return c.store(gr.store).$t({Ft:!0},function(_,y){var D=new pn(_);return g(D.popLast())}).next(function(){return c.store(xi.store).$t({Ft:!0},function(_,y){var T=_o(_[1]);return g(T.popLast())})})},u.prototype.Ve=function(a){var c=this,d=a.store(ri.store);return d.$t(function(h,g){var _=xc(g),y=Oa(c.R,_);return d.put(y)})},u}();function Iv(u){u.createObjectStore(pi.store,{keyPath:pi.keyPath}).createIndex(pi.documentTargetsIndex,pi.documentTargetsKeyPath,{unique:!0}),u.createObjectStore(ri.store,{keyPath:ri.keyPath}).createIndex(ri.queryTargetsIndexName,ri.queryTargetsKeyPath,{unique:!0}),u.createObjectStore(gi.store)}var pg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",s1=function(){function u(a,c,d,h,g,_,y,D,T,N){if(this.allowTabSynchronization=a,this.persistenceKey=c,this.clientId=d,this.Se=g,this.window=_,this.document=y,this.De=T,this.Ce=N,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(R){return Promise.resolve()},!u.yt())throw new _e(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HE(this,h),this.Le=c+"main",this.R=new ug(D),this.Be=new Su(this.Le,11,new o1(this.R)),this.qe=new n1(this.referenceDelegate,this.R),this.Ut=new jE,this.Ue=new hg(this.R,this.Ut),this.Ke=new Rc,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===N&&it("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return u.prototype.start=function(){var a=this;return this.je().then(function(){if(!a.isPrimary&&!a.allowTabSynchronization)throw new _e(oe.FAILED_PRECONDITION,pg);return a.We(),a.Ge(),a.ze(),a.runTransaction("getHighestListenSequenceNumber","readonly",function(c){return a.qe.getHighestSequenceNumber(c)})}).then(function(c){a.Ne=new hi(c,a.De)}).then(function(){a.xe=!0}).catch(function(c){return a.Be&&a.Be.close(),Promise.reject(c)})},u.prototype.He=function(a){var c=this;return this.Me=function(d){return(0,I.mG)(c,void 0,void 0,function(){return(0,I.Jh)(this,function(h){return this.started?[2,a(d)]:[2]})})},a(this.isPrimary)},u.prototype.setDatabaseDeletedListener=function(a){var c=this;this.Be.vt(function(d){return(0,I.mG)(c,void 0,void 0,function(){return(0,I.Jh)(this,function(h){switch(h.label){case 0:return null===d.newVersion?[4,a()]:[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}})})})},u.prototype.setNetworkEnabled=function(a){var c=this;this.networkEnabled!==a&&(this.networkEnabled=a,this.Se.enqueueAndForget(function(){return(0,I.mG)(c,void 0,void 0,function(){return(0,I.Jh)(this,function(d){switch(d.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})}))},u.prototype.je=function(){var a=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(c){return Fc(c).put(new xo(a.clientId,Date.now(),a.networkEnabled,a.inForeground)).next(function(){if(a.isPrimary)return a.Je(c).next(function(d){d||(a.isPrimary=!1,a.Se.enqueueRetryable(function(){return a.Me(!1)}))})}).next(function(){return a.Ye(c)}).next(function(d){return a.isPrimary&&!d?a.Xe(c).next(function(){return!1}):!!d&&a.Ze(c).next(function(){return!0})})}).catch(function(c){if(Iu(c))return xe("IndexedDbPersistence","Failed to extend owner lease: ",c),a.isPrimary;if(!a.allowTabSynchronization)throw c;return xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",c),!1}).then(function(c){a.isPrimary!==c&&a.Se.enqueueRetryable(function(){return a.Me(c)}),a.isPrimary=c})},u.prototype.Je=function(a){var c=this;return Yl(a).get(Ao.key).next(function(d){return Se.resolve(c.tn(d))})},u.prototype.en=function(a){return Fc(a).delete(this.clientId)},u.prototype.nn=function(){return(0,I.mG)(this,void 0,void 0,function(){var a,c,d,g=this;return(0,I.Jh)(this,function(_){switch(_.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(y){var D=mi(y,xo.store);return D.Nt().next(function(T){var N=g.rn(T,18e5),R=T.filter(function(L){return-1===N.indexOf(L)});return Se.forEach(R,function(L){return D.delete(L.clientId)}).next(function(){return R})})}).catch(function(){return[]})]);case 1:if(a=_.sent(),this.Qe)for(c=0,d=a;c<d.length;c++)this.Qe.removeItem(this.on(d[c].clientId));_.label=2;case 2:return[2]}})})},u.prototype.ze=function(){var a=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return a.je().then(function(){return a.nn()}).then(function(){return a.ze()})})},u.prototype.tn=function(a){return!!a&&a.ownerId===this.clientId},u.prototype.Ye=function(a){var c=this;return this.Ce?Se.resolve(!0):Yl(a).get(Ao.key).next(function(d){if(null!==d&&c.sn(d.leaseTimestampMs,5e3)&&!c.cn(d.ownerId)){if(c.tn(d)&&c.networkEnabled)return!0;if(!c.tn(d)){if(!d.allowTabSynchronization)throw new _e(oe.FAILED_PRECONDITION,pg);return!1}}return!(!c.networkEnabled||!c.inForeground)||Fc(a).Nt().next(function(h){return void 0===c.rn(h,5e3).find(function(g){return!(c.clientId===g.clientId||!(!c.networkEnabled&&g.networkEnabled||!c.inForeground&&g.inForeground&&c.networkEnabled===g.networkEnabled))})})}).next(function(d){return c.isPrimary!==d&&xe("IndexedDbPersistence","Client "+(d?"is":"is not")+" eligible for a primary lease."),d})},u.prototype.shutdown=function(){return(0,I.mG)(this,void 0,void 0,function(){var a=this;return(0,I.Jh)(this,function(c){switch(c.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ao.store,xo.store],function(d){var h=new wv(d,hi.o);return a.Xe(h).next(function(){return a.en(h)})})];case 1:return c.sent(),this.Be.close(),this.ln(),[2]}})})},u.prototype.rn=function(a,c){var d=this;return a.filter(function(h){return d.sn(h.updateTimeMs,c)&&!d.cn(h.clientId)})},u.prototype.fn=function(){var a=this;return this.runTransaction("getActiveClients","readonly",function(c){return Fc(c).Nt().next(function(d){return a.rn(d,18e5).map(function(h){return h.clientId})})})},Object.defineProperty(u.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),u.prototype.getMutationQueue=function(a){return UE.Qt(a,this.R,this.Ut,this.referenceDelegate)},u.prototype.getTargetCache=function(){return this.qe},u.prototype.getRemoteDocumentCache=function(){return this.Ue},u.prototype.getIndexManager=function(){return this.Ut},u.prototype.getBundleCache=function(){return this.Ke},u.prototype.runTransaction=function(a,c,d){var g,h=this;return xe("IndexedDbPersistence","Starting transaction:",a),this.Be.runTransaction(a,"readonly"===c?"readonly":"readwrite",vv,function(y){return g=new wv(y,h.Ne?h.Ne.next():hi.o),"readwrite-primary"===c?h.Je(g).next(function(D){return!!D||h.Ye(g)}).next(function(D){if(!D)throw it("Failed to obtain primary lease for action '"+a+"'."),h.isPrimary=!1,h.Se.enqueueRetryable(function(){return h.Me(!1)}),new _e(oe.FAILED_PRECONDITION,yv);return d(g)}).next(function(D){return h.Ze(g).next(function(){return D})}):h.dn(g).next(function(){return d(g)})}).then(function(y){return g.raiseOnCommittedEvent(),y})},u.prototype.dn=function(a){var c=this;return Yl(a).get(Ao.key).next(function(d){if(null!==d&&c.sn(d.leaseTimestampMs,5e3)&&!c.cn(d.ownerId)&&!c.tn(d)&&!(c.Ce||c.allowTabSynchronization&&d.allowTabSynchronization))throw new _e(oe.FAILED_PRECONDITION,pg)})},u.prototype.Ze=function(a){var c=new Ao(this.clientId,this.allowTabSynchronization,Date.now());return Yl(a).put(Ao.key,c)},u.yt=function(){return Su.yt()},u.prototype.Xe=function(a){var c=this,d=Yl(a);return d.get(Ao.key).next(function(h){return c.tn(h)?(xe("IndexedDbPersistence","Releasing primary lease."),d.delete(Ao.key)):Se.resolve()})},u.prototype.sn=function(a,c){var d=Date.now();return!(a<d-c||a>d&&(it("Detected an update time that is in the future: "+a+" > "+d),1))},u.prototype.We=function(){var a=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){a.Se.enqueueAndForget(function(){return a.inForeground="visible"===a.document.visibilityState,a.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},u.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},u.prototype.Ge=function(){var a,c=this;"function"==typeof(null===(a=this.window)||void 0===a?void 0:a.addEventListener)&&(this.ke=function(){c.un(),(0,We.G6)()&&navigator.appVersion.match("Version/14")&&c.Se.enterRestrictedMode(!0),c.Se.enqueueAndForget(function(){return c.shutdown()})},this.window.addEventListener("pagehide",this.ke))},u.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},u.prototype.cn=function(a){var c;try{var d=null!==(null===(c=this.Qe)||void 0===c?void 0:c.getItem(this.on(a)));return xe("IndexedDbPersistence","Client '"+a+"' "+(d?"is":"is not")+" zombied in LocalStorage"),d}catch(h){return it("IndexedDbPersistence","Failed to get zombied client id.",h),!1}},u.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(a){it("Failed to set zombie client id.",a)}},u.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},u.prototype.on=function(a){return"firestore_zombie_"+this.persistenceKey+"_"+a},u}();function Yl(u){return mi(u,Ao.store)}function Fc(u){return mi(u,xo.store)}function Lc(u,a){var c=u.projectId;return u.isDefaultDatabase||(c+="."+u.database),"firestore/"+a+"/"+c+"/"}var a1=function(u,a){this.progress=u,this.wn=a},Jl=function(){function u(a,c,d){this.Ue=a,this._n=c,this.Ut=d}return u.prototype.mn=function(a,c){var d=this;return this._n.getAllMutationBatchesAffectingDocumentKey(a,c).next(function(h){return d.yn(a,c,h)})},u.prototype.yn=function(a,c,d){return this.Ue.getEntry(a,c).next(function(h){for(var g=0,_=d;g<_.length;g++)_[g].applyToLocalView(h);return h})},u.prototype.gn=function(a,c){a.forEach(function(d,h){for(var g=0,_=c;g<_.length;g++)_[g].applyToLocalView(h)})},u.prototype.pn=function(a,c){var d=this;return this.Ue.getEntries(a,c).next(function(h){return d.En(a,h).next(function(){return h})})},u.prototype.En=function(a,c){var d=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(a,c).next(function(h){return d.gn(c,h)})},u.prototype.getDocumentsMatchingQuery=function(a,c,d){return at.isDocumentKey((h=c).path)&&null===h.collectionGroup&&0===h.filters.length?this.Tn(a,c.path):$p(c)?this.In(a,c,d):this.An(a,c,d);var h},u.prototype.Tn=function(a,c){return this.mn(a,new at(c)).next(function(d){var h=Br();return d.isFoundDocument()&&(h=h.insert(d.key,d)),h})},u.prototype.In=function(a,c,d){var h=this,g=c.collectionGroup,_=Br();return this.Ut.getCollectionParents(a,g).next(function(y){return Se.forEach(y,function(D){var N,R,T=(N=c,R=D.child(g),new Zo(R,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt));return h.An(a,T,d).next(function(N){N.forEach(function(R,L){_=_.insert(R,L)})})}).next(function(){return _})})},u.prototype.An=function(a,c,d){var h,g,_=this;return this.Ue.getDocumentsMatchingQuery(a,c,d).next(function(y){return h=y,_._n.getAllMutationBatchesAffectingQuery(a,c)}).next(function(y){return _.Rn(a,g=y,h).next(function(D){h=D;for(var T=0,N=g;T<N.length;T++)for(var R=N[T],L=0,ee=R.mutations;L<ee.length;L++){var Y=ee[L],le=Y.key,Ae=h.get(le);null==Ae&&(Ae=ei.newInvalidDocument(le),h=h.insert(le,Ae)),gs(Y,Ae,R.localWriteTime),Ae.isFoundDocument()||(h=h.remove(le))}})}).next(function(){return h.forEach(function(y,D){Gl(c,D)||(h=h.remove(y))}),h})},u.prototype.Rn=function(a,c,d){for(var h=_n(),g=0,_=c;g<_.length;g++)for(var y=0,D=_[g].mutations;y<D.length;y++){var T=D[y];T instanceof Ws&&null===d.get(T.key)&&(h=h.add(T.key))}var N=d;return this.Ue.getEntries(a,h).next(function(R){return R.forEach(function(L,ee){ee.isFoundDocument()&&(N=N.insert(L,ee))}),N})},u}(),u1=function(){function u(a,c,d,h){this.targetId=a,this.fromCache=c,this.bn=d,this.vn=h}return u.Pn=function(a,c){for(var d=_n(),h=_n(),g=0,_=c.docChanges;g<_.length;g++){var y=_[g];switch(y.type){case 0:d=d.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}}return new u(a,c.fromCache,d,h)},u}(),Xl=function(){function u(){}return u.prototype.Vn=function(a){this.Sn=a},u.prototype.getDocumentsMatchingQuery=function(a,c,d,h){var _,g=this;return 0===(_=c).filters.length&&null===_.limit&&null==_.startAt&&null==_.endAt&&(0===_.explicitOrderBy.length||1===_.explicitOrderBy.length&&_.explicitOrderBy[0].field.isKeyField())||d.isEqual(Lt.min())?this.Dn(a,c):this.Sn.pn(a,h).next(function(_){var y=g.Cn(c,_);return(Af(c)||$l(c))&&g.Nn(c.limitType,y,h,d)?g.Dn(a,c):(gu()<=nt.in.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),J_(c)),g.Sn.getDocumentsMatchingQuery(a,c,d).next(function(D){return y.forEach(function(T){D=D.insert(T.key,T)}),D}))})},u.prototype.Cn=function(a,c){var d=new Vr(Fr(a));return c.forEach(function(h,g){Gl(a,g)&&(d=d.add(g))}),d},u.prototype.Nn=function(a,c,d,h){if(d.size!==c.size)return!0;var g="F"===a?c.last():c.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(h)>0)},u.prototype.Dn=function(a,c){return gu()<=nt.in.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",J_(c)),this.Sn.getDocumentsMatchingQuery(a,c,Lt.min())},u}(),c1=function(){function u(a,c,d,h){this.persistence=a,this.xn=c,this.R=h,this.kn=new Ai(dt),this.Fn=new Ql(function(g){return _u(g)},Dc),this.$n=Lt.min(),this._n=a.getMutationQueue(d),this.On=a.getRemoteDocumentCache(),this.qe=a.getTargetCache(),this.Mn=new Jl(this.On,this._n,this.persistence.getIndexManager()),this.Ke=a.getBundleCache(),this.xn.Vn(this.Mn)}return u.prototype.collectGarbage=function(a){var c=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(d){return a.collect(d,c.kn)})},u}();function gg(u,a,c,d){return new c1(u,a,c,d)}function Qf(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c,d,h,g;return(0,I.Jh)(this,function(_){switch(_.label){case 0:return c=Be(u),d=c._n,h=c.Mn,[4,c.persistence.runTransaction("Handle user change","readonly",function(y){var D;return c._n.getAllMutationBatches(y).next(function(T){return D=T,d=c.persistence.getMutationQueue(a),h=new Jl(c.On,d,c.persistence.getIndexManager()),d.getAllMutationBatches(y)}).next(function(T){for(var N=[],R=[],L=_n(),ee=0,Y=D;ee<Y.length;ee++){var le=Y[ee];N.push(le.batchId);for(var Ae=0,Le=le.mutations;Ae<Le.length;Ae++)L=L.add(Le[Ae].key)}for(var ct=0,zt=T;ct<zt.length;ct++){var on=zt[ct];R.push(on.batchId);for(var Cn=0,Li=on.mutations;Cn<Li.length;Cn++)L=L.add(Li[Cn].key)}return h.pn(y,L).next(function(il){return{Ln:il,removedBatchIds:N,addedBatchIds:R}})})})];case 1:return g=_.sent(),[2,(c._n=d,c.Mn=h,c.xn.Vn(c.Mn),g)]}})})}function Yf(u,a){var c=Be(u);return c.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(d){var _,y,D,T,N,R,L,h=a.batch.keys(),g=c.On.newChangeBuffer({trackRemovals:!0});return(_=c,y=d,D=a,T=g,N=D.batch,R=N.keys(),L=Se.resolve(),R.forEach(function(ee){L=L.next(function(){return T.getEntry(y,ee)}).next(function(Y){var le=D.docVersions.get(ee);rt(null!==le),Y.version.compareTo(le)<0&&(N.applyToRemoteDocument(Y,D),Y.isValidDocument()&&T.addEntry(Y,D.commitVersion))})}),L.next(function(){return _._n.removeMutationBatch(y,N)})).next(function(){return g.apply(d)}).next(function(){return c._n.performConsistencyCheck(d)}).next(function(){return c.Mn.pn(d,h)})})}function mg(u){var a=Be(u);return a.persistence.runTransaction("Get last remote snapshot version","readonly",function(c){return a.qe.getLastRemoteSnapshotVersion(c)})}function l1(u,a){var c=Be(u),d=a.snapshotVersion,h=c.kn;return c.persistence.runTransaction("Apply remote event","readwrite-primary",function(g){var _=c.On.newChangeBuffer({trackRemovals:!0});h=c.kn;var y=[];a.targetChanges.forEach(function(N,R){var le,Ae,Le,L=h.get(R);if(L){y.push(c.qe.removeMatchingKeys(g,N.removedDocuments,R).next(function(){return c.qe.addMatchingKeys(g,N.addedDocuments,R)}));var ee=N.resumeToken;if(ee.approximateByteSize()>0){var Y=L.withResumeToken(ee,d).withSequenceNumber(g.currentSequenceNumber);h=h.insert(R,Y),le=L,Le=N,rt((Ae=Y).resumeToken.approximateByteSize()>0),(0===le.resumeToken.approximateByteSize()||Ae.snapshotVersion.toMicroseconds()-le.snapshotVersion.toMicroseconds()>=3e8||Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0)&&y.push(c.qe.updateTargetData(g,Y))}}});var D=Ye();if(a.documentUpdates.forEach(function(N,R){a.resolvedLimboDocuments.has(N)&&y.push(c.persistence.referenceDelegate.updateLimboDocument(g,N))}),y.push(Mv(g,_,a.documentUpdates,d,void 0).next(function(N){D=N})),!d.isEqual(Lt.min())){var T=c.qe.getLastRemoteSnapshotVersion(g).next(function(N){return c.qe.setTargetsMetadata(g,g.currentSequenceNumber,d)});y.push(T)}return Se.waitFor(y).next(function(){return _.apply(g)}).next(function(){return c.Mn.En(g,D)}).next(function(){return D})}).then(function(g){return c.kn=h,g})}function Mv(u,a,c,d,h){var g=_n();return c.forEach(function(_){return g=g.add(_)}),a.getEntries(u,g).next(function(_){var y=Ye();return c.forEach(function(D,T){var N=_.get(D),R=h?.get(D)||d;T.isNoDocument()&&T.version.isEqual(Lt.min())?(a.removeEntry(D,R),y=y.insert(D,T)):!N.isValidDocument()||T.version.compareTo(N.version)>0||0===T.version.compareTo(N.version)&&N.hasPendingWrites?(a.addEntry(T,R),y=y.insert(D,T)):xe("LocalStore","Ignoring outdated watch update for ",D,". Current version:",N.version," Watch version:",T.version)}),y})}function Vc(u,a){var c=Be(u);return c.persistence.runTransaction("Get next mutation batch","readonly",function(d){return void 0===a&&(a=-1),c._n.getNextMutationBatchAfterBatchId(d,a)})}function ws(u,a){var c=Be(u);return c.persistence.runTransaction("Allocate target","readwrite",function(d){var h;return c.qe.getTargetData(d,a).next(function(g){return g?Se.resolve(h=g):c.qe.allocateTargetId(d).next(function(_){return h=new Zl(a,_,0,d.currentSequenceNumber),c.qe.addTargetData(d,h).next(function(){return h})})})}).then(function(d){var h=c.kn.get(d.targetId);return(null===h||d.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(c.kn=c.kn.insert(d.targetId,d),c.Fn.set(a,d.targetId)),d})}function Bc(u,a,c){return(0,I.mG)(this,void 0,void 0,function(){var d,h,g,_;return(0,I.Jh)(this,function(y){switch(y.label){case 0:d=Be(u),h=d.kn.get(a),g=c?"readwrite":"readwrite-primary",y.label=1;case 1:return y.trys.push([1,4,,5]),c?[3,3]:[4,d.persistence.runTransaction("Release target",g,function(D){return d.persistence.referenceDelegate.removeTarget(D,h)})];case 2:y.sent(),y.label=3;case 3:return[3,5];case 4:if(!Iu(_=y.sent()))throw _;return xe("LocalStore","Failed to update sequence numbers for target "+a+": "+_),[3,5];case 5:return d.kn=d.kn.remove(a),d.Fn.delete(h.target),[2]}})})}function _g(u,a,c){var d=Be(u),h=Lt.min(),g=_n();return d.persistence.runTransaction("Execute query","readonly",function(_){return(y=d,D=_,T=mo(a),N=Be(y),R=N.Fn.get(T),void 0!==R?Se.resolve(N.kn.get(R)):N.qe.getTargetData(D,T)).next(function(y){if(y)return h=y.lastLimboFreeSnapshotVersion,d.qe.getMatchingKeysForTargetId(_,y.targetId).next(function(D){g=D})}).next(function(){return d.xn.getDocumentsMatchingQuery(_,a,c?h:Lt.min(),c?g:_n())}).next(function(y){return{documents:y,Bn:g}});var y,D,T,N,R})}function vg(u,a){var c=Be(u),d=Be(c.qe),h=c.kn.get(a);return h?Promise.resolve(h.target):c.persistence.runTransaction("Get target data","readonly",function(g){return d.lt(g,a).next(function(_){return _?_.target:null})})}function Nv(u){var a=Be(u);return a.persistence.runTransaction("Get new document changes","readonly",function(c){return h=c,g=a.$n,_=Be(a.On),y=Ye(),D=_i(g),T=Xs(h),N=IDBKeyRange.lowerBound(D,!0),T.$t({index:gr.readTimeIndex,range:N},function(R,L){var ee=Mu(_.R,L);y=y.insert(ee.key,ee),D=L.readTime}).next(function(){return{wn:y,readTime:Cv(D)}});var h,g,_,y,D,T,N}).then(function(c){var d=c.wn;return a.$n=c.readTime,d})}function $E(u){return(0,I.mG)(this,void 0,void 0,function(){var a;return(0,I.Jh)(this,function(c){return[2,(a=Be(u)).persistence.runTransaction("Synchronize last document change read time","readonly",function(d){return g=Xs(d),_=Lt.min(),g.$t({index:gr.readTimeIndex,reverse:!0},function(y,D,T){D.readTime&&(_=Cv(D.readTime)),T.done()}).next(function(){return _});var g,_}).then(function(d){a.$n=d})]})})}function d1(u,a,c,d){return(0,I.mG)(this,void 0,void 0,function(){var h,g,_,y,D,T,N,R,L,ee;return(0,I.Jh)(this,function(Y){switch(Y.label){case 0:for(h=Be(u),g=_n(),_=Ye(),y=Mc(),D=0,T=c;D<T.length;D++)R=a.qn((N=T[D]).metadata.name),N.document&&(g=g.add(R)),_=_.insert(R,a.Un(N)),y=y.insert(R,a.Kn(N.metadata.readTime));return L=h.On.newChangeBuffer({trackRemovals:!0}),[4,ws(h,(le=d,mo(Hl(pn.fromString("__bundle__/docs/"+le)))))];case 1:return ee=Y.sent(),[2,h.persistence.runTransaction("Apply bundle documents","readwrite",function(le){return Mv(le,L,_,Lt.min(),y).next(function(Ae){return L.apply(le),Ae}).next(function(Ae){return h.qe.removeMatchingKeysForTargetId(le,ee.targetId).next(function(){return h.qe.addMatchingKeys(le,g,ee.targetId)}).next(function(){return h.Mn.En(le,Ae)}).next(function(){return Ae})})})]}var le})})}function f1(u,a,c){return void 0===c&&(c=_n()),(0,I.mG)(this,void 0,void 0,function(){var d,h;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return[4,ws(u,mo(xa(a.bundledQuery)))];case 1:return d=g.sent(),[2,(h=Be(u)).persistence.runTransaction("Save named query","readwrite",function(_){var y=ni(a.readTime);if(d.snapshotVersion.compareTo(y)>=0)return h.Ke.saveNamedQuery(_,a);var D=d.withResumeToken(Wi.EMPTY_BYTE_STRING,y);return h.kn=h.kn.insert(D.targetId,D),h.qe.updateTargetData(_,D).next(function(){return h.qe.removeMatchingKeysForTargetId(_,d.targetId)}).next(function(){return h.qe.addMatchingKeys(_,c,d.targetId)}).next(function(){return h.Ke.saveNamedQuery(_,a)})})]}})})}var h1=function(){function u(a){this.R=a,this.Qn=new Map,this.jn=new Map}return u.prototype.getBundleMetadata=function(a,c){return Se.resolve(this.Qn.get(c))},u.prototype.saveBundleMetadata=function(a,c){var d;return this.Qn.set(c.id,{id:(d=c).id,version:d.version,createTime:ni(d.createTime)}),Se.resolve()},u.prototype.getNamedQuery=function(a,c){return Se.resolve(this.jn.get(c))},u.prototype.saveNamedQuery=function(a,c){return this.jn.set(c.name,{name:(d=c).name,query:xa(d.bundledQuery),readTime:ni(d.readTime)}),Se.resolve();var d},u}(),jc=function(){function u(){this.Wn=new Vr(Ur.Gn),this.zn=new Vr(Ur.Hn)}return u.prototype.isEmpty=function(){return this.Wn.isEmpty()},u.prototype.addReference=function(a,c){var d=new Ur(a,c);this.Wn=this.Wn.add(d),this.zn=this.zn.add(d)},u.prototype.Jn=function(a,c){var d=this;a.forEach(function(h){return d.addReference(h,c)})},u.prototype.removeReference=function(a,c){this.Yn(new Ur(a,c))},u.prototype.Xn=function(a,c){var d=this;a.forEach(function(h){return d.removeReference(h,c)})},u.prototype.Zn=function(a){var c=this,d=new at(new pn([])),h=new Ur(d,a),g=new Ur(d,a+1),_=[];return this.zn.forEachInRange([h,g],function(y){c.Yn(y),_.push(y.key)}),_},u.prototype.ts=function(){var a=this;this.Wn.forEach(function(c){return a.Yn(c)})},u.prototype.Yn=function(a){this.Wn=this.Wn.delete(a),this.zn=this.zn.delete(a)},u.prototype.es=function(a){var c=new at(new pn([])),d=new Ur(c,a),h=new Ur(c,a+1),g=_n();return this.zn.forEachInRange([d,h],function(_){g=g.add(_.key)}),g},u.prototype.containsKey=function(a){var c=new Ur(a,0),d=this.Wn.firstAfterOrEqual(c);return null!==d&&a.isEqual(d.key)},u}(),Ur=function(){function u(a,c){this.key=a,this.ns=c}return u.Gn=function(a,c){return at.comparator(a.key,c.key)||dt(a.ns,c.ns)},u.Hn=function(a,c){return dt(a.ns,c.ns)||at.comparator(a.key,c.key)},u}(),p1=function(){function u(a,c){this.Ut=a,this.referenceDelegate=c,this._n=[],this.ss=1,this.rs=new Vr(Ur.Gn)}return u.prototype.checkEmpty=function(a){return Se.resolve(0===this._n.length)},u.prototype.addMutationBatch=function(a,c,d,h){var g=this.ss;this.ss++;var _=new Ys(g,c,d,h);this._n.push(_);for(var y=0,D=h;y<D.length;y++){var T=D[y];this.rs=this.rs.add(new Ur(T.key,g)),this.Ut.addToCollectionParentIndex(a,T.key.path.popLast())}return Se.resolve(_)},u.prototype.lookupMutationBatch=function(a,c){return Se.resolve(this.os(c))},u.prototype.getNextMutationBatchAfterBatchId=function(a,c){var h=this.cs(c+1),g=h<0?0:h;return Se.resolve(this._n.length>g?this._n[g]:null)},u.prototype.getHighestUnacknowledgedBatchId=function(){return Se.resolve(0===this._n.length?-1:this.ss-1)},u.prototype.getAllMutationBatches=function(a){return Se.resolve(this._n.slice())},u.prototype.getAllMutationBatchesAffectingDocumentKey=function(a,c){var d=this,h=new Ur(c,0),g=new Ur(c,Number.POSITIVE_INFINITY),_=[];return this.rs.forEachInRange([h,g],function(y){var D=d.os(y.ns);_.push(D)}),Se.resolve(_)},u.prototype.getAllMutationBatchesAffectingDocumentKeys=function(a,c){var d=this,h=new Vr(dt);return c.forEach(function(g){var _=new Ur(g,0),y=new Ur(g,Number.POSITIVE_INFINITY);d.rs.forEachInRange([_,y],function(D){h=h.add(D.ns)})}),Se.resolve(this.us(h))},u.prototype.getAllMutationBatchesAffectingQuery=function(a,c){var d=c.path,h=d.length+1,g=d;at.isDocumentKey(g)||(g=g.child(""));var _=new Ur(new at(g),0),y=new Vr(dt);return this.rs.forEachWhile(function(D){var T=D.key.path;return!!d.isPrefixOf(T)&&(T.length===h&&(y=y.add(D.ns)),!0)},_),Se.resolve(this.us(y))},u.prototype.us=function(a){var c=this,d=[];return a.forEach(function(h){var g=c.os(h);null!==g&&d.push(g)}),d},u.prototype.removeMutationBatch=function(a,c){var d=this;rt(0===this.hs(c.batchId,"removed")),this._n.shift();var h=this.rs;return Se.forEach(c.mutations,function(g){var _=new Ur(g.key,c.batchId);return h=h.delete(_),d.referenceDelegate.markPotentiallyOrphaned(a,g.key)}).next(function(){d.rs=h})},u.prototype.Gt=function(a){},u.prototype.containsKey=function(a,c){var d=new Ur(c,0),h=this.rs.firstAfterOrEqual(d);return Se.resolve(c.isEqual(h&&h.key))},u.prototype.performConsistencyCheck=function(a){return Se.resolve()},u.prototype.hs=function(a,c){return this.cs(a)},u.prototype.cs=function(a){return 0===this._n.length?0:a-this._n[0].batchId},u.prototype.os=function(a){var c=this.cs(a);return c<0||c>=this._n.length?null:this._n[c]},u}(),Av=function(){function u(a,c){this.Ut=a,this.ls=c,this.docs=new Ai(at.comparator),this.size=0}return u.prototype.addEntry=function(a,c,d){var h=c.key,g=this.docs.get(h),_=g?g.size:0,y=this.ls(c);return this.docs=this.docs.insert(h,{document:c.clone(),size:y,readTime:d}),this.size+=y-_,this.Ut.addToCollectionParentIndex(a,h.path.popLast())},u.prototype.removeEntry=function(a){var c=this.docs.get(a);c&&(this.docs=this.docs.remove(a),this.size-=c.size)},u.prototype.getEntry=function(a,c){var d=this.docs.get(c);return Se.resolve(d?d.document.clone():ei.newInvalidDocument(c))},u.prototype.getEntries=function(a,c){var d=this,h=Ye();return c.forEach(function(g){var _=d.docs.get(g);h=h.insert(g,_?_.document.clone():ei.newInvalidDocument(g))}),Se.resolve(h)},u.prototype.getDocumentsMatchingQuery=function(a,c,d){for(var h=Ye(),g=new at(c.path.child("")),_=this.docs.getIteratorFrom(g);_.hasNext();){var y=_.getNext(),T=y.value,N=T.document,R=T.readTime;if(!c.path.isPrefixOf(y.key.path))break;R.compareTo(d)<=0||Gl(c,N)&&(h=h.insert(N.key,N.clone()))}return Se.resolve(h)},u.prototype.fs=function(a,c){return Se.forEach(this.docs,function(d){return c(d)})},u.prototype.newChangeBuffer=function(a){return new GE(this)},u.prototype.getSize=function(a){return Se.resolve(this.size)},u}(),GE=function(u){function a(c){var d=this;return(d=u.call(this)||this).Ie=c,d}return(0,I.ZT)(a,u),a.prototype.applyChanges=function(c){var d=this,h=[];return this.changes.forEach(function(g,_){_.document.isValidDocument()?h.push(d.Ie.addEntry(c,_.document,d.getReadTime(g))):d.Ie.removeEntry(g)}),Se.waitFor(h)},a.prototype.getFromCache=function(c,d){return this.Ie.getEntry(c,d)},a.prototype.getAllFromCache=function(c,d){return this.Ie.getEntries(c,d)},a}(co),Ov=function(){function u(a){this.persistence=a,this.ds=new Ql(function(c){return _u(c)},Dc),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.ws=0,this._s=new jc,this.targetCount=0,this.ys=dr.Jt()}return u.prototype.forEachTarget=function(a,c){return this.ds.forEach(function(d,h){return c(h)}),Se.resolve()},u.prototype.getLastRemoteSnapshotVersion=function(a){return Se.resolve(this.lastRemoteSnapshotVersion)},u.prototype.getHighestSequenceNumber=function(a){return Se.resolve(this.ws)},u.prototype.allocateTargetId=function(a){return this.highestTargetId=this.ys.next(),Se.resolve(this.highestTargetId)},u.prototype.setTargetsMetadata=function(a,c,d){return d&&(this.lastRemoteSnapshotVersion=d),c>this.ws&&(this.ws=c),Se.resolve()},u.prototype.te=function(a){this.ds.set(a.target,a);var c=a.targetId;c>this.highestTargetId&&(this.ys=new dr(c),this.highestTargetId=c),a.sequenceNumber>this.ws&&(this.ws=a.sequenceNumber)},u.prototype.addTargetData=function(a,c){return this.te(c),this.targetCount+=1,Se.resolve()},u.prototype.updateTargetData=function(a,c){return this.te(c),Se.resolve()},u.prototype.removeTargetData=function(a,c){return this.ds.delete(c.target),this._s.Zn(c.targetId),this.targetCount-=1,Se.resolve()},u.prototype.removeTargets=function(a,c,d){var h=this,g=0,_=[];return this.ds.forEach(function(y,D){D.sequenceNumber<=c&&null===d.get(D.targetId)&&(h.ds.delete(y),_.push(h.removeMatchingKeysForTargetId(a,D.targetId)),g++)}),Se.waitFor(_).next(function(){return g})},u.prototype.getTargetCount=function(a){return Se.resolve(this.targetCount)},u.prototype.getTargetData=function(a,c){var d=this.ds.get(c)||null;return Se.resolve(d)},u.prototype.addMatchingKeys=function(a,c,d){return this._s.Jn(c,d),Se.resolve()},u.prototype.removeMatchingKeys=function(a,c,d){this._s.Xn(c,d);var h=this.persistence.referenceDelegate,g=[];return h&&c.forEach(function(_){g.push(h.markPotentiallyOrphaned(a,_))}),Se.waitFor(g)},u.prototype.removeMatchingKeysForTargetId=function(a,c){return this._s.Zn(c),Se.resolve()},u.prototype.getMatchingKeysForTargetId=function(a,c){var d=this._s.es(c);return Se.resolve(d)},u.prototype.containsKey=function(a,c){return Se.resolve(this._s.containsKey(c))},u}(),zE=function(){function u(a,c){var d=this;this.gs={},this.Ne=new hi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=a(this),this.qe=new Ov(this),this.Ut=new lg,this.Ue=new Av(this.Ut,function(_){return d.referenceDelegate.ps(_)}),this.R=new ug(c),this.Ke=new h1(this.R)}return u.prototype.start=function(){return Promise.resolve()},u.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(u.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),u.prototype.setDatabaseDeletedListener=function(){},u.prototype.setNetworkEnabled=function(){},u.prototype.getIndexManager=function(){return this.Ut},u.prototype.getMutationQueue=function(a){var c=this.gs[a.toKey()];return c||(c=new p1(this.Ut,this.referenceDelegate),this.gs[a.toKey()]=c),c},u.prototype.getTargetCache=function(){return this.qe},u.prototype.getRemoteDocumentCache=function(){return this.Ue},u.prototype.getBundleCache=function(){return this.Ke},u.prototype.runTransaction=function(a,c,d){var h=this;xe("MemoryPersistence","Starting transaction:",a);var g=new g1(this.Ne.next());return this.referenceDelegate.Es(),d(g).next(function(_){return h.referenceDelegate.Ts(g).next(function(){return _})}).toPromise().then(function(_){return g.raiseOnCommittedEvent(),_})},u.prototype.Is=function(a,c){return Se.or(Object.values(this.gs).map(function(d){return function(){return d.containsKey(a,c)}}))},u}(),g1=function(u){function a(c){var d=this;return(d=u.call(this)||this).currentSequenceNumber=c,d}return(0,I.ZT)(a,u),a}(Qo),m1=function(){function u(a){this.persistence=a,this.As=new jc,this.Rs=null}return u.bs=function(a){return new u(a)},Object.defineProperty(u.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw et()},enumerable:!1,configurable:!0}),u.prototype.addReference=function(a,c,d){return this.As.addReference(d,c),this.vs.delete(d.toString()),Se.resolve()},u.prototype.removeReference=function(a,c,d){return this.As.removeReference(d,c),this.vs.add(d.toString()),Se.resolve()},u.prototype.markPotentiallyOrphaned=function(a,c){return this.vs.add(c.toString()),Se.resolve()},u.prototype.removeTarget=function(a,c){var d=this;this.As.Zn(c.targetId).forEach(function(g){return d.vs.add(g.toString())});var h=this.persistence.getTargetCache();return h.getMatchingKeysForTargetId(a,c.targetId).next(function(g){g.forEach(function(_){return d.vs.add(_.toString())})}).next(function(){return h.removeTargetData(a,c)})},u.prototype.Es=function(){this.Rs=new Set},u.prototype.Ts=function(a){var c=this,d=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.vs,function(h){var g=at.fromPath(h);return c.Ps(a,g).next(function(_){_||d.removeEntry(g)})}).next(function(){return c.Rs=null,d.apply(a)})},u.prototype.updateLimboDocument=function(a,c){var d=this;return this.Ps(a,c).next(function(h){h?d.vs.delete(c.toString()):d.vs.add(c.toString())})},u.prototype.ps=function(a){return 0},u.prototype.Ps=function(a,c){var d=this;return Se.or([function(){return Se.resolve(d.As.containsKey(c))},function(){return d.persistence.getTargetCache().containsKey(a,c)},function(){return d.persistence.Is(a,c)}])},u}(),Hr=function(){function u(a){this.uid=a}return u.prototype.isAuthenticated=function(){return null!=this.uid},u.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},u.prototype.isEqual=function(a){return a.uid===this.uid},u}();function _1(u,a){return"firestore_clients_"+u+"_"+a}function v1(u,a,c){var d="firestore_mutations_"+u+"_"+c;return a.isAuthenticated()&&(d+="_"+a.uid),d}function ed(u,a){return"firestore_targets_"+u+"_"+a}Hr.UNAUTHENTICATED=new Hr(null),Hr.GOOGLE_CREDENTIALS=new Hr("google-credentials-uid"),Hr.FIRST_PARTY=new Hr("first-party-uid"),Hr.MOCK_USER=new Hr("mock-user");var y1=function(){function u(a,c,d,h){this.user=a,this.batchId=c,this.state=d,this.error=h}return u.Vs=function(a,c,d){var h,g=JSON.parse(d),_="object"==typeof g&&-1!==["pending","acknowledged","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error);return _&&g.error&&(_="string"==typeof g.error.message&&"string"==typeof g.error.code)&&(h=new _e(g.error.code,g.error.message)),_?new u(a,c,g.state,h):(it("SharedClientState","Failed to parse mutation state for ID '"+c+"': "+d),null)},u.prototype.Ss=function(){var a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)},u}(),xv=function(){function u(a,c,d){this.targetId=a,this.state=c,this.error=d}return u.Vs=function(a,c){var d,h=JSON.parse(c),g="object"==typeof h&&-1!==["not-current","current","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return g&&h.error&&(g="string"==typeof h.error.message&&"string"==typeof h.error.code)&&(d=new _e(h.error.code,h.error.message)),g?new u(a,h.state,d):(it("SharedClientState","Failed to parse target state for ID '"+a+"': "+c),null)},u.prototype.Ss=function(){var a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)},u}(),b1=function(){function u(a,c){this.clientId=a,this.activeTargetIds=c}return u.Vs=function(a,c){for(var d=JSON.parse(c),h="object"==typeof d&&d.activeTargetIds instanceof Array,g=Ff(),_=0;h&&_<d.activeTargetIds.length;++_)h=Hb(d.activeTargetIds[_]),g=g.add(d.activeTargetIds[_]);return h?new u(a,g):(it("SharedClientState","Failed to parse client data for instance '"+a+"': "+c),null)},u}(),qE=function(){function u(a,c){this.clientId=a,this.onlineState=c}return u.Vs=function(a){var c=JSON.parse(a);return"object"==typeof c&&-1!==["Unknown","Online","Offline"].indexOf(c.onlineState)&&"string"==typeof c.clientId?new u(c.clientId,c.onlineState):(it("SharedClientState","Failed to parse online state: "+a),null)},u}(),Rv=function(){function u(){this.activeTargetIds=Ff()}return u.prototype.Ds=function(a){this.activeTargetIds=this.activeTargetIds.add(a)},u.prototype.Cs=function(a){this.activeTargetIds=this.activeTargetIds.delete(a)},u.prototype.Ss=function(){var a={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(a)},u}(),yg=function(){function u(a,c,d,h,g){this.window=a,this.Se=c,this.persistenceKey=d,this.Ns=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ai(dt),this.started=!1,this.$s=[];var _=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.Os=_1(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Rv),this.Ls=new RegExp("^firestore_clients_"+_+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+_+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+_+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(y){return"firestore_bundle_loaded_"+y}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return u.yt=function(a){return!(!a||!a.localStorage)},u.prototype.start=function(){return(0,I.mG)(this,void 0,void 0,function(){var a,c,d,h,g,_,y,D,T,N,L=this;return(0,I.Jh)(this,function(ee){switch(ee.label){case 0:return[4,this.syncEngine.fn()];case 1:for(a=ee.sent(),c=0,d=a;c<d.length;c++)(h=d[c])!==this.Ns&&(g=this.getItem(_1(this.persistenceKey,h)))&&(_=b1.Vs(h,g))&&(this.Fs=this.Fs.insert(_.clientId,_));for(this.Qs(),(y=this.storage.getItem(this.Us))&&(D=this.js(y))&&this.Ws(D),T=0,N=this.$s;T<N.length;T++)this.ks(N[T]);return this.$s=[],this.window.addEventListener("pagehide",function(){return L.shutdown()}),this.started=!0,[2]}})})},u.prototype.writeSequenceNumber=function(a){this.setItem(this.Ms,JSON.stringify(a))},u.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},u.prototype.isActiveQueryTarget=function(a){var c=!1;return this.Fs.forEach(function(d,h){h.activeTargetIds.has(a)&&(c=!0)}),c},u.prototype.addPendingMutation=function(a){this.zs(a,"pending")},u.prototype.updateMutationState=function(a,c,d){this.zs(a,c,d),this.Hs(a)},u.prototype.addLocalQueryTarget=function(a){var c="not-current";if(this.isActiveQueryTarget(a)){var d=this.storage.getItem(ed(this.persistenceKey,a));if(d){var h=xv.Vs(a,d);h&&(c=h.state)}}return this.Js.Ds(a),this.Qs(),c},u.prototype.removeLocalQueryTarget=function(a){this.Js.Cs(a),this.Qs()},u.prototype.isLocalQueryTarget=function(a){return this.Js.activeTargetIds.has(a)},u.prototype.clearQueryState=function(a){this.removeItem(ed(this.persistenceKey,a))},u.prototype.updateQueryState=function(a,c,d){this.Ys(a,c,d)},u.prototype.handleUserChange=function(a,c,d){var h=this;c.forEach(function(g){h.Hs(g)}),this.currentUser=a,d.forEach(function(g){h.addPendingMutation(g)})},u.prototype.setOnlineState=function(a){this.Xs(a)},u.prototype.notifyBundleLoaded=function(){this.Zs()},u.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},u.prototype.getItem=function(a){var c=this.storage.getItem(a);return xe("SharedClientState","READ",a,c),c},u.prototype.setItem=function(a,c){xe("SharedClientState","SET",a,c),this.storage.setItem(a,c)},u.prototype.removeItem=function(a){xe("SharedClientState","REMOVE",a),this.storage.removeItem(a)},u.prototype.ks=function(a){var c=this,d=a;if(d.storageArea===this.storage){if(xe("SharedClientState","EVENT",d.key,d.newValue),d.key===this.Os)return void it("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,I.mG)(c,void 0,void 0,function(){var h,g,_,y,D,T;return(0,I.Jh)(this,function(N){if(this.started){if(null!==d.key)if(this.Ls.test(d.key)){if(null==d.newValue)return h=this.ti(d.key),[2,this.ei(h,null)];if(g=this.ni(d.key,d.newValue))return[2,this.ei(g.clientId,g)]}else if(this.Bs.test(d.key)){if(null!==d.newValue&&(_=this.si(d.key,d.newValue)))return[2,this.ii(_)]}else if(this.qs.test(d.key)){if(null!==d.newValue&&(y=this.ri(d.key,d.newValue)))return[2,this.oi(y)]}else if(d.key===this.Us){if(null!==d.newValue&&(D=this.js(d.newValue)))return[2,this.Ws(D)]}else if(d.key===this.Ms)(T=function(R){var L=hi.o;if(null!=R)try{var ee=JSON.parse(R);rt("number"==typeof ee),L=ee}catch(Y){it("SharedClientState","Failed to read sequence number from WebStorage",Y)}return L}(d.newValue))!==hi.o&&this.sequenceNumberHandler(T);else if(d.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(d);return[2]})})})}},Object.defineProperty(u.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),u.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},u.prototype.zs=function(a,c,d){var h=new y1(this.currentUser,a,c,d),g=v1(this.persistenceKey,this.currentUser,a);this.setItem(g,h.Ss())},u.prototype.Hs=function(a){var c=v1(this.persistenceKey,this.currentUser,a);this.removeItem(c)},u.prototype.Xs=function(a){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:a}))},u.prototype.Ys=function(a,c,d){var h=ed(this.persistenceKey,a),g=new xv(a,c,d);this.setItem(h,g.Ss())},u.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},u.prototype.ti=function(a){var c=this.Ls.exec(a);return c?c[1]:null},u.prototype.ni=function(a,c){var d=this.ti(a);return b1.Vs(d,c)},u.prototype.si=function(a,c){var d=this.Bs.exec(a),h=Number(d[1]);return y1.Vs(new Hr(void 0!==d[2]?d[2]:null),h,c)},u.prototype.ri=function(a,c){var d=this.qs.exec(a),h=Number(d[1]);return xv.Vs(h,c)},u.prototype.js=function(a){return qE.Vs(a)},u.prototype.ii=function(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(c){return a.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(a.batchId,a.state,a.error)]:(xe("SharedClientState","Ignoring mutation for non-active user "+a.user.uid),[2])})})},u.prototype.oi=function(a){return this.syncEngine.ai(a.targetId,a.state,a.error)},u.prototype.ei=function(a,c){var d=this,h=c?this.Fs.insert(a,c):this.Fs.remove(a),g=this.Gs(this.Fs),_=this.Gs(h),y=[],D=[];return _.forEach(function(T){g.has(T)||y.push(T)}),g.forEach(function(T){_.has(T)||D.push(T)}),this.syncEngine.hi(y,D).then(function(){d.Fs=h})},u.prototype.Ws=function(a){this.Fs.get(a.clientId)&&this.onlineStateHandler(a.onlineState)},u.prototype.Gs=function(a){var c=Ff();return a.forEach(function(d,h){c=c.unionWith(h.activeTargetIds)}),c},u}(),td=function(){function u(){this.li=new Rv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return u.prototype.addPendingMutation=function(a){},u.prototype.updateMutationState=function(a,c,d){},u.prototype.addLocalQueryTarget=function(a){return this.li.Ds(a),this.fi[a]||"not-current"},u.prototype.updateQueryState=function(a,c,d){this.fi[a]=c},u.prototype.removeLocalQueryTarget=function(a){this.li.Cs(a)},u.prototype.isLocalQueryTarget=function(a){return this.li.activeTargetIds.has(a)},u.prototype.clearQueryState=function(a){delete this.fi[a]},u.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},u.prototype.isActiveQueryTarget=function(a){return this.li.activeTargetIds.has(a)},u.prototype.start=function(){return this.li=new Rv,Promise.resolve()},u.prototype.handleUserChange=function(a,c,d){},u.prototype.setOnlineState=function(a){},u.prototype.shutdown=function(){},u.prototype.writeSequenceNumber=function(a){},u.prototype.notifyBundleLoaded=function(){},u}(),Jf=function(){function u(){}return u.prototype.di=function(a){},u.prototype.shutdown=function(){},u}(),bg=function(){function u(){var a=this;this.wi=function(){return a._i()},this.mi=function(){return a.yi()},this.gi=[],this.pi()}return u.prototype.di=function(a){this.gi.push(a)},u.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},u.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},u.prototype._i=function(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var a=0,c=this.gi;a<c.length;a++)(0,c[a])(0)},u.prototype.yi=function(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var a=0,c=this.gi;a<c.length;a++)(0,c[a])(1)},u.yt=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},u}(),Pv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},kv=function(){function u(a){this.Ei=a.Ei,this.Ti=a.Ti}return u.prototype.Ii=function(a){this.Ai=a},u.prototype.Ri=function(a){this.bi=a},u.prototype.onMessage=function(a){this.vi=a},u.prototype.close=function(){this.Ti()},u.prototype.send=function(a){this.Ei(a)},u.prototype.Pi=function(){this.Ai()},u.prototype.Vi=function(a){this.bi(a)},u.prototype.Si=function(a){this.vi(a)},u}(),Uc=function(u){function a(c){var d=this;return(d=u.call(this,c)||this).forceLongPolling=c.forceLongPolling,d.autoDetectLongPolling=c.autoDetectLongPolling,d.useFetchStreams=c.useFetchStreams,d}return(0,I.ZT)(a,u),a.prototype.Fi=function(c,d,h,g){return new Promise(function(_,y){var D=new pc;D.listenOnce(St.COMPLETE,function(){try{switch(D.getLastErrorCode()){case $s.NO_ERROR:var N=D.getResponseJson();xe("Connection","XHR received:",JSON.stringify(N)),_(N);break;case $s.TIMEOUT:xe("Connection",'RPC "'+c+'" timed out'),y(new _e(oe.DEADLINE_EXCEEDED,"Request time out"));break;case $s.HTTP_ERROR:var R=D.getStatus();if(xe("Connection",'RPC "'+c+'" failed with status:',R,"response text:",D.getResponseText()),R>0){var L=D.getResponseJson().error;if(L&&L.status&&L.message){var ee=(le=L.status.toLowerCase().replace(/_/g,"-"),Object.values(oe).indexOf(le)>=0?le:oe.UNKNOWN);y(new _e(ee,L.message))}else y(new _e(oe.UNKNOWN,"Server responded with status "+D.getStatus()))}else y(new _e(oe.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{xe("Connection",'RPC "'+c+'" completed.')}var le});var T=JSON.stringify(g);D.send(d,"POST",T,h,15)})},a.prototype.Oi=function(c,d){var h=[this.Di,"/","google.firestore.v1.Firestore","/",c,"/channel"],g=new Fn,_=bl(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new pu({})),this.ki(y.initMessageHeaders,d),(0,We.uI)()||(0,We.b$)()||(0,We.d)()||(0,We.w1)()||(0,We.Mn)()||(0,We.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");var D=h.join("");xe("Connection","Creating WebChannel: "+D,y);var T=g.createWebChannel(D,y),N=!1,R=!1,L=new kv({Ei:function(Y){R?xe("Connection","Not sending because WebChannel is closed:",Y):(N||(xe("Connection","Opening WebChannel transport."),T.open(),N=!0),xe("Connection","WebChannel sending:",Y),T.send(Y))},Ti:function(){return T.close()}}),ee=function(Y,le,Ae){Y.listen(le,function(Le){try{Ae(Le)}catch(ot){setTimeout(function(){throw ot},0)}})};return ee(T,qn.EventType.OPEN,function(){R||xe("Connection","WebChannel transport opened.")}),ee(T,qn.EventType.CLOSE,function(){R||(R=!0,xe("Connection","WebChannel transport closed"),L.Vi())}),ee(T,qn.EventType.ERROR,function(Y){R||(R=!0,Ef("Connection","WebChannel transport errored:",Y),L.Vi(new _e(oe.UNAVAILABLE,"The operation could not be completed")))}),ee(T,qn.EventType.MESSAGE,function(Y){var le;if(!R){var Ae=Y.data[0];rt(!!Ae);var ot=Ae.error||(null===(le=Ae[0])||void 0===le?void 0:le.error);if(ot){xe("Connection","WebChannel received error:",ot);var ct=ot.status,zt=function(Cn){var Li=Lr[Cn];if(void 0!==Li)return uv(Li)}(ct),on=ot.message;void 0===zt&&(zt=oe.INTERNAL,on="Unknown error status: "+ct+" with message "+ot.message),R=!0,L.Vi(new _e(zt,on)),T.close()}else xe("Connection","WebChannel received:",Ae),L.Si(Ae)}}),ee(_,hc.STAT_EVENT,function(Y){Y.stat===Cf_PROXY?xe("Connection","Detected buffering proxy"):Y.stat===Cf_NOPROXY&&xe("Connection","Detected no buffering proxy")}),setTimeout(function(){L.Pi()},0),L},a}(function(){function u(a){this.databaseInfo=a,this.databaseId=a.databaseId,this.Di=(a.ssl?"https":"http")+"://"+a.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return u.prototype.Ni=function(a,c,d,h){var g=this.xi(a,c);xe("RestConnection","Sending: ",g,d);var _={};return this.ki(_,h),this.Fi(a,g,_,d).then(function(y){return xe("RestConnection","Received: ",y),y},function(y){throw Ef("RestConnection",a+" failed with error: ",y,"url: ",g,"request:",d),y})},u.prototype.$i=function(a,c,d,h){return this.Ni(a,c,d,h)},u.prototype.ki=function(a,c){if(a["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",a["Content-Type"]="text/plain",this.databaseInfo.appId&&(a["X-Firebase-GMPID"]=this.databaseInfo.appId),c)for(var d in c.authHeaders)c.authHeaders.hasOwnProperty(d)&&(a[d]=c.authHeaders[d])},u.prototype.xi=function(a,c){return this.Di+"/v1/"+c+":"+Pv[a]},u}());function wg(){return typeof window<"u"?window:null}function nd(){return typeof document<"u"?document:null}function Pa(u){return new Xp(u,!0)}var Hc=function(){function u(a,c,d,h,g){void 0===d&&(d=1e3),void 0===h&&(h=1.5),void 0===g&&(g=6e4),this.Se=a,this.timerId=c,this.Mi=d,this.Li=h,this.Bi=g,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return u.prototype.reset=function(){this.qi=0},u.prototype.Qi=function(){this.qi=this.Bi},u.prototype.ji=function(a){var c=this;this.cancel();var d=Math.floor(this.qi+this.Wi()),h=Math.max(0,Date.now()-this.Ki),g=Math.max(0,d-h);g>0&&xe("ExponentialBackoff","Backing off for "+g+" ms (base delay: "+this.qi+" ms, delay with jitter: "+d+" ms, last attempt: "+h+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,g,function(){return c.Ki=Date.now(),a()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},u.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},u.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},u.prototype.Wi=function(){return(Math.random()-.5)*this.qi},u}(),ea=function(){function u(a,c,d,h,g,_){this.Se=a,this.zi=d,this.Hi=h,this.Ji=g,this.listener=_,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Hc(a,c)}return u.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},u.prototype.er=function(){return 2===this.state},u.prototype.start=function(){3!==this.state?this.auth():this.nr()},u.prototype.stop=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(a){switch(a.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},u.prototype.sr=function(){this.state=0,this.Zi.reset()},u.prototype.ir=function(){var a=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return a.rr()}))},u.prototype.cr=function(a){this.ur(),this.stream.send(a)},u.prototype.rr=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(a){return this.er()?[2,this.close(0)]:[2]})})},u.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},u.prototype.close=function(a,c){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(d){switch(d.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==a?this.Zi.reset():c&&c.code===oe.RESOURCE_EXHAUSTED?(it(c.toString()),it("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):c&&c.code===oe.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=a,[4,this.listener.Ri(c)];case 1:return d.sent(),[2]}})})},u.prototype.ar=function(){},u.prototype.auth=function(){var a=this;this.state=1;var c=this.hr(this.Yi),d=this.Yi;this.Ji.getToken().then(function(h){a.Yi===d&&a.lr(h)},function(h){c(function(){var g=new _e(oe.UNKNOWN,"Fetching auth token failed: "+h.message);return a.dr(g)})})},u.prototype.lr=function(a){var c=this,d=this.hr(this.Yi);this.stream=this.wr(a),this.stream.Ii(function(){d(function(){return c.state=2,c.listener.Ii()})}),this.stream.Ri(function(h){d(function(){return c.dr(h)})}),this.stream.onMessage(function(h){d(function(){return c.onMessage(h)})})},u.prototype.nr=function(){var a=this;this.state=4,this.Zi.ji(function(){return(0,I.mG)(a,void 0,void 0,function(){return(0,I.Jh)(this,function(c){return this.state=0,this.start(),[2]})})})},u.prototype.dr=function(a){return xe("PersistentStream","close with error: "+a),this.stream=null,this.close(3,a)},u.prototype.hr=function(a){var c=this;return function(d){c.Se.enqueueAndForget(function(){return c.Yi===a?d():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},u}(),w1=function(u){function a(c,d,h,g,_){var y=this;return(y=u.call(this,c,"listen_stream_connection_backoff","listen_stream_idle",d,h,_)||this).R=g,y}return(0,I.ZT)(a,u),a.prototype.wr=function(c){return this.Hi.Oi("Listen",c)},a.prototype.onMessage=function(c){this.Zi.reset();var d=function(g,_){var y,Ae;if("targetChange"in _){var D="NO_CHANGE"===(Ae=_.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ae?1:"REMOVE"===Ae?2:"CURRENT"===Ae?3:"RESET"===Ae?4:et(),T=_.targetChange.targetIds||[],N=function(Ae,Le){return Ae.I?(rt(void 0===Le||"string"==typeof Le),Wi.fromBase64String(Le||"")):(rt(void 0===Le||Le instanceof Uint8Array),Wi.fromUint8Array(Le||new Uint8Array))}(g,_.targetChange.resumeToken),R=(L=_.targetChange.cause)&&function(Ae){var Le=void 0===Ae.code?oe.UNKNOWN:uv(Ae.code);return new _e(Le,Ae.message||"")}(L);y=new Yp(D,T,N,R||null)}else if("documentChange"in _){T=Ko(g,(D=_.documentChange).document.name),N=ni(D.document.updateTime);var L=new ao({mapValue:{fields:D.document.fields}}),ee=(R=ei.newFoundDocument(T,N,L),D.targetIds||[]);y=new ti(ee,D.removedTargetIds||[],R.key,R)}else if("documentDelete"in _)T=Ko(g,(D=_.documentDelete).document),N=D.readTime?ni(D.readTime):Lt.min(),L=ei.newNoDocument(T,N),y=new ti([],R=D.removedTargetIds||[],L.key,L);else if("documentRemove"in _)T=Ko(g,(D=_.documentRemove).document),y=new ti([],N=D.removedTargetIds||[],T,null);else{if(!("filter"in _))return et();var le=_.filter;T=new av(D=le.count||0),y=new _s(N=le.targetId,T)}return y}(this.R,c),h=function(g){if(!("targetChange"in g))return Lt.min();var _=g.targetChange;return _.targetIds&&_.targetIds.length?Lt.min():_.readTime?ni(_.readTime):Lt.min()}(c);return this.listener._r(d,h)},a.prototype.mr=function(c){var g,_,y,D,d={};d.database=Du(this.R),d.addTarget=(g=this.R,(y=Vl(D=(_=c).target)?{documents:pv(g,D)}:{query:gv(g,D)}).targetId=_.targetId,_.resumeToken.approximateByteSize()>0?y.resumeToken=eg(g,_.resumeToken):_.snapshotVersion.compareTo(Lt.min())>0&&(y.readTime=wu(g,_.snapshotVersion.toTimestamp())),y);var h=function(g,_){var y=function(D,T){switch(T){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,_.purpose);return null==y?null:{"goog-listen-tags":y}}(0,c);h&&(d.labels=h),this.cr(d)},a.prototype.yr=function(c){var d={};d.database=Du(this.R),d.removeTarget=c,this.cr(d)},a}(ea),D1=function(u){function a(c,d,h,g,_){var y=this;return(y=u.call(this,c,"write_stream_connection_backoff","write_stream_idle",d,h,_)||this).R=g,y.gr=!1,y}return(0,I.ZT)(a,u),Object.defineProperty(a.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),a.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,u.prototype.start.call(this)},a.prototype.ar=function(){this.gr&&this.Er([])},a.prototype.wr=function(c){return this.Hi.Oi("Write",c)},a.prototype.onMessage=function(c){if(rt(!!c.streamToken),this.lastStreamToken=c.streamToken,this.gr){this.Zi.reset();var d=(_=c.commitTime,(g=c.writeResults)&&g.length>0?(rt(void 0!==_),g.map(function(y){return T=_,(N=ni((D=y).updateTime?D.updateTime:T)).isEqual(Lt.min())&&(N=ni(T)),new Tc(N,D.transformResults||[]);var D,T,N})):[]),h=ni(c.commitTime);return this.listener.Tr(h,d)}var g,_;return rt(!c.writeResults||0===c.writeResults.length),this.gr=!0,this.listener.Ir()},a.prototype.Ar=function(){var c={};c.database=Du(this.R),this.cr(c)},a.prototype.Er=function(c){var d=this,h={streamToken:this.lastStreamToken,writes:c.map(function(g){return vs(d.R,g)})};this.cr(h)},a}(ea),C1=function(u){function a(c,d,h){var g=this;return(g=u.call(this)||this).credentials=c,g.Hi=d,g.R=h,g.Rr=!1,g}return(0,I.ZT)(a,u),a.prototype.br=function(){if(this.Rr)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.")},a.prototype.Ni=function(c,d,h){var g=this;return this.br(),this.credentials.getToken().then(function(_){return g.Hi.Ni(c,d,h,_)}).catch(function(_){throw"FirebaseError"===_.name?(_.code===oe.UNAUTHENTICATED&&g.credentials.invalidateToken(),_):new _e(oe.UNKNOWN,_.toString())})},a.prototype.$i=function(c,d,h){var g=this;return this.br(),this.credentials.getToken().then(function(_){return g.Hi.$i(c,d,h,_)}).catch(function(_){throw"FirebaseError"===_.name?(_.code===oe.UNAUTHENTICATED&&g.credentials.invalidateToken(),_):new _e(oe.UNKNOWN,_.toString())})},a.prototype.terminate=function(){this.Rr=!0},a}(function(){}),Fv=function(){function u(a,c){this.asyncQueue=a,this.onlineStateHandler=c,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return u.prototype.Sr=function(){var a=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return a.Pr=null,a.Cr("Backend didn't respond within 10 seconds."),a.Dr("Offline"),Promise.resolve()}))},u.prototype.Nr=function(a){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+a.toString()),this.Dr("Offline")))},u.prototype.set=function(a){this.kr(),this.vr=0,"Online"===a&&(this.Vr=!1),this.Dr(a)},u.prototype.Dr=function(a){a!==this.state&&(this.state=a,this.onlineStateHandler(a))},u.prototype.Cr=function(a){var c="Could not reach Cloud Firestore backend. "+a+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(it(c),this.Vr=!1):xe("OnlineStateTracker",c)},u.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},u}(),Dg=function(u,a,c,d,h){var g=this;this.localStore=u,this.datastore=a,this.asyncQueue=c,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=h,this.Lr.di(function(_){c.enqueueAndForget(function(){return(0,I.mG)(g,void 0,void 0,function(){return(0,I.Jh)(this,function(y){switch(y.label){case 0:return ta(this)?(xe("RemoteStore","Restarting streams for network reachability change."),[4,function(D){return(0,I.mG)(this,void 0,void 0,function(){var T;return(0,I.Jh)(this,function(N){switch(N.label){case 0:return(T=Be(D)).Or.add(4),[4,$c(T)];case 1:return N.sent(),T.Br.set("Unknown"),T.Or.delete(4),[4,rd(T)];case 2:return N.sent(),[2]}})})}(this)]):[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})}),this.Br=new Fv(c,d)};function rd(u){return(0,I.mG)(this,void 0,void 0,function(){var a,c;return(0,I.Jh)(this,function(d){switch(d.label){case 0:if(!ta(u))return[3,4];a=0,c=u.Mr,d.label=1;case 1:return a<c.length?[4,(0,c[a])(!0)]:[3,4];case 2:d.sent(),d.label=3;case 3:return a++,[3,1];case 4:return[2]}})})}function $c(u){return(0,I.mG)(this,void 0,void 0,function(){var a,c;return(0,I.Jh)(this,function(d){switch(d.label){case 0:a=0,c=u.Mr,d.label=1;case 1:return a<c.length?[4,(0,c[a])(!1)]:[3,4];case 2:d.sent(),d.label=3;case 3:return a++,[3,1];case 4:return[2]}})})}function Xf(u,a){var c=Be(u);c.$r.has(a.targetId)||(c.$r.set(a.targetId,a),id(c)?Pi(c):ka(c).er()&&Cg(c,a))}function Gc(u,a){var c=Be(u),d=ka(c);c.$r.delete(a),d.er()&&Lv(c,a),0===c.$r.size&&(d.er()?d.ir():ta(c)&&c.Br.set("Unknown"))}function Cg(u,a){u.qr.U(a.targetId),ka(u).mr(a)}function Lv(u,a){u.qr.U(a),ka(u).yr(a)}function Pi(u){u.qr=new Zs({getRemoteKeysForTarget:function(a){return u.remoteSyncer.getRemoteKeysForTarget(a)},lt:function(a){return u.$r.get(a)||null}}),ka(u).start(),u.Br.Sr()}function id(u){return ta(u)&&!ka(u).tr()&&u.$r.size>0}function ta(u){return 0===Be(u).Or.size}function eh(u){u.qr=void 0}function ki(u){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(a){return u.$r.forEach(function(c,d){Cg(u,c)}),[2]})})}function od(u,a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(c){return eh(u),id(u)?(u.Br.Nr(a),Pi(u)):u.Br.set("Unknown"),[2]})})}function Vv(u,a,c){return(0,I.mG)(this,void 0,void 0,function(){var d,h,g;return(0,I.Jh)(this,function(_){switch(_.label){case 0:if(u.Br.set("Online"),!(a instanceof Yp&&2===a.state&&a.cause))return[3,6];_.label=1;case 1:return _.trys.push([1,3,,5]),[4,function(y,D){return(0,I.mG)(this,void 0,void 0,function(){var T,N,R,L;return(0,I.Jh)(this,function(ee){switch(ee.label){case 0:T=D.cause,N=0,R=D.targetIds,ee.label=1;case 1:return N<R.length?y.$r.has(L=R[N])?[4,y.remoteSyncer.rejectListen(L,T)]:[3,3]:[3,5];case 2:ee.sent(),y.$r.delete(L),y.qr.removeTarget(L),ee.label=3;case 3:ee.label=4;case 4:return N++,[3,1];case 5:return[2]}})})}(u,a)];case 2:return _.sent(),[3,5];case 3:return d=_.sent(),xe("RemoteStore","Failed to remove targets %s: %s ",a.targetIds.join(","),d),[4,sd(u,d)];case 4:return _.sent(),[3,5];case 5:return[3,13];case 6:if(a instanceof ti?u.qr.X(a):a instanceof _s?u.qr.rt(a):u.qr.et(a),c.isEqual(Lt.min()))return[3,13];_.label=7;case 7:return _.trys.push([7,11,,13]),[4,mg(u.localStore)];case 8:return h=_.sent(),c.compareTo(h)>=0?[4,(y=u,D=c,T=y.qr.ut(D),T.targetChanges.forEach(function(N,R){if(N.resumeToken.approximateByteSize()>0){var L=y.$r.get(R);L&&y.$r.set(R,L.withResumeToken(N.resumeToken,D))}}),T.targetMismatches.forEach(function(N){var R=y.$r.get(N);if(R){y.$r.set(N,R.withResumeToken(Wi.EMPTY_BYTE_STRING,R.snapshotVersion)),Lv(y,N);var L=new Zl(R.target,N,1,R.sequenceNumber);Cg(y,L)}}),y.remoteSyncer.applyRemoteEvent(T))]:[3,10];case 9:_.sent(),_.label=10;case 10:return[3,13];case 11:return xe("RemoteStore","Failed to raise snapshot:",g=_.sent()),[4,sd(u,g)];case 12:return _.sent(),[3,13];case 13:return[2]}var y,D,T})})}function sd(u,a,c){return(0,I.mG)(this,void 0,void 0,function(){var d=this;return(0,I.Jh)(this,function(h){switch(h.label){case 0:if(!Iu(a))throw a;return u.Or.add(1),[4,$c(u)];case 1:return h.sent(),u.Br.set("Offline"),c||(c=function(){return mg(u.localStore)}),u.asyncQueue.enqueueRetryable(function(){return(0,I.mG)(d,void 0,void 0,function(){return(0,I.Jh)(this,function(g){switch(g.label){case 0:return xe("RemoteStore","Retrying IndexedDB access"),[4,c()];case 1:return g.sent(),u.Or.delete(1),[4,rd(u)];case 2:return g.sent(),[2]}})})}),[2]}})})}function Bv(u,a){return a().catch(function(c){return sd(u,c,a)})}function Au(u){return(0,I.mG)(this,void 0,void 0,function(){var a,c,d,h,g;return(0,I.Jh)(this,function(_){switch(_.label){case 0:a=Be(u),c=Fa(a),d=a.Fr.length>0?a.Fr[a.Fr.length-1].batchId:-1,_.label=1;case 1:if(!(ta(y=a)&&y.Fr.length<10))return[3,7];_.label=2;case 2:return _.trys.push([2,4,,6]),[4,Vc(a.localStore,d)];case 3:return null===(h=_.sent())?(0===a.Fr.length&&c.ir(),[3,7]):(d=h.batchId,function(y,D){y.Fr.push(D);var T=Fa(y);T.er()&&T.pr&&T.Er(D.mutations)}(a,h),[3,6]);case 4:return g=_.sent(),[4,sd(a,g)];case 5:return _.sent(),[3,6];case 6:return[3,1];case 7:return jv(a)&&Eg(a),[2]}var y})})}function jv(u){return ta(u)&&!Fa(u).tr()&&u.Fr.length>0}function Eg(u){Fa(u).start()}function E1(u){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(a){return Fa(u).Ar(),[2]})})}function Uv(u){return(0,I.mG)(this,void 0,void 0,function(){var a,c,d;return(0,I.Jh)(this,function(g){for(a=Fa(u),c=0,d=u.Fr;c<d.length;c++)a.Er(d[c].mutations);return[2]})})}function S1(u,a,c){return(0,I.mG)(this,void 0,void 0,function(){var d,h;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return d=u.Fr.shift(),h=Jb.from(d,a,c),[4,Bv(u,function(){return u.remoteSyncer.applySuccessfulWrite(h)})];case 1:return g.sent(),[4,Au(u)];case 2:return g.sent(),[2]}})})}function T1(u,a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(c){switch(c.label){case 0:return a&&Fa(u).pr?[4,function(d,h){return(0,I.mG)(this,void 0,void 0,function(){var g,_;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return yu(_=h.code)&&_!==oe.ABORTED?(g=d.Fr.shift(),Fa(d).sr(),[4,Bv(d,function(){return d.remoteSyncer.rejectFailedWrite(g.batchId,h)})]):[3,3];case 1:return y.sent(),[4,Au(d)];case 2:y.sent(),y.label=3;case 3:return[2]}})})}(u,a)]:[3,2];case 1:c.sent(),c.label=2;case 2:return jv(u)&&Eg(u),[2]}})})}function ad(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return c=Be(u),a?(c.Or.delete(2),[4,rd(c)]):[3,2];case 1:return d.sent(),[3,5];case 2:return a?[3,4]:(c.Or.add(2),[4,$c(c)]);case 3:d.sent(),c.Br.set("Unknown"),d.label=4;case 4:d.label=5;case 5:return[2]}})})}function ka(u){var c,d,h,g,a=this;return u.Ur||(u.Ur=(c=u.datastore,d=u.asyncQueue,h={Ii:ki.bind(null,u),Ri:od.bind(null,u),_r:Vv.bind(null,u)},(g=Be(c)).br(),new w1(d,g.Hi,g.credentials,g.R,h)),u.Mr.push(function(c){return(0,I.mG)(a,void 0,void 0,function(){return(0,I.Jh)(this,function(d){switch(d.label){case 0:return c?(u.Ur.sr(),id(u)?Pi(u):u.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,u.Ur.stop()];case 2:d.sent(),eh(u),d.label=3;case 3:return[2]}})})})),u.Ur}function Fa(u){var c,d,h,g,a=this;return u.Kr||(u.Kr=(c=u.datastore,d=u.asyncQueue,h={Ii:E1.bind(null,u),Ri:T1.bind(null,u),Ir:Uv.bind(null,u),Tr:S1.bind(null,u)},(g=Be(c)).br(),new D1(d,g.Hi,g.credentials,g.R,h)),u.Mr.push(function(c){return(0,I.mG)(a,void 0,void 0,function(){return(0,I.Jh)(this,function(d){switch(d.label){case 0:return c?(u.Kr.sr(),[4,Au(u)]):[3,2];case 1:return d.sent(),[3,4];case 2:return[4,u.Kr.stop()];case 3:d.sent(),u.Fr.length>0&&(xe("RemoteStore","Stopping write stream with "+u.Fr.length+" pending writes"),u.Fr=[]),d.label=4;case 4:return[2]}})})})),u.Kr}var ud=function(){function u(a,c,d,h,g){this.asyncQueue=a,this.timerId=c,this.targetTimeMs=d,this.op=h,this.removalCallback=g,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(_){})}return u.createAndSchedule=function(a,c,d,h,g){var _=new u(a,c,Date.now()+d,h,g);return _.start(d),_},u.prototype.start=function(a){var c=this;this.timerHandle=setTimeout(function(){return c.handleDelayElapsed()},a)},u.prototype.skipDelay=function(){return this.handleDelayElapsed()},u.prototype.cancel=function(a){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(oe.CANCELLED,"Operation cancelled"+(a?": "+a:""))))},u.prototype.handleDelayElapsed=function(){var a=this;this.asyncQueue.enqueueAndForget(function(){return null!==a.timerHandle?(a.clearTimeout(),a.op().then(function(c){return a.deferred.resolve(c)})):Promise.resolve()})},u.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},u}();function zc(u,a){if(it("AsyncQueue",a+": "+u),Iu(u))return new _e(oe.UNAVAILABLE,a+": "+u);throw u}var Hv=function(){function u(a){this.comparator=a?function(c,d){return a(c,d)||at.comparator(c.key,d.key)}:function(c,d){return at.comparator(c.key,d.key)},this.keyedMap=Br(),this.sortedSet=new Ai(this.comparator)}return u.emptySet=function(a){return new u(a.comparator)},u.prototype.has=function(a){return null!=this.keyedMap.get(a)},u.prototype.get=function(a){return this.keyedMap.get(a)},u.prototype.first=function(){return this.sortedSet.minKey()},u.prototype.last=function(){return this.sortedSet.maxKey()},u.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},u.prototype.indexOf=function(a){var c=this.keyedMap.get(a);return c?this.sortedSet.indexOf(c):-1},Object.defineProperty(u.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),u.prototype.forEach=function(a){this.sortedSet.inorderTraversal(function(c,d){return a(c),!1})},u.prototype.add=function(a){var c=this.delete(a.key);return c.copy(c.keyedMap.insert(a.key,a),c.sortedSet.insert(a,null))},u.prototype.delete=function(a){var c=this.get(a);return c?this.copy(this.keyedMap.remove(a),this.sortedSet.remove(c)):this},u.prototype.isEqual=function(a){if(!(a instanceof u)||this.size!==a.size)return!1;for(var c=this.sortedSet.getIterator(),d=a.sortedSet.getIterator();c.hasNext();){var h=c.getNext().key,g=d.getNext().key;if(!h.isEqual(g))return!1}return!0},u.prototype.toString=function(){var a=[];return this.forEach(function(c){a.push(c.toString())}),0===a.length?"DocumentSet ()":"DocumentSet (\n  "+a.join("  \n")+"\n)"},u.prototype.copy=function(a,c){var d=new u;return d.comparator=this.comparator,d.keyedMap=a,d.sortedSet=c,d},u}(),Sg=function(){function u(){this.Qr=new Ai(at.comparator)}return u.prototype.track=function(a){var c=a.doc.key,d=this.Qr.get(c);d?0!==a.type&&3===d.type?this.Qr=this.Qr.insert(c,a):3===a.type&&1!==d.type?this.Qr=this.Qr.insert(c,{type:d.type,doc:a.doc}):2===a.type&&2===d.type?this.Qr=this.Qr.insert(c,{type:2,doc:a.doc}):2===a.type&&0===d.type?this.Qr=this.Qr.insert(c,{type:0,doc:a.doc}):1===a.type&&0===d.type?this.Qr=this.Qr.remove(c):1===a.type&&2===d.type?this.Qr=this.Qr.insert(c,{type:1,doc:d.doc}):0===a.type&&1===d.type?this.Qr=this.Qr.insert(c,{type:2,doc:a.doc}):et():this.Qr=this.Qr.insert(c,a)},u.prototype.jr=function(){var a=[];return this.Qr.inorderTraversal(function(c,d){a.push(d)}),a},u}(),cd=function(){function u(a,c,d,h,g,_,y,D){this.query=a,this.docs=c,this.oldDocs=d,this.docChanges=h,this.mutatedKeys=g,this.fromCache=_,this.syncStateChanged=y,this.excludesMetadataChanges=D}return u.fromInitialDocuments=function(a,c,d,h){var g=[];return c.forEach(function(_){g.push({type:0,doc:_})}),new u(a,c,Hv.emptySet(c),g,d,h,!0,!1)},Object.defineProperty(u.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(a){if(!(this.fromCache===a.fromCache&&this.syncStateChanged===a.syncStateChanged&&this.mutatedKeys.isEqual(a.mutatedKeys)&&Ec(this.query,a.query)&&this.docs.isEqual(a.docs)&&this.oldDocs.isEqual(a.oldDocs)))return!1;var c=this.docChanges,d=a.docChanges;if(c.length!==d.length)return!1;for(var h=0;h<c.length;h++)if(c[h].type!==d[h].type||!c[h].doc.isEqual(d[h].doc))return!1;return!0},u}(),$v=function(){this.Wr=void 0,this.listeners=[]},qc=function(){this.queries=new Ql(function(u){return Y_(u)},Ec),this.onlineState="Unknown",this.Gr=new Set};function Wc(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c,d,h,g,_,y,D;return(0,I.Jh)(this,function(T){switch(T.label){case 0:if(c=Be(u),h=!1,(g=c.queries.get(d=a.query))||(h=!0,g=new $v),!h)return[3,4];T.label=1;case 1:return T.trys.push([1,3,,4]),_=g,[4,c.onListen(d)];case 2:return _.Wr=T.sent(),[3,4];case 3:return y=T.sent(),D=zc(y,"Initialization of query '"+J_(a.query)+"' failed"),[2,void a.onError(D)];case 4:return c.queries.set(d,g),g.listeners.push(a),a.zr(c.onlineState),g.Wr&&a.Hr(g.Wr)&&Ig(c),[2]}})})}function th(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c,d,h,g,_;return(0,I.Jh)(this,function(y){return c=Be(u),h=!1,(g=c.queries.get(d=a.query))&&(_=g.listeners.indexOf(a))>=0&&(g.listeners.splice(_,1),h=0===g.listeners.length),h?[2,(c.queries.delete(d),c.onUnlisten(d))]:[2]})})}function Tg(u,a){for(var c=Be(u),d=!1,h=0,g=a;h<g.length;h++){var _=g[h],D=c.queries.get(_.query);if(D){for(var T=0,N=D.listeners;T<N.length;T++)N[T].Hr(_)&&(d=!0);D.Wr=_}}d&&Ig(c)}function nh(u,a,c){var d=Be(u),h=d.queries.get(a);if(h)for(var g=0,_=h.listeners;g<_.length;g++)_[g].onError(c);d.queries.delete(a)}function Ig(u){u.Gr.forEach(function(a){a.next()})}var Mg=function(){function u(a,c,d){this.query=a,this.Jr=c,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=d||{}}return u.prototype.Hr=function(a){if(!this.options.includeMetadataChanges){for(var c=[],d=0,h=a.docChanges;d<h.length;d++){var g=h[d];3!==g.type&&c.push(g)}a=new cd(a.query,a.docs,a.oldDocs,c,a.mutatedKeys,a.fromCache,a.syncStateChanged,!0)}var _=!1;return this.Yr?this.Zr(a)&&(this.Jr.next(a),_=!0):this.eo(a,this.onlineState)&&(this.no(a),_=!0),this.Xr=a,_},u.prototype.onError=function(a){this.Jr.error(a)},u.prototype.zr=function(a){this.onlineState=a;var c=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,a)&&(this.no(this.Xr),c=!0),c},u.prototype.eo=function(a,c){return!a.fromCache||!(this.options.so&&"Offline"!==c||a.docs.isEmpty()&&"Offline"!==c)},u.prototype.Zr=function(a){return a.docChanges.length>0||!!(a.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==a.hasPendingWrites)&&!0===this.options.includeMetadataChanges},u.prototype.no=function(a){a=cd.fromInitialDocuments(a.query,a.docs,a.mutatedKeys,a.fromCache),this.Yr=!0,this.Jr.next(a)},u}(),I1=function(){function u(a,c){this.payload=a,this.byteLength=c}return u.prototype.io=function(){return"metadata"in this.payload},u}(),Gv=function(){function u(a){this.R=a}return u.prototype.qn=function(a){return Ko(this.R,a)},u.prototype.Un=function(a){return a.metadata.exists?Oi(this.R,a.document,!1):ei.newNoDocument(this.qn(a.metadata.name),this.Kn(a.metadata.readTime))},u.prototype.Kn=function(a){return ni(a)},u}();!function(){function u(a,c,d){this.ro=a,this.localStore=c,this.R=d,this.queries=[],this.documents=[],this.progress=function zv(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}(a)}u.prototype.oo=function(a){this.progress.bytesLoaded+=a.byteLength;var c=this.progress.documentsLoaded;return a.payload.namedQuery?this.queries.push(a.payload.namedQuery):a.payload.documentMetadata?(this.documents.push({metadata:a.payload.documentMetadata}),a.payload.documentMetadata.exists||++c):a.payload.document&&(this.documents[this.documents.length-1].document=a.payload.document,++c),c!==this.progress.documentsLoaded?(this.progress.documentsLoaded=c,Object.assign({},this.progress)):null},u.prototype.co=function(a){for(var c=new Map,d=new Gv(this.R),h=0,g=a;h<g.length;h++){var _=g[h];if(_.metadata.queries)for(var y=d.qn(_.metadata.name),D=0,T=_.metadata.queries;D<T.length;D++){var N=T[D],R=(c.get(N)||_n()).add(y);c.set(N,R)}}return c},u.prototype.complete=function(){return(0,I.mG)(this,void 0,void 0,function(){var a,c,d,h,g;return(0,I.Jh)(this,function(_){switch(_.label){case 0:return[4,d1(this.localStore,new Gv(this.R),this.documents,this.ro.id)];case 1:a=_.sent(),c=this.co(this.documents),d=0,h=this.queries,_.label=2;case 2:return d<h.length?[4,f1(this.localStore,g=h[d],c.get(g.name))]:[3,5];case 3:_.sent(),_.label=4;case 4:return d++,[3,2];case 5:return[2,(this.progress.taskState="Success",new a1(Object.assign({},this.progress),a))]}})})}}();var Ng=function(u){this.key=u},ld=function(u){this.key=u},rh=function(){function u(a,c){this.query=a,this.uo=c,this.ao=null,this.current=!1,this.ho=_n(),this.mutatedKeys=_n(),this.lo=Fr(a),this.fo=new Hv(this.lo)}return Object.defineProperty(u.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),u.prototype._o=function(a,c){var d=this,h=c?c.mo:new Sg,g=c?c.fo:this.fo,_=c?c.mutatedKeys:this.mutatedKeys,y=g,D=!1,T=Af(this.query)&&g.size===this.query.limit?g.last():null,N=$l(this.query)&&g.size===this.query.limit?g.first():null;if(a.inorderTraversal(function(L,ee){var Y=g.get(L),le=Gl(d.query,ee)?ee:null,Ae=!!Y&&d.mutatedKeys.has(Y.key),Le=!!le&&(le.hasLocalMutations||d.mutatedKeys.has(le.key)&&le.hasCommittedMutations),ot=!1;Y&&le?Y.data.isEqual(le.data)?Ae!==Le&&(h.track({type:3,doc:le}),ot=!0):d.yo(Y,le)||(h.track({type:2,doc:le}),ot=!0,(T&&d.lo(le,T)>0||N&&d.lo(le,N)<0)&&(D=!0)):!Y&&le?(h.track({type:0,doc:le}),ot=!0):Y&&!le&&(h.track({type:1,doc:Y}),ot=!0,(T||N)&&(D=!0)),ot&&(le?(y=y.add(le),_=Le?_.add(L):_.delete(L)):(y=y.delete(L),_=_.delete(L)))}),Af(this.query)||$l(this.query))for(;y.size>this.query.limit;){var R=Af(this.query)?y.last():y.first();y=y.delete(R.key),_=_.delete(R.key),h.track({type:1,doc:R})}return{fo:y,mo:h,Nn:D,mutatedKeys:_}},u.prototype.yo=function(a,c){return a.hasLocalMutations&&c.hasCommittedMutations&&!c.hasLocalMutations},u.prototype.applyChanges=function(a,c,d){var h=this,g=this.fo;this.fo=a.fo,this.mutatedKeys=a.mutatedKeys;var _=a.mo.jr();_.sort(function(N,R){return ee=R.type,(Y=function(le){switch(le){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}})(N.type)-Y(ee)||h.lo(N.doc,R.doc);var ee,Y}),this.po(d);var y=c?this.Eo():[],D=0===this.ho.size&&this.current?1:0,T=D!==this.ao;return this.ao=D,0!==_.length||T?{snapshot:new cd(this.query,a.fo,g,_,a.mutatedKeys,0===D,T,!1),To:y}:{To:y}},u.prototype.zr=function(a){return this.current&&"Offline"===a?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Sg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},u.prototype.Io=function(a){return!this.uo.has(a)&&!!this.fo.has(a)&&!this.fo.get(a).hasLocalMutations},u.prototype.po=function(a){var c=this;a&&(a.addedDocuments.forEach(function(d){return c.uo=c.uo.add(d)}),a.modifiedDocuments.forEach(function(d){}),a.removedDocuments.forEach(function(d){return c.uo=c.uo.delete(d)}),this.current=a.current)},u.prototype.Eo=function(){var a=this;if(!this.current)return[];var c=this.ho;this.ho=_n(),this.fo.forEach(function(h){a.Io(h.key)&&(a.ho=a.ho.add(h.key))});var d=[];return c.forEach(function(h){a.ho.has(h)||d.push(new ld(h))}),this.ho.forEach(function(h){c.has(h)||d.push(new Ng(h))}),d},u.prototype.Ao=function(a){this.uo=a.Bn,this.ho=_n();var c=this._o(a.documents);return this.applyChanges(c,!0)},u.prototype.Ro=function(){return cd.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},u}(),Ag=function(u,a,c){this.query=u,this.targetId=a,this.view=c},N1=function(u){this.key=u,this.bo=!1},A1=function(){function u(a,c,d,h,g,_){this.localStore=a,this.remoteStore=c,this.eventManager=d,this.sharedClientState=h,this.currentUser=g,this.maxConcurrentLimboResolutions=_,this.vo={},this.Po=new Ql(function(y){return Y_(y)},Ec),this.Vo=new Map,this.So=new Set,this.Do=new Ai(at.comparator),this.Co=new Map,this.No=new jc,this.xo={},this.ko=new Map,this.Fo=dr.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(u.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),u}();function Og(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c,h,g,_,y;return(0,I.Jh)(this,function(D){switch(D.label){case 0:return c=Kc(u),(g=c.Po.get(a))?(c.sharedClientState.addLocalQueryTarget(g.targetId),h=g.view.Ro(),[3,4]):[3,1];case 1:return[4,ws(c.localStore,mo(a))];case 2:return _=D.sent(),y=c.sharedClientState.addLocalQueryTarget(_.targetId),[4,ih(c,a,_.targetId,"current"===y)];case 3:h=D.sent(),c.isPrimaryClient&&Xf(c.remoteStore,_),D.label=4;case 4:return[2,h]}})})}function ih(u,a,c,d){return(0,I.mG)(this,void 0,void 0,function(){var h,g,_,y,D,T;return(0,I.Jh)(this,function(N){switch(N.label){case 0:return u.Oo=function(R,L,ee){return function(Y,le,Ae,Le){return(0,I.mG)(this,void 0,void 0,function(){var ot,ct,zt;return(0,I.Jh)(this,function(on){switch(on.label){case 0:return(ot=le.view._o(Ae)).Nn?[4,_g(Y.localStore,le.query,!1).then(function(Cn){return le.view._o(Cn.documents,ot)})]:[3,2];case 1:ot=on.sent(),on.label=2;case 2:return ct=Le&&Le.targetChanges.get(le.targetId),zt=le.view.applyChanges(ot,Y.isPrimaryClient,ct),[2,(Zc(Y,le.targetId,zt.To),zt.snapshot)]}})})}(u,R,L,ee)},[4,_g(u.localStore,a,!0)];case 1:return h=N.sent(),g=new rh(a,h.Bn),_=g._o(h.documents),y=Lf.createSynthesizedTargetChangeForCurrentChange(c,d&&"Offline"!==u.onlineState),D=g.applyChanges(_,u.isPrimaryClient,y),Zc(u,c,D.To),T=new Ag(a,c,g),[2,(u.Po.set(a,T),u.Vo.has(c)?u.Vo.get(c).push(a):u.Vo.set(c,[a]),D.snapshot)]}})})}function Ou(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c,d,h;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return c=Be(u),d=c.Po.get(a),(h=c.Vo.get(d.targetId)).length>1?[2,(c.Vo.set(d.targetId,h.filter(function(_){return!Ec(_,a)})),void c.Po.delete(a))]:c.isPrimaryClient?(c.sharedClientState.removeLocalQueryTarget(d.targetId),c.sharedClientState.isActiveQueryTarget(d.targetId)?[3,2]:[4,Bc(c.localStore,d.targetId,!1).then(function(){c.sharedClientState.clearQueryState(d.targetId),Gc(c.remoteStore,d.targetId),La(c,d.targetId)}).catch(Ro)]):[3,3];case 1:g.sent(),g.label=2;case 2:return[3,5];case 3:return La(c,d.targetId),[4,Bc(c.localStore,d.targetId,!0)];case 4:g.sent(),g.label=5;case 5:return[2]}})})}function qv(u,a,c){return(0,I.mG)(this,void 0,void 0,function(){var d,h,g,_;return(0,I.Jh)(this,function(y){switch(y.label){case 0:d=hd(u),y.label=1;case 1:return y.trys.push([1,5,,6]),[4,(D=d.localStore,T=a,R=Be(D),L=An.now(),ee=T.reduce(function(Y,le){return Y.add(le.key)},_n()),R.persistence.runTransaction("Locally write mutations","readwrite",function(Y){return R.Mn.pn(Y,ee).next(function(le){N=le;for(var Ae=[],Le=0,ot=T;Le<ot.length;Le++){var ct=ot[Le],zt=iv(ct,N.get(ct.key));null!=zt&&Ae.push(new Ws(ct.key,zt,Bp(zt.value.mapValue),On.exists(!0)))}return R._n.addMutationBatch(Y,L,Ae,T)})}).then(function(Y){return Y.applyToLocalDocumentSet(N),{batchId:Y.batchId,changes:N}}))];case 2:return h=y.sent(),d.sharedClientState.addPendingMutation(h.batchId),function(D,T,N){var R=D.xo[D.currentUser.toKey()];R||(R=new Ai(dt)),R=R.insert(T,N),D.xo[D.currentUser.toKey()]=R}(d,h.batchId,c),[4,Yo(d,h.changes)];case 3:return y.sent(),[4,Au(d.remoteStore)];case 4:return y.sent(),[3,6];case 5:return g=y.sent(),_=zc(g,"Failed to persist write"),c.reject(_),[3,6];case 6:return[2]}var D,T,N,R,L,ee})})}function xg(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c,d;return(0,I.Jh)(this,function(h){switch(h.label){case 0:c=Be(u),h.label=1;case 1:return h.trys.push([1,4,,6]),[4,l1(c.localStore,a)];case 2:return d=h.sent(),a.targetChanges.forEach(function(g,_){var y=c.Co.get(_);y&&(rt(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?y.bo=!0:g.modifiedDocuments.size>0?rt(y.bo):g.removedDocuments.size>0&&(rt(y.bo),y.bo=!1))}),[4,Yo(c,d,a)];case 3:return h.sent(),[3,6];case 4:return[4,Ro(h.sent())];case 5:return h.sent(),[3,6];case 6:return[2]}})})}function Wv(u,a,c){var d=Be(u);if(d.isPrimaryClient&&0===c||!d.isPrimaryClient&&1===c){var h=[];d.Po.forEach(function(g,_){var y=_.view.zr(a);y.snapshot&&h.push(y.snapshot)}),function(g,_){var y=Be(g);y.onlineState=_;var D=!1;y.queries.forEach(function(T,N){for(var R=0,L=N.listeners;R<L.length;R++)L[R].zr(_)&&(D=!0)}),D&&Ig(y)}(d.eventManager,a),h.length&&d.vo._r(h),d.onlineState=a,d.isPrimaryClient&&d.sharedClientState.setOnlineState(a)}}function WE(u,a,c){return(0,I.mG)(this,void 0,void 0,function(){var d,h,g,_,y,D;return(0,I.Jh)(this,function(T){switch(T.label){case 0:return(d=Be(u)).sharedClientState.updateQueryState(a,"rejected",c),h=d.Co.get(a),(g=h&&h.key)?(_=(_=new Ai(at.comparator)).insert(g,ei.newNoDocument(g,Lt.min())),y=_n().add(g),D=new lv(Lt.min(),new Map,new Vr(dt),_,y),[4,xg(d,D)]):[3,2];case 1:return T.sent(),d.Do=d.Do.remove(g),d.Co.delete(a),uh(d),[3,4];case 2:return[4,Bc(d.localStore,a,!1).then(function(){return La(d,a,c)}).catch(Ro)];case 3:T.sent(),T.label=4;case 4:return[2]}})})}function oh(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c,d,h;return(0,I.Jh)(this,function(g){switch(g.label){case 0:c=Be(u),d=a.batch.batchId,g.label=1;case 1:return g.trys.push([1,4,,6]),[4,Yf(c.localStore,a)];case 2:return h=g.sent(),ah(c,d,null),sh(c,d),c.sharedClientState.updateMutationState(d,"acknowledged"),[4,Yo(c,h)];case 3:return g.sent(),[3,6];case 4:return[4,Ro(g.sent())];case 5:return g.sent(),[3,6];case 6:return[2]}})})}function O1(u,a,c){return(0,I.mG)(this,void 0,void 0,function(){var d,h;return(0,I.Jh)(this,function(g){switch(g.label){case 0:d=Be(u),g.label=1;case 1:return g.trys.push([1,4,,6]),[4,(_=d.localStore,y=a,D=Be(_),D.persistence.runTransaction("Reject batch","readwrite-primary",function(T){var N;return D._n.lookupMutationBatch(T,y).next(function(R){return rt(null!==R),N=R.keys(),D._n.removeMutationBatch(T,R)}).next(function(){return D._n.performConsistencyCheck(T)}).next(function(){return D.Mn.pn(T,N)})}))];case 2:return h=g.sent(),ah(d,a,c),sh(d,a),d.sharedClientState.updateMutationState(a,"rejected",c),[4,Yo(d,h)];case 3:return g.sent(),[3,6];case 4:return[4,Ro(g.sent())];case 5:return g.sent(),[3,6];case 6:return[2]}var _,y,D})})}function Zv(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c,d,h,g,_;return(0,I.Jh)(this,function(y){switch(y.label){case 0:ta((c=Be(u)).remoteStore)||xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),y.label=1;case 1:return y.trys.push([1,3,,4]),[4,(D=c.localStore,T=Be(D),T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(N){return T._n.getHighestUnacknowledgedBatchId(N)}))];case 2:return-1===(d=y.sent())?[2,void a.resolve()]:((h=c.ko.get(d)||[]).push(a),c.ko.set(d,h),[3,4]);case 3:return g=y.sent(),_=zc(g,"Initialization of waitForPendingWrites() operation failed"),a.reject(_),[3,4];case 4:return[2]}var D,T})})}function sh(u,a){(u.ko.get(a)||[]).forEach(function(c){c.resolve()}),u.ko.delete(a)}function ah(u,a,c){var d=Be(u),h=d.xo[d.currentUser.toKey()];if(h){var g=h.get(a);g&&(c?g.reject(c):g.resolve(),h=h.remove(a)),d.xo[d.currentUser.toKey()]=h}}function La(u,a,c){void 0===c&&(c=null),u.sharedClientState.removeLocalQueryTarget(a);for(var d=0,h=u.Vo.get(a);d<h.length;d++){var g=h[d];u.Po.delete(g),c&&u.vo.Mo(g,c)}u.Vo.delete(a),u.isPrimaryClient&&u.No.Zn(a).forEach(function(_){u.No.containsKey(_)||Rg(u,_)})}function Rg(u,a){u.So.delete(a.path.canonicalString());var c=u.Do.get(a);null!==c&&(Gc(u.remoteStore,c),u.Do=u.Do.remove(a),u.Co.delete(c),uh(u))}function Zc(u,a,c){for(var d=0,h=c;d<h.length;d++){var g=h[d];g instanceof Ng?(u.No.addReference(g.key,a),dd(u,g)):g instanceof ld?(xe("SyncEngine","Document no longer in limbo: "+g.key),u.No.removeReference(g.key,a),u.No.containsKey(g.key)||Rg(u,g.key)):et()}}function dd(u,a){var c=a.key,d=c.path.canonicalString();u.Do.get(c)||u.So.has(d)||(xe("SyncEngine","New document in limbo: "+c),u.So.add(d),uh(u))}function uh(u){for(;u.So.size>0&&u.Do.size<u.maxConcurrentLimboResolutions;){var a=u.So.values().next().value;u.So.delete(a);var c=new at(pn.fromString(a)),d=u.Fo.next();u.Co.set(d,new N1(c)),u.Do=u.Do.insert(c,d),Xf(u.remoteStore,new Zl(mo(Hl(c.path)),d,2,hi.o))}}function Yo(u,a,c){return(0,I.mG)(this,void 0,void 0,function(){var d,h,g,_;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return d=Be(u),h=[],g=[],_=[],d.Po.isEmpty()?[3,3]:(d.Po.forEach(function(D,T){_.push(d.Oo(T,a,c).then(function(N){if(N){d.isPrimaryClient&&d.sharedClientState.updateQueryState(T.targetId,N.fromCache?"not-current":"current"),h.push(N);var R=u1.Pn(T.targetId,N);g.push(R)}}))}),[4,Promise.all(_)]);case 1:return y.sent(),d.vo._r(h),[4,function(D,T){return(0,I.mG)(this,void 0,void 0,function(){var N,R,L,ee,Y,le,Ae,ot;return(0,I.Jh)(this,function(ct){switch(ct.label){case 0:N=Be(D),ct.label=1;case 1:return ct.trys.push([1,3,,4]),[4,N.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(zt){return Se.forEach(T,function(on){return Se.forEach(on.bn,function(Cn){return N.persistence.referenceDelegate.addReference(zt,on.targetId,Cn)}).next(function(){return Se.forEach(on.vn,function(Cn){return N.persistence.referenceDelegate.removeReference(zt,on.targetId,Cn)})})})})];case 2:return ct.sent(),[3,4];case 3:if(!Iu(R=ct.sent()))throw R;return xe("LocalStore","Failed to update sequence numbers: "+R),[3,4];case 4:for(L=0,ee=T;L<ee.length;L++)le=(Y=ee[L]).targetId,Y.fromCache||(Ae=N.kn.get(le),ot=Ae.withLastLimboFreeSnapshotVersion(Ae.snapshotVersion),N.kn=N.kn.insert(le,ot));return[2]}})})}(d.localStore,g)];case 2:y.sent(),y.label=3;case 3:return[2]}})})}function ch(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c,d;return(0,I.Jh)(this,function(h){switch(h.label){case 0:return(c=Be(u)).currentUser.isEqual(a)?[3,3]:(xe("SyncEngine","User change. New user:",a.toKey()),[4,Qf(c.localStore,a)]);case 1:return d=h.sent(),c.currentUser=a,(g=c).ko.forEach(function(y){y.forEach(function(D){D.reject(new _e(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.ko.clear(),c.sharedClientState.handleUserChange(a,d.removedBatchIds,d.addedBatchIds),[4,Yo(c,d.Ln)];case 2:h.sent(),h.label=3;case 3:return[2]}var g})})}function Kv(u,a){var c=Be(u),d=c.Co.get(a);if(d&&d.bo)return _n().add(d.key);var h=_n(),g=c.Vo.get(a);if(!g)return h;for(var _=0,y=g;_<y.length;_++){var T=c.Po.get(y[_]);h=h.unionWith(T.view.wo)}return h}function Pg(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c,d,h;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return[4,_g((c=Be(u)).localStore,a.query,!0)];case 1:return d=g.sent(),h=a.view.Ao(d),[2,(c.isPrimaryClient&&Zc(c,a.targetId,h.To),h)]}})})}function fd(u){return(0,I.mG)(this,void 0,void 0,function(){var a;return(0,I.Jh)(this,function(c){return[2,Nv((a=Be(u)).localStore).then(function(d){return Yo(a,d)})]})})}function x1(u,a,c,d){return(0,I.mG)(this,void 0,void 0,function(){var h,g;return(0,I.Jh)(this,function(_){switch(_.label){case 0:return[4,(y=(h=Be(u)).localStore,D=a,T=Be(y),N=Be(T._n),T.persistence.runTransaction("Lookup mutation documents","readonly",function(R){return N.jt(R,D).next(function(L){return L?T.Mn.pn(R,L):Se.resolve(null)})}))];case 1:return null===(g=_.sent())?[3,6]:"pending"!==c?[3,3]:[4,Au(h.remoteStore)];case 2:return _.sent(),[3,4];case 3:"acknowledged"===c||"rejected"===c?(ah(h,a,d||null),sh(h,a),function(y,D){Be(Be(y)._n).Gt(D)}(h.localStore,a)):et(),_.label=4;case 4:return[4,Yo(h,g)];case 5:return _.sent(),[3,7];case 6:xe("SyncEngine","Cannot apply mutation batch with id: "+a),_.label=7;case 7:return[2]}var y,D,T,N})})}function Qv(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c,d,h,g,_,D,T;return(0,I.Jh)(this,function(N){switch(N.label){case 0:return Kc(c=Be(u)),hd(c),!0!==a||!0===c.$o?[3,3]:(d=c.sharedClientState.getAllActiveQueryTargets(),[4,Yv(c,d.toArray())]);case 1:return h=N.sent(),c.$o=!0,[4,ad(c.remoteStore,!0)];case 2:for(N.sent(),g=0,_=h;g<_.length;g++)Xf(c.remoteStore,_[g]);return[3,7];case 3:return!1!==a||!1===c.$o?[3,7]:(D=[],T=Promise.resolve(),c.Vo.forEach(function(R,L){c.sharedClientState.isLocalQueryTarget(L)?D.push(L):T=T.then(function(){return La(c,L),Bc(c.localStore,L,!0)}),Gc(c.remoteStore,L)}),[4,T]);case 4:return N.sent(),[4,Yv(c,D)];case 5:return N.sent(),(L=Be(c)).Co.forEach(function(ee,Y){Gc(L.remoteStore,Y)}),L.No.ts(),L.Co=new Map,L.Do=new Ai(at.comparator),c.$o=!1,[4,ad(c.remoteStore,!1)];case 6:N.sent(),N.label=7;case 7:return[2]}var L})})}function Yv(u,a,c){return(0,I.mG)(this,void 0,void 0,function(){var d,h,g,_,y,D,T,N,R,L,Y,le,Ae;return(0,I.Jh)(this,function(Le){switch(Le.label){case 0:d=Be(u),h=[],g=[],_=0,y=a,Le.label=1;case 1:return _<y.length?(T=void 0,(N=d.Vo.get(D=y[_]))&&0!==N.length?[4,ws(d.localStore,mo(N[0]))]:[3,7]):[3,13];case 2:T=Le.sent(),R=0,L=N,Le.label=3;case 3:return R<L.length?(Y=d.Po.get(L[R]),[4,Pg(d,Y)]):[3,6];case 4:(le=Le.sent()).snapshot&&g.push(le.snapshot),Le.label=5;case 5:return R++,[3,3];case 6:return[3,11];case 7:return[4,vg(d.localStore,D)];case 8:return Ae=Le.sent(),[4,ws(d.localStore,Ae)];case 9:return T=Le.sent(),[4,ih(d,Jv(Ae),D,!1)];case 10:Le.sent(),Le.label=11;case 11:h.push(T),Le.label=12;case 12:return _++,[3,1];case 13:return[2,(d.vo._r(g),h)]}})})}function Jv(u){return Gb(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function R1(u){var a=Be(u);return Be(Be(a.localStore).persistence).fn()}function Xv(u,a,c,d){return(0,I.mG)(this,void 0,void 0,function(){var h,g,_;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return(h=Be(u)).$o?(xe("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!h.Vo.has(a))return[3,8];switch(c){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Nv(h.localStore)];case 3:return g=y.sent(),_=lv.createSynthesizedRemoteEventForCurrentChange(a,"current"===c),[4,Yo(h,g,_)];case 4:return y.sent(),[3,8];case 5:return[4,Bc(h.localStore,a,!0)];case 6:return y.sent(),La(h,a,d),[3,8];case 7:et(),y.label=8;case 8:return[2]}})})}function ey(u,a,c){return(0,I.mG)(this,void 0,void 0,function(){var d,h,g,_,y,D,T,N,R;return(0,I.Jh)(this,function(ee){switch(ee.label){case 0:if(!(d=Kc(u)).$o)return[3,10];h=0,g=a,ee.label=1;case 1:return h<g.length?d.Vo.has(_=g[h])?(xe("SyncEngine","Adding an already active target "+_),[3,5]):[4,vg(d.localStore,_)]:[3,6];case 2:return y=ee.sent(),[4,ws(d.localStore,y)];case 3:return D=ee.sent(),[4,ih(d,Jv(y),D.targetId,!1)];case 4:ee.sent(),Xf(d.remoteStore,D),ee.label=5;case 5:return h++,[3,1];case 6:T=function(Y){return(0,I.Jh)(this,function(le){switch(le.label){case 0:return d.Vo.has(Y)?[4,Bc(d.localStore,Y,!1).then(function(){Gc(d.remoteStore,Y),La(d,Y)}).catch(Ro)]:[3,2];case 1:le.sent(),le.label=2;case 2:return[2]}})},N=0,R=c,ee.label=7;case 7:return N<R.length?[5,T(R[N])]:[3,10];case 8:ee.sent(),ee.label=9;case 9:return N++,[3,7];case 10:return[2]}})})}function Kc(u){var a=Be(u);return a.remoteStore.remoteSyncer.applyRemoteEvent=xg.bind(null,a),a.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kv.bind(null,a),a.remoteStore.remoteSyncer.rejectListen=WE.bind(null,a),a.vo._r=Tg.bind(null,a.eventManager),a.vo.Mo=nh.bind(null,a.eventManager),a}function hd(u){var a=Be(u);return a.remoteStore.remoteSyncer.applySuccessfulWrite=oh.bind(null,a),a.remoteStore.remoteSyncer.rejectFailedWrite=O1.bind(null,a),a}var ty=function(){function u(){this.synchronizeTabs=!1}return u.prototype.initialize=function(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(c){switch(c.label){case 0:return this.R=Pa(a.databaseInfo.databaseId),this.sharedClientState=this.Bo(a),this.persistence=this.qo(a),[4,this.persistence.start()];case 1:return c.sent(),this.gcScheduler=this.Uo(a),this.localStore=this.Ko(a),[2]}})})},u.prototype.Uo=function(a){return null},u.prototype.Ko=function(a){return gg(this.persistence,new Xl,a.initialUser,this.R)},u.prototype.qo=function(a){return new zE(m1.bs,this.R)},u.prototype.Bo=function(a){return new td},u.prototype.terminate=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(a){switch(a.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return a.sent(),[4,this.persistence.shutdown()];case 2:return a.sent(),[2]}})})},u}(),ny=function(u){function a(c,d,h){var g=this;return(g=u.call(this)||this).Qo=c,g.cacheSizeBytes=d,g.forceOwnership=h,g.synchronizeTabs=!1,g}return(0,I.ZT)(a,u),a.prototype.initialize=function(c){return(0,I.mG)(this,void 0,void 0,function(){var d=this;return(0,I.Jh)(this,function(h){switch(h.label){case 0:return[4,u.prototype.initialize.call(this,c)];case 1:return h.sent(),[4,$E(this.localStore)];case 2:return h.sent(),[4,this.Qo.initialize(this,c)];case 3:return h.sent(),[4,hd(this.Qo.syncEngine)];case 4:return h.sent(),[4,Au(this.Qo.remoteStore)];case 5:return h.sent(),[4,this.persistence.He(function(){return d.gcScheduler&&!d.gcScheduler.started&&d.gcScheduler.start(d.localStore),Promise.resolve()})];case 6:return h.sent(),[2]}})})},a.prototype.Ko=function(c){return gg(this.persistence,new Xl,c.initialUser,this.R)},a.prototype.Uo=function(c){return new Kl(this.persistence.referenceDelegate.garbageCollector,c.asyncQueue)},a.prototype.qo=function(c){var d=Lc(c.databaseInfo.databaseId,c.databaseInfo.persistenceKey),h=void 0!==this.cacheSizeBytes?Js.withCacheSize(this.cacheSizeBytes):Js.DEFAULT;return new s1(this.synchronizeTabs,d,c.clientId,h,c.asyncQueue,wg(),nd(),this.R,this.sharedClientState,!!this.forceOwnership)},a.prototype.Bo=function(c){return new td},a}(ty),ZE=function(u){function a(c,d){var h=this;return(h=u.call(this,c,d,!1)||this).Qo=c,h.cacheSizeBytes=d,h.synchronizeTabs=!0,h}return(0,I.ZT)(a,u),a.prototype.initialize=function(c){return(0,I.mG)(this,void 0,void 0,function(){var d,h=this;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return[4,u.prototype.initialize.call(this,c)];case 1:return g.sent(),d=this.Qo.syncEngine,this.sharedClientState instanceof yg?(this.sharedClientState.syncEngine={ui:x1.bind(null,d),ai:Xv.bind(null,d),hi:ey.bind(null,d),fn:R1.bind(null,d),ci:fd.bind(null,d)},[4,this.sharedClientState.start()]):[3,3];case 2:g.sent(),g.label=3;case 3:return[4,this.persistence.He(function(_){return(0,I.mG)(h,void 0,void 0,function(){return(0,I.Jh)(this,function(y){switch(y.label){case 0:return[4,Qv(this.Qo.syncEngine,_)];case 1:return y.sent(),this.gcScheduler&&(_&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):_||this.gcScheduler.stop()),[2]}})})})];case 4:return g.sent(),[2]}})})},a.prototype.Bo=function(c){var d=wg();if(!yg.yt(d))throw new _e(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var h=Lc(c.databaseInfo.databaseId,c.databaseInfo.persistenceKey);return new yg(d,c.asyncQueue,h,c.clientId,c.initialUser)},a}(ny),kg=function(){function u(){}return u.prototype.initialize=function(a,c){return(0,I.mG)(this,void 0,void 0,function(){var d=this;return(0,I.Jh)(this,function(h){switch(h.label){case 0:return this.localStore?[3,2]:(this.localStore=a.localStore,this.sharedClientState=a.sharedClientState,this.datastore=this.createDatastore(c),this.remoteStore=this.createRemoteStore(c),this.eventManager=this.createEventManager(c),this.syncEngine=this.createSyncEngine(c,!a.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(g){return Wv(d.syncEngine,g,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ch.bind(null,this.syncEngine),[4,ad(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:h.sent(),h.label=2;case 2:return[2]}})})},u.prototype.createEventManager=function(a){return new qc},u.prototype.createDatastore=function(a){var d=Pa(a.databaseInfo.databaseId),h=new Uc(a.databaseInfo);return new C1(a.credentials,h,d)},u.prototype.createRemoteStore=function(a){var c,d,h,g,_,y=this;return c=this.localStore,d=this.datastore,h=a.asyncQueue,g=function(D){return Wv(y.syncEngine,D,0)},_=bg.yt()?new bg:new Jf,new Dg(c,d,h,g,_)},u.prototype.createSyncEngine=function(a,c){return T=c,N=new A1(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,a.initialUser,a.maxConcurrentLimboResolutions),T&&(N.$o=!0),N;var T,N},u.prototype.terminate=function(){return function(a){return(0,I.mG)(this,void 0,void 0,function(){var c;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return c=Be(a),xe("RemoteStore","RemoteStore shutting down."),c.Or.add(5),[4,$c(c)];case 1:return d.sent(),c.Lr.shutdown(),c.Br.set("Unknown"),[2]}})})}(this.remoteStore)},u}(),dh=function(){function u(a){this.observer=a,this.muted=!1}return u.prototype.next=function(a){this.observer.next&&this.jo(this.observer.next,a)},u.prototype.error=function(a){this.observer.error?this.jo(this.observer.error,a):console.error("Uncaught Error in snapshot listener:",a)},u.prototype.Wo=function(){this.muted=!0},u.prototype.jo=function(a,c){var d=this;this.muted||setTimeout(function(){d.muted||a(c)},0)},u}(),fh=(function(){function u(a,c){var d=this;this.Go=a,this.R=c,this.metadata=new Ri,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(h){h&&h.io()?d.metadata.resolve(h.payload.metadata):d.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(h?.payload)))},function(h){return d.metadata.reject(h)})}u.prototype.close=function(){return this.Go.cancel()},u.prototype.getMetadata=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(a){return[2,this.metadata.promise]})})},u.prototype.Lo=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(a){switch(a.label){case 0:return[4,this.getMetadata()];case 1:return[2,(a.sent(),this.Ho())]}})})},u.prototype.Ho=function(){return(0,I.mG)(this,void 0,void 0,function(){var a,c,d,h;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return[4,this.Jo()];case 1:return null===(a=g.sent())?[2,null]:(c=this.zo.decode(a),d=Number(c),isNaN(d)&&this.Yo("length string ("+c+") is not valid number"),[4,this.Xo(d)]);case 2:return h=g.sent(),[2,new I1(JSON.parse(h),a.length+d)]}})})},u.prototype.Zo=function(){return this.buffer.findIndex(function(a){return a==="{".charCodeAt(0)})},u.prototype.Jo=function(){return(0,I.mG)(this,void 0,void 0,function(){var a,c;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(d.sent())return[3,3];d.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((a=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),c=this.buffer.slice(0,a),[2,(this.buffer=this.buffer.slice(a),c)])}})})},u.prototype.Xo=function(a){return(0,I.mG)(this,void 0,void 0,function(){var c;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return this.buffer.length<a?[4,this.tc()]:[3,3];case 1:d.sent()&&this.Yo("Reached the end of bundle when more is expected."),d.label=2;case 2:return[3,0];case 3:return c=this.zo.decode(this.buffer.slice(0,a)),[2,(this.buffer=this.buffer.slice(a),c)]}})})},u.prototype.Yo=function(a){throw this.Go.cancel(),new Error("Invalid bundle format: "+a)},u.prototype.tc=function(){return(0,I.mG)(this,void 0,void 0,function(){var a,c;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return[4,this.Go.read()];case 1:return(a=d.sent()).done||((c=new Uint8Array(this.buffer.length+a.value.length)).set(this.buffer),c.set(a.value,this.buffer.length),this.buffer=c),[2,a.done]}})})}}(),function(){function u(a){this.datastore=a,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return u.prototype.lookup=function(a){return(0,I.mG)(this,void 0,void 0,function(){var c,d=this;return(0,I.Jh)(this,function(h){switch(h.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new _e(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(g,_){return(0,I.mG)(this,void 0,void 0,function(){var y,D,T,N,R,L;return(0,I.Jh)(this,function(ee){switch(ee.label){case 0:return y=Be(g),D=Du(y.R)+"/documents",T={documents:_.map(function(Y){return Nc(y.R,Y)})},[4,y.$i("BatchGetDocuments",D,T)];case 1:return N=ee.sent(),R=new Map,N.forEach(function(Y){var Ae,Le,le=(Ae=y.R,"found"in(Le=Y)?function(ot,ct){rt(!!ct.found);var zt=Ko(ot,ct.found.name),on=ni(ct.found.updateTime),Cn=new ao({mapValue:{fields:ct.found.fields}});return ei.newFoundDocument(zt,on,Cn)}(Ae,Le):"missing"in Le?function(ot,ct){rt(!!ct.missing),rt(!!ct.readTime);var zt=Ko(ot,ct.missing),on=ni(ct.readTime);return ei.newNoDocument(zt,on)}(Ae,Le):et());R.set(le.key.toString(),le)}),L=[],[2,(_.forEach(function(Y){var le=R.get(Y.toString());rt(!!le),L.push(le)}),L)]}})})}(this.datastore,a)];case 1:return[2,((c=h.sent()).forEach(function(g){return d.recordVersion(g)}),c)]}})})},u.prototype.set=function(a,c){this.write(c.toMutation(a,this.precondition(a))),this.writtenDocs.add(a.toString())},u.prototype.update=function(a,c){try{this.write(c.toMutation(a,this.preconditionForUpdate(a)))}catch(d){this.lastWriteError=d}this.writtenDocs.add(a.toString())},u.prototype.delete=function(a){this.write(new ql(a,this.precondition(a))),this.writtenDocs.add(a.toString())},u.prototype.commit=function(){return(0,I.mG)(this,void 0,void 0,function(){var a,c=this;return(0,I.Jh)(this,function(d){switch(d.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return a=this.readVersions,this.mutations.forEach(function(h){a.delete(h.key.toString())}),a.forEach(function(h,g){var _=at.fromPath(g);c.mutations.push(new Kp(_,c.precondition(_)))}),[4,function(h,g){return(0,I.mG)(this,void 0,void 0,function(){var _,y,D;return(0,I.Jh)(this,function(T){switch(T.label){case 0:return _=Be(h),y=Du(_.R)+"/documents",D={writes:g.map(function(N){return vs(_.R,N)})},[4,_.Ni("Commit",y,D)];case 1:return T.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return d.sent(),this.committed=!0,[2]}})})},u.prototype.recordVersion=function(a){var c;if(a.isFoundDocument())c=a.version;else{if(!a.isNoDocument())throw et();c=Lt.min()}var d=this.readVersions.get(a.key.toString());if(d){if(!c.isEqual(d))throw new _e(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(a.key.toString(),c)},u.prototype.precondition=function(a){var c=this.readVersions.get(a.toString());return!this.writtenDocs.has(a.toString())&&c?On.updateTime(c):On.none()},u.prototype.preconditionForUpdate=function(a){var c=this.readVersions.get(a.toString());if(!this.writtenDocs.has(a.toString())&&c){if(c.isEqual(Lt.min()))throw new _e(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return On.updateTime(c)}return On.exists(!0)},u.prototype.write=function(a){this.ensureCommitNotCalled(),this.mutations.push(a)},u.prototype.ensureCommitNotCalled=function(){},u}()),Fg=function(){function u(a,c,d,h){this.asyncQueue=a,this.datastore=c,this.updateFunction=d,this.deferred=h,this.ec=5,this.Zi=new Hc(this.asyncQueue,"transaction_retry")}return u.prototype.run=function(){this.ec-=1,this.nc()},u.prototype.nc=function(){var a=this;this.Zi.ji(function(){return(0,I.mG)(a,void 0,void 0,function(){var c,d,h=this;return(0,I.Jh)(this,function(g){return c=new fh(this.datastore),(d=this.sc(c))&&d.then(function(_){h.asyncQueue.enqueueAndForget(function(){return c.commit().then(function(){h.deferred.resolve(_)}).catch(function(y){h.ic(y)})})}).catch(function(_){h.ic(_)}),[2]})})})},u.prototype.sc=function(a){try{var c=this.updateFunction(a);return!vc(c)&&c.catch&&c.then?c:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(d){return this.deferred.reject(d),null}},u.prototype.ic=function(a){var c=this;this.ec>0&&this.rc(a)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return c.nc(),Promise.resolve()})):this.deferred.reject(a)},u.prototype.rc=function(a){if("FirebaseError"===a.name){var c=a.code;return"aborted"===c||"failed-precondition"===c||!yu(c)}return!1},u}(),ry=function(){function u(a,c,d){var h=this;this.credentials=a,this.asyncQueue=c,this.databaseInfo=d,this.user=Hr.UNAUTHENTICATED,this.clientId=mc.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(c,function(g){return(0,I.mG)(h,void 0,void 0,function(){return(0,I.Jh)(this,function(_){switch(_.label){case 0:return xe("FirestoreClient","Received user=",g.uid),[4,this.credentialListener(g)];case 1:return _.sent(),this.user=g,[2]}})})})}return u.prototype.getConfiguration=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(a){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},u.prototype.setCredentialChangeListener=function(a){this.credentialListener=a},u.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.")},u.prototype.terminate=function(){var a=this;this.asyncQueue.enterRestrictedMode();var c=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,I.mG)(a,void 0,void 0,function(){var d,h;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return g.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:g.sent(),g.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:g.sent(),g.label=4;case 4:return this.credentials.removeChangeListener(),c.resolve(),[3,6];case 5:return d=g.sent(),h=zc(d,"Failed to shutdown persistence"),c.reject(h),[3,6];case 6:return[2]}})})}),c.promise},u}();function Lg(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c,d,h=this;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return u.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider"),[4,u.getConfiguration()];case 1:return c=g.sent(),[4,a.initialize(c)];case 2:return g.sent(),d=c.initialUser,u.setCredentialChangeListener(function(_){return(0,I.mG)(h,void 0,void 0,function(){return(0,I.Jh)(this,function(y){switch(y.label){case 0:return d.isEqual(_)?[3,2]:[4,Qf(a.localStore,_)];case 1:y.sent(),d=_,y.label=2;case 2:return[2]}})})}),a.persistence.setDatabaseDeletedListener(function(){return u.terminate()}),u.offlineComponents=a,[2]}})})}function Vg(u,a){return(0,I.mG)(this,void 0,void 0,function(){var c,d;return(0,I.Jh)(this,function(h){switch(h.label){case 0:return u.asyncQueue.verifyOperationInProgress(),[4,na(u)];case 1:return c=h.sent(),xe("FirestoreClient","Initializing OnlineComponentProvider"),[4,u.getConfiguration()];case 2:return d=h.sent(),[4,a.initialize(c,d)];case 3:return h.sent(),u.setCredentialChangeListener(function(g){return function(_,y){return(0,I.mG)(this,void 0,void 0,function(){var D,T;return(0,I.Jh)(this,function(N){switch(N.label){case 0:return(D=Be(_)).asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials"),T=ta(D),D.Or.add(3),[4,$c(D)];case 1:return N.sent(),T&&D.Br.set("Unknown"),[4,D.remoteSyncer.handleCredentialChange(y)];case 2:return N.sent(),D.Or.delete(3),[4,rd(D)];case 3:return N.sent(),[2]}})})}(a.remoteStore,g)}),u.onlineComponents=a,[2]}})})}function na(u){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(a){switch(a.label){case 0:return u.offlineComponents?[3,2]:(xe("FirestoreClient","Using default OfflineComponentProvider"),[4,Lg(u,new ty)]);case 1:a.sent(),a.label=2;case 2:return[2,u.offlineComponents]}})})}function hh(u){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(a){switch(a.label){case 0:return u.onlineComponents?[3,2]:(xe("FirestoreClient","Using default OnlineComponentProvider"),[4,Vg(u,new kg)]);case 1:a.sent(),a.label=2;case 2:return[2,u.onlineComponents]}})})}function iy(u){return na(u).then(function(a){return a.persistence})}function Bg(u){return na(u).then(function(a){return a.localStore})}function oy(u){return hh(u).then(function(a){return a.remoteStore})}function jg(u){return hh(u).then(function(a){return a.syncEngine})}function ii(u){return(0,I.mG)(this,void 0,void 0,function(){var a,c;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return[4,hh(u)];case 1:return a=d.sent(),[2,((c=a.eventManager).onListen=Og.bind(null,a.syncEngine),c.onUnlisten=Ou.bind(null,a.syncEngine),c)]}})})}function Jo(u,a,c){var d=this;void 0===c&&(c={});var h=new Ri;return u.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(d,void 0,void 0,function(){var g;return(0,I.Jh)(this,function(_){switch(_.label){case 0:return g=function(y,D,T,N,R){var L=new dh({next:function(Y){D.enqueueAndForget(function(){return th(y,ee)});var le=Y.docs.has(T);!le&&Y.fromCache?R.reject(new _e(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):le&&Y.fromCache&&N&&"server"===N.source?R.reject(new _e(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):R.resolve(Y)},error:function(Y){return R.reject(Y)}}),ee=new Mg(Hl(T.path),L,{includeMetadataChanges:!0,so:!0});return Wc(y,ee)},[4,ii(u)];case 1:return[2,g.apply(void 0,[_.sent(),u.asyncQueue,a,c,h])]}})})}),h.promise}function sy(u,a,c){var d=this;void 0===c&&(c={});var h=new Ri;return u.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(d,void 0,void 0,function(){var g;return(0,I.Jh)(this,function(_){switch(_.label){case 0:return g=function(y,D,T,N,R){var L=new dh({next:function(Y){D.enqueueAndForget(function(){return th(y,ee)}),Y.fromCache&&"server"===N.source?R.reject(new _e(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):R.resolve(Y)},error:function(Y){return R.reject(Y)}}),ee=new Mg(T,L,{includeMetadataChanges:!0,so:!0});return Wc(y,ee)},[4,ii(u)];case 1:return[2,g.apply(void 0,[_.sent(),u.asyncQueue,a,c,h])]}})})}),h.promise}var P1=function(u,a,c,d,h,g,_,y){this.databaseId=u,this.appId=a,this.persistenceKey=c,this.host=d,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=_,this.useFetchStreams=y},ph=function(){function u(a,c){this.projectId=a,this.database=c||"(default)"}return Object.defineProperty(u.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(a){return a instanceof u&&a.projectId===this.projectId&&a.database===this.database},u}(),ay=new Map,uy=function(u,a){this.user=a,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+u},cy=function(){function u(){this.changeListener=null}return u.prototype.getToken=function(){return Promise.resolve(null)},u.prototype.invalidateToken=function(){},u.prototype.setChangeListener=function(a,c){this.changeListener=c,a.enqueueRetryable(function(){return c(Hr.UNAUTHENTICATED)})},u.prototype.removeChangeListener=function(){this.changeListener=null},u}(),ly=function(){function u(a){this.token=a,this.changeListener=null}return u.prototype.getToken=function(){return Promise.resolve(this.token)},u.prototype.invalidateToken=function(){},u.prototype.setChangeListener=function(a,c){var d=this;this.changeListener=c,a.enqueueRetryable(function(){return c(d.token.user)})},u.prototype.removeChangeListener=function(){this.changeListener=null},u}(),k1=function(){function u(a){var c=this;this.currentUser=Hr.UNAUTHENTICATED,this.oc=new Ri,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){c.cc++,c.currentUser=c.ac(),c.oc.resolve(),c.changeListener&&c.asyncQueue.enqueueRetryable(function(){return c.changeListener(c.currentUser)})};var d=function(h){xe("FirebaseCredentialsProvider","Auth detected"),c.auth=h,c.auth.addAuthTokenListener(c.uc)};a.onInit(function(h){return d(h)}),setTimeout(function(){if(!c.auth){var h=a.getImmediate({optional:!0});h?d(h):(xe("FirebaseCredentialsProvider","Auth not yet detected"),c.oc.resolve())}},0)}return u.prototype.getToken=function(){var a=this,c=this.cc,d=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(d).then(function(h){return a.cc!==c?(xe("FirebaseCredentialsProvider","getToken aborted due to token change."),a.getToken()):h?(rt("string"==typeof h.accessToken),new uy(h.accessToken,a.currentUser)):null}):Promise.resolve(null)},u.prototype.invalidateToken=function(){this.forceRefresh=!0},u.prototype.setChangeListener=function(a,c){var d=this;this.asyncQueue=a,this.asyncQueue.enqueueRetryable(function(){return(0,I.mG)(d,void 0,void 0,function(){return(0,I.Jh)(this,function(h){switch(h.label){case 0:return[4,this.oc.promise];case 1:return h.sent(),[4,c(this.currentUser)];case 2:return h.sent(),this.changeListener=c,[2]}})})})},u.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},u.prototype.ac=function(){var a=this.auth&&this.auth.getUid();return rt(null===a||"string"==typeof a),new Hr(a)},u}(),F1=function(){function u(a,c,d){this.hc=a,this.lc=c,this.fc=d,this.type="FirstParty",this.user=Hr.FIRST_PARTY}return Object.defineProperty(u.prototype,"authHeaders",{get:function(){var a={"X-Goog-AuthUser":this.lc},c=this.hc.auth.getAuthHeaderValueForFirstParty([]);return c&&(a.Authorization=c),this.fc&&(a["X-Goog-Iam-Authorization-Token"]=this.fc),a},enumerable:!1,configurable:!0}),u}(),L1=function(){function u(a,c,d){this.hc=a,this.lc=c,this.fc=d}return u.prototype.getToken=function(){return Promise.resolve(new F1(this.hc,this.lc,this.fc))},u.prototype.setChangeListener=function(a,c){a.enqueueRetryable(function(){return c(Hr.FIRST_PARTY)})},u.prototype.removeChangeListener=function(){},u.prototype.invalidateToken=function(){},u}();function Ug(u,a,c){if(!c)throw new _e(oe.INVALID_ARGUMENT,"Function "+u+"() cannot be called with an empty "+a+".")}function Jc(u,a){if(void 0===a)return{merge:!1};if(void 0!==a.mergeFields&&void 0!==a.merge)throw new _e(oe.INVALID_ARGUMENT,"Invalid options passed to function "+u+'(): You cannot specify both "merge" and "mergeFields".');return a}function Ds(u,a,c,d){if(!0===a&&!0===d)throw new _e(oe.INVALID_ARGUMENT,u+" and "+c+" cannot be used together.")}function Xc(u){if(!at.isDocumentKey(u))throw new _e(oe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+u+" has "+u.length+".")}function Hg(u){if(at.isDocumentKey(u))throw new _e(oe.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+u+" has "+u.length+".")}function pd(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=u.substring(0,20)+"..."),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";var a=function(c){if(c.constructor){var d=/function\s+([^\s(]+)\s*\(/.exec(c.constructor.toString());if(d&&d.length>1)return d[1]}return null}(u);return a?"a custom "+a+" object":"an object"}return"function"==typeof u?"a function":et()}function dn(u,a){if("_delegate"in u&&(u=u._delegate),!(u instanceof a)){if(a.name===u.constructor.name)throw new _e(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var c=pd(u);throw new _e(oe.INVALID_ARGUMENT,"Expected type '"+a.name+"', but it was: "+c)}return u}function V1(u,a){if(a<=0)throw new _e(oe.INVALID_ARGUMENT,"Function "+u+"() requires a positive number, but it was: "+a+".")}var B1=function(){function u(a){var c;if(void 0===a.host){if(void 0!==a.ssl)throw new _e(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=a.host,this.ssl=null===(c=a.ssl)||void 0===c||c;if(this.credentials=a.credentials,this.ignoreUndefinedProperties=!!a.ignoreUndefinedProperties,void 0===a.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==a.cacheSizeBytes&&a.cacheSizeBytes<1048576)throw new _e(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=a.cacheSizeBytes}this.experimentalForceLongPolling=!!a.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!a.experimentalAutoDetectLongPolling,this.useFetchStreams=!!a.useFetchStreams,Ds("experimentalForceLongPolling",a.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",a.experimentalAutoDetectLongPolling)}return u.prototype.isEqual=function(a){return this.host===a.host&&this.ssl===a.ssl&&this.credentials===a.credentials&&this.cacheSizeBytes===a.cacheSizeBytes&&this.experimentalForceLongPolling===a.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===a.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===a.ignoreUndefinedProperties&&this.useFetchStreams===a.useFetchStreams},u}(),gh=function(){function u(a,c){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B1({}),this._settingsFrozen=!1,a instanceof ph?(this._databaseId=a,this._credentials=new cy):(this._app=a,this._databaseId=function(d){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _e(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ph(d.options.projectId)}(a),this._credentials=new k1(c))}return Object.defineProperty(u.prototype,"app",{get:function(){if(!this._app)throw new _e(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),u.prototype._setSettings=function(a){if(this._settingsFrozen)throw new _e(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B1(a),void 0!==a.credentials&&(this._credentials=function(c){if(!c)return new cy;switch(c.type){case"gapi":var d=c.client;return rt(!("object"!=typeof d||null===d||!d.auth||!d.auth.getAuthHeaderValueForFirstParty)),new L1(d,c.sessionIndex||"0",c.iamToken||null);case"provider":return c.client;default:throw new _e(oe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(a.credentials))},u.prototype._getSettings=function(){return this._settings},u.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},u.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},u.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},u.prototype._terminate=function(){return(c=ay.get(this))&&(xe("ComponentProvider","Removing Datastore"),ay.delete(this),c.terminate()),Promise.resolve();var c},u}(),Wn=function(){function u(a,c,d){this.converter=c,this._key=d,this.type="document",this.firestore=a}return Object.defineProperty(u.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"parent",{get:function(){return new xu(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),u.prototype.withConverter=function(a){return new u(this.firestore,a,this._key)},u}(),Fi=function(){function u(a,c,d){this.converter=c,this._query=d,this.type="query",this.firestore=a}return u.prototype.withConverter=function(a){return new u(this.firestore,a,this._query)},u}(),xu=function(u){function a(c,d,h){var g=this;return(g=u.call(this,c,d,Hl(h))||this)._path=h,g.type="collection",g}return(0,I.ZT)(a,u),Object.defineProperty(a.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){var c=this._path.popLast();return c.isEmpty()?null:new Wn(this.firestore,null,new at(c))},enumerable:!1,configurable:!0}),a.prototype.withConverter=function(c){return new a(this.firestore,c,this._path)},a}(Fi);function j1(u,a){for(var c,d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];if(u=(0,We.m9)(u),Ug("collection","path",a),u instanceof gh)return Hg(c=pn.fromString.apply(pn,(0,I.ev)([a],d))),new xu(u,null,c);if(!(u instanceof Wn||u instanceof xu))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hg(c=pn.fromString.apply(pn,(0,I.ev)([u.path],d)).child(pn.fromString(a))),new xu(u.firestore,null,c)}function gd(u,a){for(var c,d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];if(u=(0,We.m9)(u),1===arguments.length&&(a=mc.u()),Ug("doc","path",a),u instanceof gh)return Xc(c=pn.fromString.apply(pn,(0,I.ev)([a],d))),new Wn(u,null,new at(c));if(!(u instanceof Wn||u instanceof xu))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Xc(c=u._path.child(pn.fromString.apply(pn,(0,I.ev)([a],d)))),new Wn(u.firestore,u instanceof xu?u.converter:null,new at(c))}function dy(u,a){return u=(0,We.m9)(u),a=(0,We.m9)(a),(u instanceof Wn||u instanceof xu)&&(a instanceof Wn||a instanceof xu)&&u.firestore===a.firestore&&u.path===a.path&&u.converter===a.converter}function fy(u,a){return u=(0,We.m9)(u),a=(0,We.m9)(a),u instanceof Fi&&a instanceof Fi&&u.firestore===a.firestore&&Ec(u._query,a._query)&&u.converter===a.converter}var U1=function(){function u(){var a=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Hc(this,"async_queue_retry"),this.Ic=function(){var d=nd();d&&xe("AsyncQueue","Visibility state changed to "+d.visibilityState),a.Zi.Gi()};var c=nd();c&&"function"==typeof c.addEventListener&&c.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(u.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),u.prototype.enqueueAndForget=function(a){this.enqueue(a)},u.prototype.enqueueAndForgetEvenWhileRestricted=function(a){this.Ac(),this.Rc(a)},u.prototype.enterRestrictedMode=function(a){if(!this._c){this._c=!0,this.Ec=a||!1;var c=nd();c&&"function"==typeof c.removeEventListener&&c.removeEventListener("visibilitychange",this.Ic)}},u.prototype.enqueue=function(a){var c=this;if(this.Ac(),this._c)return new Promise(function(){});var d=new Ri;return this.Rc(function(){return c._c&&c.Ec?Promise.resolve():(a().then(d.resolve,d.reject),d.promise)}).then(function(){return d.promise})},u.prototype.enqueueRetryable=function(a){var c=this;this.enqueueAndForget(function(){return c.wc.push(a),c.bc()})},u.prototype.bc=function(){return(0,I.mG)(this,void 0,void 0,function(){var a,c=this;return(0,I.Jh)(this,function(d){switch(d.label){case 0:if(0===this.wc.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return d.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Iu(a=d.sent()))throw a;return xe("AsyncQueue","Operation failed with retryable error: "+a),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return c.bc()}),d.label=5;case 5:return[2]}})})},u.prototype.Rc=function(a){var c=this,d=this.dc.then(function(){return c.gc=!0,a().catch(function(h){throw c.yc=h,c.gc=!1,it("INTERNAL UNHANDLED ERROR: ",(_=(g=h).message||"",g.stack&&(_=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),_)),h;var g,_}).then(function(h){return c.gc=!1,h})});return this.dc=d,d},u.prototype.enqueueAfterDelay=function(a,c,d){var h=this;this.Ac(),this.Tc.indexOf(a)>-1&&(c=0);var g=ud.createAndSchedule(this,a,c,d,function(_){return h.vc(_)});return this.mc.push(g),g},u.prototype.Ac=function(){this.yc&&et()},u.prototype.verifyOperationInProgress=function(){},u.prototype.Pc=function(){return(0,I.mG)(this,void 0,void 0,function(){var a;return(0,I.Jh)(this,function(c){switch(c.label){case 0:return[4,a=this.dc];case 1:c.sent(),c.label=2;case 2:if(a!==this.dc)return[3,0];c.label=3;case 3:return[2]}})})},u.prototype.Vc=function(a){for(var c=0,d=this.mc;c<d.length;c++)if(d[c].timerId===a)return!0;return!1},u.prototype.Sc=function(a){var c=this;return this.Pc().then(function(){c.mc.sort(function(_,y){return _.targetTimeMs-y.targetTimeMs});for(var d=0,h=c.mc;d<h.length;d++){var g=h[d];if(g.skipDelay(),"all"!==a&&g.timerId===a)break}return c.Pc()})},u.prototype.Dc=function(a){this.Tc.push(a)},u.prototype.vc=function(a){var c=this.mc.indexOf(a);this.mc.splice(c,1)},u}();function el(u){return function(a,c){if("object"!=typeof a||null===a)return!1;for(var d=a,h=0,g=["next","error","complete"];h<g.length;h++){var _=g[h];if(_ in d&&"function"==typeof d[_])return!0}return!1}(u)}!function(){function u(){this._progressObserver={},this._taskCompletionResolver=new Ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}u.prototype.onProgress=function(a,c,d){this._progressObserver={next:a,error:c,complete:d}},u.prototype.catch=function(a){return this._taskCompletionResolver.promise.catch(a)},u.prototype.then=function(a,c){return this._taskCompletionResolver.promise.then(a,c)},u.prototype._completeWith=function(a){this._updateProgress(a),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(a)},u.prototype._failWith=function(a){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(a),this._taskCompletionResolver.reject(a)},u.prototype._updateProgress=function(a){this._lastProgress=a,this._progressObserver.next&&this._progressObserver.next(a)}}();var fr=function(u){function a(c,d){var h=this;return(h=u.call(this,c,d)||this).type="firestore",h._queue=new U1,h._persistenceKey="name"in c?c.name:"[DEFAULT]",h}return(0,I.ZT)(a,u),a.prototype._terminate=function(){return this._firestoreClient||py(this),this._firestoreClient.terminate()},a}(gh);function Ir(u){return u._firestoreClient||py(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function py(u){var a,g,y,c=u._freezeSettings(),d=(g=(null===(a=u._app)||void 0===a?void 0:a.options.appId)||"",new P1(u._databaseId,g,u._persistenceKey,(y=c).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));u._firestoreClient=new ry(u._credentials,u._queue,d)}function yo(u,a,c){var d=this,h=new Ri;return u.asyncQueue.enqueue(function(){return(0,I.mG)(d,void 0,void 0,function(){var g;return(0,I.Jh)(this,function(_){switch(_.label){case 0:return _.trys.push([0,3,,4]),[4,Lg(u,c)];case 1:return _.sent(),[4,Vg(u,a)];case 2:return _.sent(),h.resolve(),[3,4];case 3:if(!("FirebaseError"===(y=g=_.sent()).name?y.code===oe.FAILED_PRECONDITION||y.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&y instanceof DOMException)||22===y.code||20===y.code||11===y.code))throw g;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+g),h.reject(g),[3,4];case 4:return[2]}var y})})}).then(function(){return h.promise})}function gy(u){if(u._initialized||u._terminated)throw new _e(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Cs=function(){function u(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];for(var d=0;d<a.length;++d)if(0===a[d].length)throw new _e(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ps(a)}return u.prototype.isEqual=function(a){return this._internalPath.isEqual(a._internalPath)},u}(),$r=function(){function u(a){this._byteString=a}return u.fromBase64String=function(a){try{return new u(Wi.fromBase64String(a))}catch(c){throw new _e(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+c)}},u.fromUint8Array=function(a){return new u(Wi.fromUint8Array(a))},u.prototype.toBase64=function(){return this._byteString.toBase64()},u.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},u.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},u.prototype.isEqual=function(a){return this._byteString.isEqual(a._byteString)},u}(),Va=function(u){this._methodName=u},_h=function(){function u(a,c){if(!isFinite(a)||a<-90||a>90)throw new _e(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+a);if(!isFinite(c)||c<-180||c>180)throw new _e(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+c);this._lat=a,this._long=c}return Object.defineProperty(u.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(a){return this._lat===a._lat&&this._long===a._long},u.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},u.prototype._compareTo=function(a){return dt(this._lat,a._lat)||dt(this._long,a._long)},u}(),H1=/^__.*__$/,$1=function(){function u(a,c,d){this.data=a,this.fieldMask=c,this.fieldTransforms=d}return u.prototype.toMutation=function(a,c){return null!==this.fieldMask?new Ws(a,this.data,this.fieldMask,c,this.fieldTransforms):new Ic(a,this.data,c,this.fieldTransforms)},u}(),my=function(){function u(a,c,d){this.data=a,this.fieldMask=c,this.fieldTransforms=d}return u.prototype.toMutation=function(a,c){return new Ws(a,this.data,this.fieldMask,c,this.fieldTransforms)},u}();function $g(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}var G1=function(){function u(a,c,d,h,g,_){this.settings=a,this.databaseId=c,this.R=d,this.ignoreUndefinedProperties=h,void 0===g&&this.Cc(),this.fieldTransforms=g||[],this.fieldMask=_||[]}return Object.defineProperty(u.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),u.prototype.xc=function(a){return new u(Object.assign(Object.assign({},this.settings),a),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},u.prototype.kc=function(a){var c,d=null===(c=this.path)||void 0===c?void 0:c.child(a),h=this.xc({path:d,Fc:!1});return h.$c(a),h},u.prototype.Oc=function(a){var c,d=null===(c=this.path)||void 0===c?void 0:c.child(a),h=this.xc({path:d,Fc:!1});return h.Cc(),h},u.prototype.Mc=function(a){return this.xc({path:void 0,Fc:!0})},u.prototype.Lc=function(a){return nl(a,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},u.prototype.contains=function(a){return void 0!==this.fieldMask.find(function(c){return a.isPrefixOf(c)})||void 0!==this.fieldTransforms.find(function(c){return a.isPrefixOf(c.field)})},u.prototype.Cc=function(){if(this.path)for(var a=0;a<this.path.length;a++)this.$c(this.path.get(a))},u.prototype.$c=function(a){if(0===a.length)throw this.Lc("Document fields must not be empty");if($g(this.Nc)&&H1.test(a))throw this.Lc('Document fields cannot begin and end with "__"')},u}(),KE=function(){function u(a,c,d){this.databaseId=a,this.ignoreUndefinedProperties=c,this.R=d||Pa(a)}return u.prototype.Uc=function(a,c,d,h){return void 0===h&&(h=!1),new G1({Nc:a,methodName:c,qc:d,path:ps.emptyPath(),Fc:!1,Bc:h},this.databaseId,this.R,this.ignoreUndefinedProperties)},u}();function Xo(u){var a=u._freezeSettings(),c=Pa(u._databaseId);return new KE(u._databaseId,!!a.ignoreUndefinedProperties,c)}function Ba(u,a,c,d,h,g){void 0===g&&(g={});var _=u.Uc(g.merge||g.mergeFields?2:0,a,c,h);wh("Data must be an object, but it was:",_,d);var y,D,T=yy(d,_);if(g.merge)y=new _c(_.fieldMask),D=_.fieldTransforms;else if(g.mergeFields){for(var N=[],R=0,L=g.mergeFields;R<L.length;R++){var ee=Dh(a,L[R],c);if(!_.contains(ee))throw new _e(oe.INVALID_ARGUMENT,"Field '"+ee+"' is specified in your field mask but missing from your input data.");md(N,ee)||N.push(ee)}y=new _c(N),D=_.fieldTransforms.filter(function(Y){return y.covers(Y.field)})}else y=null,D=_.fieldTransforms;return new $1(new ao(T),y,D)}var vh=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,I.ZT)(a,u),a.prototype._toFieldTransform=function(c){if(2!==c.Nc)throw c.Lc(1===c.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return c.fieldMask.push(c.path),null},a.prototype.isEqual=function(c){return c instanceof a},a}(Va);function Gg(u,a,c){return new G1({Nc:3,qc:a.settings.qc,methodName:u._methodName,Fc:c},a.databaseId,a.R,a.ignoreUndefinedProperties)}var zg=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,I.ZT)(a,u),a.prototype._toFieldTransform=function(c){return new Sc(c.path,new Ki)},a.prototype.isEqual=function(c){return c instanceof a},a}(Va),_y=function(u){function a(c,d){var h=this;return(h=u.call(this,c)||this).Kc=d,h}return(0,I.ZT)(a,u),a.prototype._toFieldTransform=function(c){var d=Gg(this,c,!0),h=this.Kc.map(function(_){return ra(_,d)}),g=new Ta(h);return new Sc(c.path,g)},a.prototype.isEqual=function(c){return this===c},a}(Va),z1=function(u){function a(c,d){var h=this;return(h=u.call(this,c)||this).Kc=d,h}return(0,I.ZT)(a,u),a.prototype._toFieldTransform=function(c){var d=Gg(this,c,!0),h=this.Kc.map(function(_){return ra(_,d)}),g=new gn(h);return new Sc(c.path,g)},a.prototype.isEqual=function(c){return this===c},a}(Va),vy=function(u){function a(c,d){var h=this;return(h=u.call(this,c)||this).Qc=d,h}return(0,I.ZT)(a,u),a.prototype._toFieldTransform=function(c){var d=new qs(c.R,Gp(c.R,this.Qc));return new Sc(c.path,d)},a.prototype.isEqual=function(c){return this===c},a}(Va);function yh(u,a,c,d){var h=u.Uc(1,a,c);wh("Data must be an object, but it was:",h,d);var g=[],_=ao.empty();hs(d,function(D,T){var N=qg(a,D,c);T=(0,We.m9)(T);var R=h.Oc(N);if(T instanceof vh)g.push(N);else{var L=ra(T,R);null!=L&&(g.push(N),_.set(N,L))}});var y=new _c(g);return new my(_,y,h.fieldTransforms)}function tl(u,a,c,d,h,g){var _=u.Uc(1,a,c),y=[Dh(a,d,c)],D=[h];if(g.length%2!=0)throw new _e(oe.INVALID_ARGUMENT,"Function "+a+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var T=0;T<g.length;T+=2)y.push(Dh(a,g[T])),D.push(g[T+1]);for(var N=[],R=ao.empty(),L=y.length-1;L>=0;--L)if(!md(N,y[L])){var ee=y[L],Y=D[L];Y=(0,We.m9)(Y);var le=_.Oc(ee);if(Y instanceof vh)N.push(ee);else{var Ae=ra(Y,le);null!=Ae&&(N.push(ee),R.set(ee,Ae))}}var Le=new _c(N);return new my(R,Le,_.fieldTransforms)}function q1(u,a,c,d){return void 0===d&&(d=!1),ra(c,u.Uc(d?4:3,a))}function ra(u,a){if(bh(u=(0,We.m9)(u)))return wh("Unsupported field value:",a,u),yy(u,a);if(u instanceof Va)return function(c,d){if(!$g(d.Nc))throw d.Lc(c._methodName+"() can only be used with update() and set()");if(!d.path)throw d.Lc(c._methodName+"() is not currently supported inside arrays");var h=c._toFieldTransform(d);h&&d.fieldTransforms.push(h)}(u,a),null;if(void 0===u&&a.ignoreUndefinedProperties)return null;if(a.path&&a.fieldMask.push(a.path),u instanceof Array){if(a.settings.Fc&&4!==a.Nc)throw a.Lc("Nested arrays are not supported");return function(c,d){for(var h=[],g=0,_=0,y=c;_<y.length;_++){var D=ra(y[_],d.Mc(g));null==D&&(D={nullValue:"NULL_VALUE"}),h.push(D),g++}return{arrayValue:{values:h}}}(u,a)}return function(c,d){if(null===(c=(0,We.m9)(c)))return{nullValue:"NULL_VALUE"};if("number"==typeof c)return Gp(d.R,c);if("boolean"==typeof c)return{booleanValue:c};if("string"==typeof c)return{stringValue:c};if(c instanceof Date){var h=An.fromDate(c);return{timestampValue:wu(d.R,h)}}if(c instanceof An)return h=new An(c.seconds,1e3*Math.floor(c.nanoseconds/1e3)),{timestampValue:wu(d.R,h)};if(c instanceof _h)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof $r)return{bytesValue:eg(d.R,c._byteString)};if(c instanceof Wn){var g=c.firestore._databaseId;if(!g.isEqual(h=d.databaseId))throw d.Lc("Document reference is for database "+g.projectId+"/"+g.database+" but should be for database "+h.projectId+"/"+h.database);return{referenceValue:Vf(c.firestore._databaseId||d.databaseId,c._key.path)}}throw d.Lc("Unsupported field value: "+pd(c))}(u,a)}function yy(u,a){var c={};return Mo(u)?a.path&&a.path.length>0&&a.fieldMask.push(a.path):hs(u,function(d,h){var g=ra(h,a.kc(d));null!=g&&(c[d]=g)}),{mapValue:{fields:c}}}function bh(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof An||u instanceof _h||u instanceof $r||u instanceof Wn||u instanceof Va)}function wh(u,a,c){if(!bh(c)||"object"!=typeof(h=c)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){var d=pd(c);throw a.Lc("an object"===d?u+" a custom object":u+" "+d)}var h}function Dh(u,a,c){if((a=(0,We.m9)(a))instanceof Cs)return a._internalPath;if("string"==typeof a)return qg(u,a);throw nl("Field path arguments must be of type string or FieldPath.",u,!1,void 0,c)}var Ru=new RegExp("[~\\*/\\[\\]]");function qg(u,a,c){if(a.search(Ru)>=0)throw nl("Invalid field path ("+a+"). Paths must not contain '~', '*', '/', '[', or ']'",u,!1,void 0,c);try{return(new(Cs.bind.apply(Cs,(0,I.ev)([void 0],a.split(".")))))._internalPath}catch{throw nl("Invalid field path ("+a+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",u,!1,void 0,c)}}function nl(u,a,c,d,h){var g=d&&!d.isEmpty(),_=void 0!==h,y="Function "+a+"() called with invalid data";c&&(y+=" (via `toFirestore()`)");var D="";return(g||_)&&(D+=" (found",g&&(D+=" in field "+d),_&&(D+=" in document "+h),D+=")"),new _e(oe.INVALID_ARGUMENT,(y+=". ")+u+D)}function md(u,a){return u.some(function(c){return c.isEqual(a)})}var _d=function(){function u(a,c,d,h,g){this._firestore=a,this._userDataWriter=c,this._key=d,this._document=h,this._converter=g}return Object.defineProperty(u.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ref",{get:function(){return new Wn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),u.prototype.exists=function(){return null!==this._document},u.prototype.data=function(){if(this._document){if(this._converter){var a=new Wg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(a)}return this._userDataWriter.convertValue(this._document.data.value)}},u.prototype.get=function(a){if(this._document){var c=this._document.data.field(Pu("DocumentSnapshot.get",a));if(null!==c)return this._userDataWriter.convertValue(c)}},u}(),Wg=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,I.ZT)(a,u),a.prototype.data=function(){return u.prototype.data.call(this)},a}(_d);function Pu(u,a){return"string"==typeof a?qg(u,a):a instanceof Cs?a._internalPath:a._delegate._internalPath}var Mr=function(){function u(a,c){this.hasPendingWrites=a,this.fromCache=c}return u.prototype.isEqual=function(a){return this.hasPendingWrites===a.hasPendingWrites&&this.fromCache===a.fromCache},u}(),lo=function(u){function a(c,d,h,g,_,y){var D=this;return(D=u.call(this,c,d,h,g,y)||this)._firestore=c,D._firestoreImpl=c,D.metadata=_,D}return(0,I.ZT)(a,u),a.prototype.exists=function(){return u.prototype.exists.call(this)},a.prototype.data=function(c){if(void 0===c&&(c={}),this._document){if(this._converter){var d=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(d,c)}return this._userDataWriter.convertValue(this._document.data.value,c.serverTimestamps)}},a.prototype.get=function(c,d){if(void 0===d&&(d={}),this._document){var h=this._document.data.field(Pu("DocumentSnapshot.get",c));if(null!==h)return this._userDataWriter.convertValue(h,d.serverTimestamps)}},a}(_d),ku=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,I.ZT)(a,u),a.prototype.data=function(c){return void 0===c&&(c={}),u.prototype.data.call(this,c)},a}(lo),ja=function(){function u(a,c,d,h){this._firestore=a,this._userDataWriter=c,this._snapshot=h,this.metadata=new Mr(h.hasPendingWrites,h.fromCache),this.query=d}return Object.defineProperty(u.prototype,"docs",{get:function(){var a=[];return this.forEach(function(c){return a.push(c)}),a},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),u.prototype.forEach=function(a,c){var d=this;this._snapshot.docs.forEach(function(h){a.call(c,new ku(d._firestore,d._userDataWriter,h.key,h,new Mr(d._snapshot.mutatedKeys.has(h.key),d._snapshot.fromCache),d.query.converter))})},u.prototype.docChanges=function(a){void 0===a&&(a={});var c=!!a.includeMetadataChanges;if(c&&this._snapshot.excludesMetadataChanges)throw new _e(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===c||(this._cachedChanges=function(d,h){if(d._snapshot.oldDocs.isEmpty()){var g=0;return d._snapshot.docChanges.map(function(y){return{type:"added",doc:new ku(d._firestore,d._userDataWriter,y.doc.key,y.doc,new Mr(d._snapshot.mutatedKeys.has(y.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:g++}})}var _=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(function(y){return h||3!==y.type}).map(function(y){var D=new ku(d._firestore,d._userDataWriter,y.doc.key,y.doc,new Mr(d._snapshot.mutatedKeys.has(y.doc.key),d._snapshot.fromCache),d.query.converter),T=-1,N=-1;return 0!==y.type&&(T=_.indexOf(y.doc.key),_=_.delete(y.doc.key)),1!==y.type&&(N=(_=_.add(y.doc)).indexOf(y.doc.key)),{type:W1(y.type),doc:D,oldIndex:T,newIndex:N}})}(this,c),this._cachedChangesIncludeMetadataChanges=c),this._cachedChanges},u}();function W1(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function Zg(u,a){return u instanceof lo&&a instanceof lo?u._firestore===a._firestore&&u._key.isEqual(a._key)&&(null===u._document?null===a._document:u._document.isEqual(a._document))&&u._converter===a._converter:u instanceof ja&&a instanceof ja&&u._firestore===a._firestore&&fy(u.query,a.query)&&u.metadata.isEqual(a.metadata)&&u._snapshot.isEqual(a._snapshot)}function Fu(u){if($l(u)&&0===u.explicitOrderBy.length)throw new _e(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vd=function(){};function Ua(u){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];for(var d=0,h=a;d<h.length;d++)u=h[d]._apply(u);return u}var Z1=function(u){function a(c,d,h){var g=this;return(g=u.call(this)||this).jc=c,g.Wc=d,g.Gc=h,g.type="where",g}return(0,I.ZT)(a,u),a.prototype._apply=function(c){var g,y,d=Xo(c.firestore),h=function(g,_,y,D,T,N,R){var L;if(T.isKeyField()){if("array-contains"===N||"array-contains-any"===N)throw new _e(oe.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+N+"' queries on FieldPath.documentId().");if("in"===N||"not-in"===N){Yg(R,N);for(var ee=[],Y=0,le=R;Y<le.length;Y++)ee.push(K1(D,g,le[Y]));L={arrayValue:{values:ee}}}else L=K1(D,g,R)}else"in"!==N&&"not-in"!==N&&"array-contains-any"!==N||Yg(R,N),L=q1(y,"where",R,"in"===N||"not-in"===N);var Le=uo.create(T,N,L);return function(ot,ct){if(ct.g()){var zt=Hp(ot);if(null!==zt&&!zt.isEqual(ct.field))throw new _e(oe.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+zt.toString()+"' and '"+ct.field.toString()+"'");var on=Of(ot);null!==on&&Jg(0,ct.field,on)}var Cn=function(Li,kh){for(var il=0,Gr=Li.filters;il<Gr.length;il++){var im=Gr[il];if(kh.indexOf(im.op)>=0)return im.op}return null}(ot,function(Li){switch(Li){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ct.op));if(null!==Cn)throw new _e(oe.INVALID_ARGUMENT,Cn===ct.op?"Invalid query. You cannot use more than one '"+ct.op.toString()+"' filter.":"Invalid query. You cannot use '"+ct.op.toString()+"' filters with '"+Cn.toString()+"' filters.")}(g,Le),Le}(c._query,0,d,c.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Fi(c.firestore,c.converter,(y=(g=c._query).filters.concat([h]),new Zo(g.path,g.collectionGroup,g.explicitOrderBy.slice(),y,g.limit,g.limitType,g.startAt,g.endAt)))},a}(vd),Kg=function(u){function a(c,d){var h=this;return(h=u.call(this)||this).jc=c,h.zc=d,h.type="orderBy",h}return(0,I.ZT)(a,u),a.prototype._apply=function(c){var h,_,d=function(h,g,_){if(null!==h.startAt)throw new _e(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new _e(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var y=new Ul(g,_);return function(D,T){if(null===Of(D)){var N=Hp(D);null!==N&&Jg(0,N,T.field)}}(h,y),y}(c._query,this.jc,this.zc);return new Fi(c.firestore,c.converter,(_=(h=c._query).explicitOrderBy.concat([d]),new Zo(h.path,h.collectionGroup,_,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)))},a}(vd),yd=function(u){function a(c,d,h){var g=this;return(g=u.call(this)||this).type=c,g.Hc=d,g.Jc=h,g}return(0,I.ZT)(a,u),a.prototype._apply=function(c){return new Fi(c.firestore,c.converter,Q_(c._query,this.Hc,this.Jc))},a}(vd),by=function(u){function a(c,d,h){var g=this;return(g=u.call(this)||this).type=c,g.Yc=d,g.Xc=h,g}return(0,I.ZT)(a,u),a.prototype._apply=function(c){var h,g,d=Lu(c,this.type,this.Yc,this.Xc);return new Fi(c.firestore,c.converter,(g=d,new Zo((h=c._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,g,h.endAt)))},a}(vd),Qg=function(u){function a(c,d,h){var g=this;return(g=u.call(this)||this).type=c,g.Yc=d,g.Xc=h,g}return(0,I.ZT)(a,u),a.prototype._apply=function(c){var h,g,d=Lu(c,this.type,this.Yc,this.Xc);return new Fi(c.firestore,c.converter,(g=d,new Zo((h=c._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,g)))},a}(vd);function Lu(u,a,c,d){if(c[0]=(0,We.m9)(c[0]),c[0]instanceof _d)return function(g,_,y,D,T){if(!D)throw new _e(oe.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+y+"().");for(var N=[],R=0,L=Cc(g);R<L.length;R++){var ee=L[R];if(ee.field.isKeyField())N.push(Wo(_,D.key));else{var Y=D.data.field(ee.field);if(H_(Y))throw new _e(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Y){var le=ee.field.canonicalString();throw new _e(oe.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+le+"' (used as the orderBy) does not exist.")}N.push(Y)}}return new jl(N,T)}(u._query,u.firestore._databaseId,a,c[0]._document,d);var h=Xo(u.firestore);return function(g,_,y,D,T,N){var R=g.explicitOrderBy;if(T.length>R.length)throw new _e(oe.INVALID_ARGUMENT,"Too many arguments provided to "+D+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var L=[],ee=0;ee<T.length;ee++){var Y=T[ee];if(R[ee].field.isKeyField()){if("string"!=typeof Y)throw new _e(oe.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+D+"(), but got a "+typeof Y);if(!$p(g)&&-1!==Y.indexOf("/"))throw new _e(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+D+"() must be a plain document ID, but '"+Y+"' contains a slash.");var le=g.path.child(pn.fromString(Y));if(!at.isDocumentKey(le))throw new _e(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+D+"() must result in a valid document path, but '"+le+"' is not because it contains an odd number of segments.");var Ae=new at(le);L.push(Wo(_,Ae))}else{var Le=q1(y,D,Y);L.push(Le)}}return new jl(L,N)}(u._query,u.firestore._databaseId,h,a,c,d)}function K1(u,a,c){if("string"==typeof(c=(0,We.m9)(c))){if(""===c)throw new _e(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$p(a)&&-1!==c.indexOf("/"))throw new _e(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+c+"' contains a '/' character.");var d=a.path.child(pn.fromString(c));if(!at.isDocumentKey(d))throw new _e(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+d+"' is not because it has an odd number of segments ("+d.length+").");return Wo(u,new at(d))}if(c instanceof Wn)return Wo(u,c._key);throw new _e(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+pd(c)+".")}function Yg(u,a){if(!Array.isArray(u)||0===u.length)throw new _e(oe.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+a.toString()+"' filters.");if(u.length>10)throw new _e(oe.INVALID_ARGUMENT,"Invalid Query. '"+a.toString()+"' filters support a maximum of 10 elements in the value array.")}function Jg(u,a,c){if(!c.isEqual(a))throw new _e(oe.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+a.toString()+"' and so you must also use '"+a.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+c.toString()+"' instead.")}var Xg=function(){function u(){}return u.prototype.convertValue=function(a,c){switch(void 0===c&&(c="none"),yc(a)){case 0:return null;case 1:return a.booleanValue;case 2:return kr(a.integerValue||a.doubleValue);case 3:return this.convertTimestamp(a.timestampValue);case 4:return this.convertServerTimestamp(a,c);case 5:return a.stringValue;case 6:return this.convertBytes(kl(a.bytesValue));case 7:return this.convertReference(a.referenceValue);case 8:return this.convertGeoPoint(a.geoPointValue);case 9:return this.convertArray(a.arrayValue,c);case 10:return this.convertObject(a.mapValue,c);default:throw et()}},u.prototype.convertObject=function(a,c){var d=this,h={};return hs(a.fields,function(g,_){h[g]=d.convertValue(_,c)}),h},u.prototype.convertGeoPoint=function(a){return new _h(kr(a.latitude),kr(a.longitude))},u.prototype.convertArray=function(a,c){var d=this;return(a.values||[]).map(function(h){return d.convertValue(h,c)})},u.prototype.convertServerTimestamp=function(a,c){switch(c){case"previous":var d=Ub(a);return null==d?null:this.convertValue(d,c);case"estimate":return this.convertTimestamp(Tf(a));default:return null}},u.prototype.convertTimestamp=function(a){var c=mu(a);return new An(c.seconds,c.nanos)},u.prototype.convertDocumentKey=function(a,c){var d=pn.fromString(a);rt(sg(d));var h=new ph(d.get(1),d.get(3)),g=new at(d.popFirst(5));return h.isEqual(c)||it("Document "+g+" contains a document reference within a different database ("+h.projectId+"/"+h.database+") which is not supported. It will be treated as a reference in the current database ("+c.projectId+"/"+c.database+") instead."),g},u}();function em(u,a,c){return u?c&&(c.merge||c.mergeFields)?u.toFirestore(a,c):u.toFirestore(a):a}var QE=function(u){function a(c){var d=this;return(d=u.call(this)||this).firestore=c,d}return(0,I.ZT)(a,u),a.prototype.convertBytes=function(c){return new $r(c)},a.prototype.convertReference=function(c){var d=this.convertDocumentKey(c,this.firestore._databaseId);return new Wn(this.firestore,null,d)},a}(Xg),Ch=function(){function u(a,c){this._firestore=a,this._commitHandler=c,this._mutations=[],this._committed=!1,this._dataReader=Xo(a)}return u.prototype.set=function(a,c,d){this._verifyNotCommitted();var h=Ha(a,this._firestore),g=em(h.converter,c,d),_=Ba(this._dataReader,"WriteBatch.set",h._key,g,null!==h.converter,d);return this._mutations.push(_.toMutation(h._key,On.none())),this},u.prototype.update=function(a,c,d){for(var h=[],g=3;g<arguments.length;g++)h[g-3]=arguments[g];this._verifyNotCommitted();var _,y=Ha(a,this._firestore);return _="string"==typeof(c=(0,We.m9)(c))||c instanceof Cs?tl(this._dataReader,"WriteBatch.update",y._key,c,d,h):yh(this._dataReader,"WriteBatch.update",y._key,c),this._mutations.push(_.toMutation(y._key,On.exists(!0))),this},u.prototype.delete=function(a){this._verifyNotCommitted();var c=Ha(a,this._firestore);return this._mutations=this._mutations.concat(new ql(c._key,On.none())),this},u.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},u.prototype._verifyNotCommitted=function(){if(this._committed)throw new _e(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},u}();function Ha(u,a){if((u=(0,We.m9)(u)).firestore!==a)throw new _e(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}var ia=function(u){function a(c){var d=this;return(d=u.call(this)||this).firestore=c,d}return(0,I.ZT)(a,u),a.prototype.convertBytes=function(c){return new $r(c)},a.prototype.convertReference=function(c){var d=this.convertDocumentKey(c,this.firestore._databaseId);return new Wn(this.firestore,null,d)},a}(Xg);function Eh(u,a,c){u=dn(u,Wn);var d=dn(u.firestore,fr),h=em(u.converter,a,c);return Bu(d,[Ba(Xo(d),"setDoc",u._key,h,null!==u.converter,c).toMutation(u._key,On.none())])}function Vu(u,a,c){for(var d=[],h=3;h<arguments.length;h++)d[h-3]=arguments[h];u=dn(u,Wn);var g=dn(u.firestore,fr),_=Xo(g);return Bu(g,[("string"==typeof(a=(0,We.m9)(a))||a instanceof Cs?tl(_,"updateDoc",u._key,a,c,d):yh(_,"updateDoc",u._key,a)).toMutation(u._key,On.exists(!0))])}function Sh(u){for(var a,c,d,h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];u=(0,We.m9)(u);var _={includeMetadataChanges:!1},y=0;"object"!=typeof h[y]||el(h[y])||(_=h[y],y++);var D,T,N,R={includeMetadataChanges:_.includeMetadataChanges};if(el(h[y])){var L=h[y];h[y]=null===(a=L.next)||void 0===a?void 0:a.bind(L),h[y+1]=null===(c=L.error)||void 0===c?void 0:c.bind(L),h[y+2]=null===(d=L.complete)||void 0===d?void 0:d.bind(L)}if(u instanceof Wn)T=dn(u.firestore,fr),N=Hl(u._key.path),D={next:function(le){h[y]&&h[y](ju(T,u,le))},error:h[y+1],complete:h[y+2]};else{var ee=dn(u,Fi);T=dn(ee.firestore,fr),N=ee._query;var Y=new ia(T);D={next:function(le){h[y]&&h[y](new ja(T,Y,ee,le))},error:h[y+1],complete:h[y+2]},Fu(u._query)}return function(le,Ae,Le,ot){var ct=this,zt=new dh(ot),on=new Mg(Ae,zt,Le);return le.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(ct,void 0,void 0,function(){var Cn;return(0,I.Jh)(this,function(Li){switch(Li.label){case 0:return Cn=Wc,[4,ii(le)];case 1:return[2,Cn.apply(void 0,[Li.sent(),on])]}})})}),function(){zt.Wo(),le.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(ct,void 0,void 0,function(){var Cn;return(0,I.Jh)(this,function(Li){switch(Li.label){case 0:return Cn=th,[4,ii(le)];case 1:return[2,Cn.apply(void 0,[Li.sent(),on])]}})})})}}(Ir(T),N,R,D)}function Bu(u,a){return function(c,d){var h=this,g=new Ri;return c.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(h,void 0,void 0,function(){var _;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return _=qv,[4,jg(c)];case 1:return[2,_.apply(void 0,[y.sent(),d,g])]}})})}),g.promise}(Ir(u),a)}function ju(u,a,c){var d=c.docs.get(a._key),h=new ia(u);return new lo(u,h,a._key,d,new Mr(c.hasPendingWrites,c.fromCache),a.converter)}var Th=function(u){function a(c,d){var h=this;return(h=u.call(this,c,d)||this)._firestore=c,h}return(0,I.ZT)(a,u),a.prototype.get=function(c){var d=this,h=Ha(c,this._firestore),g=new ia(this._firestore);return u.prototype.get.call(this,c).then(function(_){return new lo(d._firestore,g,h._key,_._document,new Mr(!1,!1),h.converter)})},a}(function(){function u(a,c){this._firestore=a,this._transaction=c,this._dataReader=Xo(a)}return u.prototype.get=function(a){var c=this,d=Ha(a,this._firestore),h=new QE(this._firestore);return this._transaction.lookup([d._key]).then(function(g){if(!g||1!==g.length)return et();var _=g[0];if(_.isFoundDocument())return new _d(c._firestore,h,_.key,_,d.converter);if(_.isNoDocument())return new _d(c._firestore,h,d._key,null,d.converter);throw et()})},u.prototype.set=function(a,c,d){var h=Ha(a,this._firestore),g=em(h.converter,c,d),_=Ba(this._dataReader,"Transaction.set",h._key,g,null!==h.converter,d);return this._transaction.set(h._key,_),this},u.prototype.update=function(a,c,d){for(var h=[],g=3;g<arguments.length;g++)h[g-3]=arguments[g];var _,y=Ha(a,this._firestore);return _="string"==typeof(c=(0,We.m9)(c))||c instanceof Cs?tl(this._dataReader,"Transaction.update",y._key,c,d,h):yh(this._dataReader,"Transaction.update",y._key,c),this._transaction.update(y._key,_),this},u.prototype.delete=function(a){var c=Ha(a,this._firestore);return this._transaction.delete(c._key),this},u}());function Uu(){if(typeof Uint8Array>"u")throw new _e(oe.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ih(){if(typeof atob>"u")throw new _e(oe.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Mh=function(){function u(a){this._delegate=a}return u.fromBase64String=function(a){return Ih(),new u($r.fromBase64String(a))},u.fromUint8Array=function(a){return Uu(),new u($r.fromUint8Array(a))},u.prototype.toBase64=function(){return Ih(),this._delegate.toBase64()},u.prototype.toUint8Array=function(){return Uu(),this._delegate.toUint8Array()},u.prototype.isEqual=function(a){return this._delegate.isEqual(a._delegate)},u.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},u}(),Nh=function(){function u(){}return u.prototype.enableIndexedDbPersistence=function(a,c){return function(d,h){gy(d=dn(d,fr));var g=Ir(d),_=d._freezeSettings(),y=new kg;return yo(g,y,new ny(y,_.cacheSizeBytes,h?.forceOwnership))}(a._delegate,{forceOwnership:c})},u.prototype.enableMultiTabIndexedDbPersistence=function(a){return function(c){gy(c=dn(c,fr));var d=Ir(c),h=c._freezeSettings(),g=new kg;return yo(d,g,new ZE(g,h.cacheSizeBytes))}(a._delegate)},u.prototype.clearIndexedDbPersistence=function(a){return function(c){var d=this;if(c._initialized&&!c._terminated)throw new _e(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var h=new Ri;return c._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,I.mG)(d,void 0,void 0,function(){var g;return(0,I.Jh)(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,function(y){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(T){switch(T.label){case 0:return Su.yt()?[4,Su.delete(y+"main")]:[2,Promise.resolve()];case 1:return T.sent(),[2]}})})}(Lc(c._databaseId,c._persistenceKey))];case 1:return _.sent(),h.resolve(),[3,3];case 2:return g=_.sent(),h.reject(g),[3,3];case 3:return[2]}})})}),h.promise}(a._delegate)},u}(),Q1=function(){function u(a,c,d){var h=this;this._delegate=c,this.Zc=d,this.INTERNAL={delete:function(){return h.terminate()}},a instanceof ph||(this.tu=a)}return Object.defineProperty(u.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),u.prototype.settings=function(a){var c=this._delegate._getSettings();a.merge||c.host===a.host||Ef("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),a.merge&&delete(a=Object.assign(Object.assign({},c),a)).merge,this._delegate._setSettings(a)},u.prototype.useEmulator=function(a,c,d){void 0===d&&(d={}),function(h,g,_,y){var D;void 0===y&&(y={});var T=(h=dn(h,gh))._getSettings();if("firestore.googleapis.com"!==T.host&&T.host!==g&&Ef("Host has been set in both settings() and useEmulator(), emulator host will be used"),h._setSettings(Object.assign(Object.assign({},T),{host:g+":"+_,ssl:!1})),y.mockUserToken){var N,R;if("string"==typeof y.mockUserToken)N=y.mockUserToken,R=Hr.MOCK_USER;else{N=(0,We.Sg)(y.mockUserToken,null===(D=h._app)||void 0===D?void 0:D.options.projectId);var L=y.mockUserToken.sub||y.mockUserToken.user_id;if(!L)throw new _e(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Hr(L)}h._credentials=new ly(new uy(N,R))}}(this._delegate,a,c,d)},u.prototype.enableNetwork=function(){return function(a){var c=this;return a.asyncQueue.enqueue(function(){return(0,I.mG)(c,void 0,void 0,function(){var d,h;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return[4,iy(a)];case 1:return d=g.sent(),[4,oy(a)];case 2:return h=g.sent(),[2,(d.setNetworkEnabled(!0),_=h,y=Be(_),y.Or.delete(0),rd(y))]}var _,y})})})}(Ir(dn(this._delegate,fr)))},u.prototype.disableNetwork=function(){return function(a){var c=this;return a.asyncQueue.enqueue(function(){return(0,I.mG)(c,void 0,void 0,function(){var d,h;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return[4,iy(a)];case 1:return d=g.sent(),[4,oy(a)];case 2:return h=g.sent(),[2,(d.setNetworkEnabled(!1),function(_){return(0,I.mG)(this,void 0,void 0,function(){var y;return(0,I.Jh)(this,function(D){switch(D.label){case 0:return(y=Be(_)).Or.add(0),[4,$c(y)];case 1:return D.sent(),y.Br.set("Offline"),[2]}})})}(h))]}})})})}(Ir(dn(this._delegate,fr)))},u.prototype.enablePersistence=function(a){var c=!1,d=!1;return a&&Ds("synchronizeTabs",c=!!a.synchronizeTabs,"experimentalForceOwningTab",d=!!a.experimentalForceOwningTab),c?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,d)},u.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},u.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},u.prototype.waitForPendingWrites=function(){return function(a){var c=this,d=new Ri;return a.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(c,void 0,void 0,function(){var h;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return h=Zv,[4,jg(a)];case 1:return[2,h.apply(void 0,[g.sent(),d])]}})})}),d.promise}(Ir(dn(this._delegate,fr)))},u.prototype.onSnapshotsInSync=function(a){return d=a,function(h,g){var _=this,y=new dh(g);return h.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(_,void 0,void 0,function(){var D;return(0,I.Jh)(this,function(T){switch(T.label){case 0:return D=function(N,R){Be(N).Gr.add(R),R.next()},[4,ii(h)];case 1:return[2,D.apply(void 0,[T.sent(),y])]}})})}),function(){y.Wo(),h.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(_,void 0,void 0,function(){var D;return(0,I.Jh)(this,function(T){switch(T.label){case 0:return D=function(N,R){Be(N).Gr.delete(R)},[4,ii(h)];case 1:return[2,D.apply(void 0,[T.sent(),y])]}})})})}}(Ir(dn(this._delegate,fr)),el(d)?d:{next:d});var d},Object.defineProperty(u.prototype,"app",{get:function(){if(!this.tu)throw new _e(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),u.prototype.collection=function(a){try{return new Rh(this,j1(this._delegate,a))}catch(c){throw vi(c,"collection()","Firestore.collection()")}},u.prototype.doc=function(a){try{return new Hu(this,gd(this._delegate,a))}catch(c){throw vi(c,"doc()","Firestore.doc()")}},u.prototype.collectionGroup=function(a){try{return new Dd(this,function(c,d){if(c=dn(c,gh),Ug("collectionGroup","collection id",d),d.indexOf("/")>=0)throw new _e(oe.INVALID_ARGUMENT,"Invalid collection ID '"+d+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Fi(c,null,(h=d,new Zo(pn.emptyPath(),h)));var h}(this._delegate,a))}catch(c){throw vi(c,"collectionGroup()","Firestore.collectionGroup()")}},u.prototype.runTransaction=function(a){var d,c=this;return function(g,_){var y=this,D=new Ri;return g.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(y,void 0,void 0,function(){var T;return(0,I.Jh)(this,function(N){switch(N.label){case 0:return[4,(R=g,hh(R).then(function(L){return L.datastore}))];case 1:return T=N.sent(),new Fg(g.asyncQueue,T,_,D).run(),[2]}var R})})}),D.promise}(Ir(d=this._delegate),function(g){return function(d){return a(new wy(c,d))}(new Th(d,g))})},u.prototype.batch=function(){var a=this;return Ir(this._delegate),new tm(new Ch(this._delegate,function(c){return Bu(a._delegate,c)}))},u.prototype.loadBundle=function(a){throw new _e(oe.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},u.prototype.namedQuery=function(a){throw new _e(oe.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},u}(),rl=function(u){function a(c){var d=this;return(d=u.call(this)||this).firestore=c,d}return(0,I.ZT)(a,u),a.prototype.convertBytes=function(c){return new Mh(new $r(c))},a.prototype.convertReference=function(c){var d=this.convertDocumentKey(c,this.firestore._databaseId);return Hu.eu(d,this.firestore,null)},a}(Xg),wy=function(){function u(a,c){this._firestore=a,this._delegate=c,this._userDataWriter=new rl(a)}return u.prototype.get=function(a){var c=this,d=$a(a);return this._delegate.get(d).then(function(h){return new wd(c._firestore,new lo(c._firestore._delegate,c._userDataWriter,h._key,h._document,h.metadata,d.converter))})},u.prototype.set=function(a,c,d){var h=$a(a);return d?(Jc("Transaction.set",d),this._delegate.set(h,c,d)):this._delegate.set(h,c),this},u.prototype.update=function(a,c,d){for(var h,g=[],_=3;_<arguments.length;_++)g[_-3]=arguments[_];var y=$a(a);return 2===arguments.length?this._delegate.update(y,c):(h=this._delegate).update.apply(h,(0,I.ev)([y,c,d],g)),this},u.prototype.delete=function(a){var c=$a(a);return this._delegate.delete(c),this},u}(),tm=function(){function u(a){this._delegate=a}return u.prototype.set=function(a,c,d){var h=$a(a);return d?(Jc("WriteBatch.set",d),this._delegate.set(h,c,d)):this._delegate.set(h,c),this},u.prototype.update=function(a,c,d){for(var h,g=[],_=3;_<arguments.length;_++)g[_-3]=arguments[_];var y=$a(a);return 2===arguments.length?this._delegate.update(y,c):(h=this._delegate).update.apply(h,(0,I.ev)([y,c,d],g)),this},u.prototype.delete=function(a){var c=$a(a);return this._delegate.delete(c),this},u.prototype.commit=function(){return this._delegate.commit()},u}(),Ah=function(){function u(a,c,d){this._firestore=a,this._userDataWriter=c,this._delegate=d}return u.prototype.fromFirestore=function(a,c){var d=new ku(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,null);return this._delegate.fromFirestore(new Oh(this._firestore,d),c??{})},u.prototype.toFirestore=function(a,c){return c?this._delegate.toFirestore(a,c):this._delegate.toFirestore(a)},u.nu=function(a,c){var d=u.su,h=d.get(a);h||d.set(a,h=new WeakMap);var g=h.get(c);return g||(g=new u(a,new rl(a),c),h.set(c,g)),g},u}();Ah.su=new WeakMap;var Hu=function(){function u(a,c){this.firestore=a,this._delegate=c,this._userDataWriter=new rl(a)}return u.iu=function(a,c,d){if(a.length%2!=0)throw new _e(oe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+a.canonicalString()+" has "+a.length);return new u(c,new Wn(c._delegate,d,new at(a)))},u.eu=function(a,c,d){return new u(c,new Wn(c._delegate,d,a))},Object.defineProperty(u.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"parent",{get:function(){return new Rh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),u.prototype.collection=function(a){try{return new Rh(this.firestore,j1(this._delegate,a))}catch(c){throw vi(c,"collection()","DocumentReference.collection()")}},u.prototype.isEqual=function(a){return(a=(0,We.m9)(a))instanceof Wn&&dy(this._delegate,a)},u.prototype.set=function(a,c){c=Jc("DocumentReference.set",c);try{return c?Eh(this._delegate,a,c):Eh(this._delegate,a)}catch(d){throw vi(d,"setDoc()","DocumentReference.set()")}},u.prototype.update=function(a,c){for(var d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];try{return 1===arguments.length?Vu(this._delegate,a):Vu.apply(void 0,(0,I.ev)([this._delegate,a,c],d))}catch(g){throw vi(g,"updateDoc()","DocumentReference.update()")}},u.prototype.delete=function(){return Bu(dn((a=this._delegate).firestore,fr),[new ql(a._key,On.none())]);var a},u.prototype.onSnapshot=function(){for(var a=this,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var h=nm(c),g=Dy(c,function(_){return new wd(a.firestore,new lo(a.firestore._delegate,a._userDataWriter,_._key,_._document,_.metadata,a._delegate.converter))});return Sh(this._delegate,h,g)},u.prototype.get=function(a){var c=this;return("cache"===a?.source?function(d){d=dn(d,Wn);var h=dn(d.firestore,fr),g=Ir(h),_=new ia(h);return function(y,D){var T=this,N=new Ri;return y.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(T,void 0,void 0,function(){var R;return(0,I.Jh)(this,function(L){switch(L.label){case 0:return R=function(ee,Y,le){return(0,I.mG)(this,void 0,void 0,function(){var Ae,Le;return(0,I.Jh)(this,function(ot){switch(ot.label){case 0:return ot.trys.push([0,2,,3]),[4,(ct=ee,zt=Y,on=Be(ct),on.persistence.runTransaction("read document","readonly",function(Cn){return on.Mn.mn(Cn,zt)}))];case 1:return(Le=ot.sent()).isFoundDocument()?le.resolve(Le):Le.isNoDocument()?le.resolve(null):le.reject(new _e(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Ae=ot.sent(),Le=zc(Ae,"Failed to get document '"+Y+" from cache"),le.reject(Le),[3,3];case 3:return[2]}var ct,zt,on})})},[4,Bg(y)];case 1:return[2,R.apply(void 0,[L.sent(),D,N])]}})})}),N.promise}(g,d._key).then(function(y){return new lo(h,_,d._key,y,new Mr(null!==y&&y.hasLocalMutations,!0),d.converter)})}(this._delegate):"server"===a?.source?function(d){d=dn(d,Wn);var h=dn(d.firestore,fr);return Jo(Ir(h),d._key,{source:"server"}).then(function(g){return ju(h,d,g)})}(this._delegate):function(d){d=dn(d,Wn);var h=dn(d.firestore,fr);return Jo(Ir(h),d._key).then(function(g){return ju(h,d,g)})}(this._delegate)).then(function(d){return new wd(c.firestore,new lo(c.firestore._delegate,c._userDataWriter,d._key,d._document,d.metadata,c._delegate.converter))})},u.prototype.withConverter=function(a){return new u(this.firestore,this._delegate.withConverter(a?Ah.nu(this.firestore,a):null))},u}();function vi(u,a,c){return u.message=u.message.replace(a,c),u}function nm(u){for(var a=0,c=u;a<c.length;a++){var d=c[a];if("object"==typeof d&&!el(d))return d}return{}}function Dy(u,a){var c,d,h;return{next:function(g){h.next&&h.next(a(g))},error:null===(c=(h=el(u[0])?u[0]:el(u[1])?u[1]:"function"==typeof u[0]?{next:u[0],error:u[1],complete:u[2]}:{next:u[1],error:u[2],complete:u[3]}).error)||void 0===c?void 0:c.bind(h),complete:null===(d=h.complete)||void 0===d?void 0:d.bind(h)}}var wd=function(){function u(a,c){this._firestore=a,this._delegate=c}return Object.defineProperty(u.prototype,"ref",{get:function(){return new Hu(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),u.prototype.data=function(a){return this._delegate.data(a)},u.prototype.get=function(a,c){return this._delegate.get(a,c)},u.prototype.isEqual=function(a){return Zg(this._delegate,a._delegate)},u}(),Oh=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,I.ZT)(a,u),a.prototype.data=function(c){return this._delegate.data(c)},a}(wd),Dd=function(){function u(a,c){this.firestore=a,this._delegate=c,this._userDataWriter=new rl(a)}return u.prototype.where=function(a,c,d){try{return new u(this.firestore,Ua(this._delegate,(_=d,y=c,D=Pu("where",h=a),new Z1(D,y,_))))}catch(h){throw vi(h,/(orderBy|where)\(\)/,"Query.$1()")}var h,_,y,D},u.prototype.orderBy=function(a,c){try{return new u(this.firestore,Ua(this._delegate,function(d,h){void 0===h&&(h="asc");var g=h,_=Pu("orderBy",d);return new Kg(_,g)}(a,c)))}catch(d){throw vi(d,/(orderBy|where)\(\)/,"Query.$1()")}},u.prototype.limit=function(a){try{return new u(this.firestore,Ua(this._delegate,(V1("limit",c=a),new yd("limit",c,"F"))))}catch(c){throw vi(c,"limit()","Query.limit()")}var c},u.prototype.limitToLast=function(a){try{return new u(this.firestore,Ua(this._delegate,(V1("limitToLast",c=a),new yd("limitToLast",c,"L"))))}catch(c){throw vi(c,"limitToLast()","Query.limitToLast()")}var c},u.prototype.startAt=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];try{return new u(this.firestore,Ua(this._delegate,function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return new by("startAt",d,!0)}.apply(void 0,a)))}catch(d){throw vi(d,"startAt()","Query.startAt()")}},u.prototype.startAfter=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];try{return new u(this.firestore,Ua(this._delegate,function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return new by("startAfter",d,!1)}.apply(void 0,a)))}catch(d){throw vi(d,"startAfter()","Query.startAfter()")}},u.prototype.endBefore=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];try{return new u(this.firestore,Ua(this._delegate,function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return new Qg("endBefore",d,!0)}.apply(void 0,a)))}catch(d){throw vi(d,"endBefore()","Query.endBefore()")}},u.prototype.endAt=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];try{return new u(this.firestore,Ua(this._delegate,function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return new Qg("endAt",d,!1)}.apply(void 0,a)))}catch(d){throw vi(d,"endAt()","Query.endAt()")}},u.prototype.isEqual=function(a){return fy(this._delegate,a._delegate)},u.prototype.get=function(a){var c=this;return("cache"===a?.source?function(d){d=dn(d,Fi);var h=dn(d.firestore,fr),g=Ir(h),_=new ia(h);return function(y,D){var T=this,N=new Ri;return y.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(T,void 0,void 0,function(){var R;return(0,I.Jh)(this,function(L){switch(L.label){case 0:return R=function(ee,Y,le){return(0,I.mG)(this,void 0,void 0,function(){var Ae,Le,ot,ct,zt;return(0,I.Jh)(this,function(on){switch(on.label){case 0:return on.trys.push([0,2,,3]),[4,_g(ee,Y,!0)];case 1:return zt=on.sent(),Ae=new rh(Y,zt.Bn),Le=Ae._o(zt.documents),ot=Ae.applyChanges(Le,!1),le.resolve(ot.snapshot),[3,3];case 2:return ct=on.sent(),zt=zc(ct,"Failed to execute query '"+Y+" against cache"),le.reject(zt),[3,3];case 3:return[2]}})})},[4,Bg(y)];case 1:return[2,R.apply(void 0,[L.sent(),D,N])]}})})}),N.promise}(g,d._query).then(function(y){return new ja(h,_,d,y)})}(this._delegate):"server"===a?.source?function(d){d=dn(d,Fi);var h=dn(d.firestore,fr),g=Ir(h),_=new ia(h);return sy(g,d._query,{source:"server"}).then(function(y){return new ja(h,_,d,y)})}(this._delegate):function(d){d=dn(d,Fi);var h=dn(d.firestore,fr),g=Ir(h),_=new ia(h);return Fu(d._query),sy(g,d._query).then(function(y){return new ja(h,_,d,y)})}(this._delegate)).then(function(d){return new Cd(c.firestore,new ja(c.firestore._delegate,c._userDataWriter,c._delegate,d._snapshot))})},u.prototype.onSnapshot=function(){for(var a=this,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var h=nm(c),g=Dy(c,function(_){return new Cd(a.firestore,new ja(a.firestore._delegate,a._userDataWriter,a._delegate,_._snapshot))});return Sh(this._delegate,h,g)},u.prototype.withConverter=function(a){return new u(this.firestore,this._delegate.withConverter(a?Ah.nu(this.firestore,a):null))},u}(),xh=function(){function u(a,c){this._firestore=a,this._delegate=c}return Object.defineProperty(u.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"doc",{get:function(){return new Oh(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),u}(),Cd=function(){function u(a,c){this._firestore=a,this._delegate=c}return Object.defineProperty(u.prototype,"query",{get:function(){return new Dd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"docs",{get:function(){var a=this;return this._delegate.docs.map(function(c){return new Oh(a._firestore,c)})},enumerable:!1,configurable:!0}),u.prototype.docChanges=function(a){var c=this;return this._delegate.docChanges(a).map(function(d){return new xh(c._firestore,d)})},u.prototype.forEach=function(a,c){var d=this;this._delegate.forEach(function(h){a.call(c,new Oh(d._firestore,h))})},u.prototype.isEqual=function(a){return Zg(this._delegate,a._delegate)},u}(),Rh=function(u){function a(c,d){var h=this;return(h=u.call(this,c,d)||this).firestore=c,h._delegate=d,h}return(0,I.ZT)(a,u),Object.defineProperty(a.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){var c=this._delegate.parent;return c?new Hu(this.firestore,c):null},enumerable:!1,configurable:!0}),a.prototype.doc=function(c){try{return new Hu(this.firestore,void 0===c?gd(this._delegate):gd(this._delegate,c))}catch(d){throw vi(d,"doc()","CollectionReference.doc()")}},a.prototype.add=function(c){var h,g,_,y,D,d=this;return(h=this._delegate,g=c,_=dn(h.firestore,fr),y=gd(h),D=em(h.converter,g),Bu(_,[Ba(Xo(h.firestore),"addDoc",y._key,D,null!==h.converter,{}).toMutation(y._key,On.exists(!1))]).then(function(){return y})).then(function(h){return new Hu(d.firestore,h)})},a.prototype.isEqual=function(c){return dy(this._delegate,c._delegate)},a.prototype.withConverter=function(c){return new a(this.firestore,this._delegate.withConverter(c?Ah.nu(this.firestore,c):null))},a}(Dd);function $a(u){return dn(u,Wn)}var rm=function(){function u(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];this._delegate=new(Cs.bind.apply(Cs,(0,I.ev)([void 0],a)))}return u.documentId=function(){return new u(ps.keyField().canonicalString())},u.prototype.isEqual=function(a){return(a=(0,We.m9)(a))instanceof Cs&&this._delegate._internalPath.isEqual(a._internalPath)},u}(),Ph=function(){function u(a){this._delegate=a}return u.serverTimestamp=function(){var a=new zg("serverTimestamp");return a._methodName="FieldValue.serverTimestamp",new u(a)},u.delete=function(){var a=new vh("deleteField");return a._methodName="FieldValue.delete",new u(a)},u.arrayUnion=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var d=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];return new _y("arrayUnion",h)}.apply(void 0,a);return d._methodName="FieldValue.arrayUnion",new u(d)},u.arrayRemove=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var d=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];return new z1("arrayRemove",h)}.apply(void 0,a);return d._methodName="FieldValue.arrayRemove",new u(d)},u.increment=function(a){var c=new vy("increment",a);return c._methodName="FieldValue.increment",new u(c)},u.prototype.isEqual=function(a){return this._delegate.isEqual(a._delegate)},u}(),J1=Bt(75),Cy={Firestore:Q1,GeoPoint:_h,Timestamp:An,Blob:Mh,Transaction:wy,WriteBatch:tm,DocumentReference:Hu,DocumentSnapshot:wd,Query:Dd,QueryDocumentSnapshot:Oh,QuerySnapshot:Cd,CollectionReference:Rh,FieldPath:rm,FieldValue:Ph,setLogLevel:function bd(u){Pr.setLogLevel(u)},CACHE_SIZE_UNLIMITED:-1};!function JE(u){u.INTERNAL.registerComponent(new J1.wA("firestore",function(d){return a=d.getProvider("app").getImmediate(),c=d.getProvider("auth-internal"),new Q1(a,new fr(a,c),new Nh);var a,c},"PUBLIC").setServiceProps(Object.assign({},Cy))),u.registerVersion("@firebase/firestore","2.4.1")}(je.Z)},669:(po,Dr,Bt)=>{Bt.r(Dr);var je=Bt(778),I=Bt(582),We=Bt(157),nt=Bt(75),xt="firebasestorage.googleapis.com",Di="storageBucket",ce=function(E){function w(x,F){var z=E.call(this,Ce(x),"Firebase Storage: "+F+" ("+Ce(x)+")")||this;return z.customData={serverResponse:null},z._baseMessage=z.message,Object.setPrototypeOf(z,w.prototype),z}return(0,I.ZT)(w,E),w.prototype._codeEquals=function(x){return Ce(x)===this.code},Object.defineProperty(w.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(x){this.customData.serverResponse=x,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),w}(We.ZR);function Ce(E){return"storage/"+E}function ve(){return new ce("unknown","An unknown error occurred, please check the error payload for server response.")}function Yt(){return new ce("canceled","User canceled the upload/download.")}function Je(){return new ce("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Zt(E){return new ce("invalid-argument",E)}function ai(){return new ce("app-deleted","The Firebase app was deleted.")}function ro(E){return new ce("invalid-root-operation","The operation '"+E+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hi(E,w){return new ce("invalid-format","String does not match format '"+E+"': "+w)}function ui(E){throw new ce("internal-error","Internal error: "+E)}var $n={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ci=function E(w,x){this.data=w,this.contentType=x||null};function lt(E,w){switch(E){case $n.RAW:return new Ci(Ei(w));case $n.BASE64:case $n.BASE64URL:return new Ci(ne(E,w));case $n.DATA_URL:return new Ci(function q(E){var w=new ae(E);return w.base64?ne($n.BASE64,w.rest):function Gn(E){var w;try{w=decodeURIComponent(E)}catch{throw Hi($n.DATA_URL,"Malformed data URL.")}return Ei(w)}(w.rest)}(w),function J(E){return new ae(E).contentType}(w))}throw ve()}function Ei(E){for(var w=[],x=0;x<E.length;x++){var F=E.charCodeAt(x);if(F<=127)w.push(F);else if(F<=2047)w.push(192|F>>6,128|63&F);else if(55296==(64512&F))if(x<E.length-1&&56320==(64512&E.charCodeAt(x+1))){var re=F,ye=E.charCodeAt(++x);w.push(240|(F=65536|(1023&re)<<10|1023&ye)>>18,128|F>>12&63,128|F>>6&63,128|63&F)}else w.push(239,191,189);else 56320==(64512&F)?w.push(239,191,189):w.push(224|F>>12,128|F>>6&63,128|63&F)}return new Uint8Array(w)}function ne(E,w){switch(E){case $n.BASE64:var x=-1!==w.indexOf("-"),F=-1!==w.indexOf("_");if(x||F)throw Hi(E,"Invalid character '"+(x?"-":"_")+"' found: is it base64url encoded?");break;case $n.BASE64URL:var re=-1!==w.indexOf("+"),ye=-1!==w.indexOf("/");if(re||ye)throw Hi(E,"Invalid character '"+(re?"+":"/")+"' found: is it base64 encoded?");w=w.replace(/-/g,"+").replace(/_/g,"/")}var Ge;try{Ge=function tr(E){return atob(E)}(w)}catch{throw Hi(E,"Invalid character found")}for(var Fe=new Uint8Array(Ge.length),Xe=0;Xe<Ge.length;Xe++)Fe[Xe]=Ge.charCodeAt(Xe);return Fe}var ae=function E(w){this.base64=!1,this.contentType=null;var x=w.match(/^data:([^,]+)?,/);if(null===x)throw Hi($n.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var F=x[1]||null;null!=F&&(this.base64=function ge(E,w){return!!(E.length>=w.length)&&E.substring(E.length-w.length)===w}(F,";base64"),this.contentType=this.base64?F.substring(0,F.length-7):F),this.rest=w.substring(w.indexOf(",")+1)},pe={STATE_CHANGED:"state_changed"},we={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Tt(E){switch(E){case"running":case"pausing":case"canceling":return we.RUNNING;case"paused":return we.PAUSED;case"success":return we.SUCCESS;case"canceled":return we.CANCELED;default:return we.ERROR}}var tt=function(E){return E[E.NO_ERROR=0]="NO_ERROR",E[E.NETWORK_ERROR=1]="NETWORK_ERROR",E[E.ABORT=2]="ABORT",E}(tt||{}),Qe=function(){function E(){var w=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=tt.NO_ERROR,this.sendPromise_=new Promise(function(x){w.xhr_.addEventListener("abort",function(){w.errorCode_=tt.ABORT,x()}),w.xhr_.addEventListener("error",function(){w.errorCode_=tt.NETWORK_ERROR,x()}),w.xhr_.addEventListener("load",function(){x()})})}return E.prototype.send=function(w,x,F,z){if(this.sent_)throw ui("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(x,w,!0),void 0!==z)for(var re in z)z.hasOwnProperty(re)&&this.xhr_.setRequestHeader(re,z[re].toString());return void 0!==F?this.xhr_.send(F):this.xhr_.send(),this.sendPromise_},E.prototype.getErrorCode=function(){if(!this.sent_)throw ui("cannot .getErrorCode() before sending");return this.errorCode_},E.prototype.getStatus=function(){if(!this.sent_)throw ui("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},E.prototype.getResponseText=function(){if(!this.sent_)throw ui("cannot .getResponseText() before sending");return this.xhr_.responseText},E.prototype.abort=function(){this.xhr_.abort()},E.prototype.getResponseHeader=function(w){return this.xhr_.getResponseHeader(w)},E.prototype.addUploadProgressListener=function(w){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",w)},E.prototype.removeUploadProgressListener=function(w){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",w)},E}(),wn=function(){function E(){}return E.prototype.createConnection=function(){return function an(){return new Qe}()},E}(),It=function(){function E(w,x){this.bucket=w,this.path_=x}return Object.defineProperty(E.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),E.prototype.fullServerUrl=function(){var w=encodeURIComponent;return"/b/"+w(this.bucket)+"/o/"+w(this.path)},E.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},E.makeFromBucketSpec=function(w,x){var F;try{F=E.makeFromUrl(w,x)}catch{return new E(w,"")}if(""===F.path)return F;throw function jt(E){return new ce("invalid-default-bucket","Invalid default bucket '"+E+"'.")}(w)},E.makeFromUrl=function(w,x){var F=null,z="([A-Za-z0-9.\\-_]+)",Ge=new RegExp("^gs://"+z+"(/(.*))?$","i");function Xe(zi){zi.path_=decodeURIComponent(zi.path)}for(var Et=x.replace(/[.]/g,"\\."),$i=[{regex:Ge,indices:{bucket:1,path:3},postModify:function re(zi){"/"===zi.path.charAt(zi.path.length-1)&&(zi.path_=zi.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+Et+"/v[A-Za-z0-9_]+/b/"+z+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:Xe},{regex:new RegExp("^https?://"+(x===xt?"(?:storage.googleapis.com|storage.cloud.google.com)":x)+"/"+z+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:Xe}],Ni=0;Ni<$i.length;Ni++){var wa=$i[Ni],Gi=wa.regex.exec(w);if(Gi){var Ee=Gi[wa.indices.path];Ee||(Ee=""),F=new E(Gi[wa.indices.bucket],Ee),wa.postModify(F);break}}if(null==F)throw function Qn(E){return new ce("invalid-url","Invalid URL '"+E+"'.")}(w);return F},E}(),Cr=function(){function E(w){this.promise_=Promise.reject(w)}return E.prototype.getPromise=function(){return this.promise_},E.prototype.cancel=function(w){},E}();function Ne(E){return"string"==typeof E||E instanceof String}function De(E){return Ht()&&E instanceof Blob}function Ht(){return typeof Blob<"u"}function Kt(E,w,x,F){if(F<w)throw Zt("Invalid value for '"+E+"'. Expected "+w+" or greater.");if(F>x)throw Zt("Invalid value for '"+E+"'. Expected "+x+" or less.")}function Rt(E,w){var x=w.match(/^(\w+):\/\/.+/),F=x?.[1],z=w;return null==F&&(z="https://"+w),z+"/v0"+E}function ar(E){var w=encodeURIComponent,x="?";for(var F in E)E.hasOwnProperty(F)&&(x=x+(w(F)+"=")+w(E[F])+"&");return x.slice(0,-1)}var Pn=function(){function E(w,x,F,z,re,ye,Ge,Fe,Xe,Ct,Et){var nr=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=w,this.method_=x,this.headers_=F,this.body_=z,this.successCodes_=re.slice(),this.additionalRetryCodes_=ye.slice(),this.callback_=Ge,this.errorCallback_=Fe,this.progressCallback_=Ct,this.timeout_=Xe,this.pool_=Et,this.promise_=new Promise(function(cr,Dn){nr.resolve_=cr,nr.reject_=Dn,nr.start_()})}return E.prototype.start_=function(){var w=this;function F(z,re){var ye=w.resolve_,Ge=w.reject_,Fe=re.connection;if(re.wasSuccessCode)try{var Xe=w.callback_(Fe,Fe.getResponseText());!function G(E){return void 0!==E}(Xe)?ye():ye(Xe)}catch(Et){Ge(Et)}else if(null!==Fe)(Ct=ve()).serverResponse=Fe.getResponseText(),Ge(w.errorCallback_?w.errorCallback_(Fe,Ct):Ct);else if(re.canceled)Ge(Ct=w.appDelete_?ai():Yt());else{var Ct;Ge(Ct=function Wt(){return new ce("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?F(0,new ci(!1,null,!0)):this.backoffId_=function wt(E,w,x){var F=1,z=null,re=!1,ye=0;function Ge(){return 2===ye}var Fe=!1;function Xe(){for(var Dn=[],kn=0;kn<arguments.length;kn++)Dn[kn]=arguments[kn];Fe||(Fe=!0,w.apply(null,Dn))}function Ct(Dn){z=setTimeout(function(){z=null,E(Et,Ge())},Dn)}function Et(Dn){for(var kn=[],Tr=1;Tr<arguments.length;Tr++)kn[Tr-1]=arguments[Tr];if(!Fe){if(Dn)return void Xe.call.apply(Xe,(0,I.ev)([null,Dn],kn));var Mi;if(Ge()||re)return void Xe.call.apply(Xe,(0,I.ev)([null,Dn],kn));F<64&&(F*=2),1===ye?(ye=2,Mi=0):Mi=1e3*(F+Math.random()),Ct(Mi)}}var nr=!1;function cr(Dn){nr||(nr=!0,!Fe&&(null!==z?(Dn||(ye=2),clearTimeout(z),Ct(0)):Dn||(ye=1)))}return Ct(0),setTimeout(function(){re=!0,cr(!0)},x),cr}(function x(z,re){if(re)z(!1,new ci(!1,null,!0));else{var ye=w.pool_.createConnection();w.pendingConnection_=ye,null!==w.progressCallback_&&ye.addUploadProgressListener(Ge),ye.send(w.url_,w.method_,w.body_,w.headers_).then(function(){null!==w.progressCallback_&&ye.removeUploadProgressListener(Ge),w.pendingConnection_=null;var Fe=ye.getErrorCode()===tt.NO_ERROR,Xe=ye.getStatus();if(Fe&&!w.isRetryStatusCode_(Xe)){var Et=-1!==w.successCodes_.indexOf(Xe);z(!0,new ci(Et,ye))}else{var Ct=ye.getErrorCode()===tt.ABORT;z(!1,new ci(!1,null,Ct))}})}function Ge(Fe){null!==w.progressCallback_&&w.progressCallback_(Fe.loaded,Fe.lengthComputable?Fe.total:-1)}},F,this.timeout_)},E.prototype.getPromise=function(){return this.promise_},E.prototype.cancel=function(w){this.canceled_=!0,this.appDelete_=w||!1,null!==this.backoffId_&&function $(E){E(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},E.prototype.isRetryStatusCode_=function(w){var x=w>=500&&w<600,z=-1!==[408,429].indexOf(w),re=-1!==this.additionalRetryCodes_.indexOf(w);return x||z||re},E}(),ci=function E(w,x,F){this.wasSuccessCode=w,this.connection=x,this.canceled=!!F};function nu(){for(var E=[],w=0;w<arguments.length;w++)E[w]=arguments[w];var x=function zn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==x){for(var F=new x,z=0;z<E.length;z++)F.append(E[z]);return F.getBlob()}if(Ht())return new Blob(E);throw new ce("unsupported-environment","This browser doesn't seem to support creating Blobs")}var To=function(){function E(w,x){var F=0,z="";De(w)?(this.data_=w,F=w.size,z=w.type):w instanceof ArrayBuffer?(x?this.data_=new Uint8Array(w):(this.data_=new Uint8Array(w.byteLength),this.data_.set(new Uint8Array(w))),F=this.data_.length):w instanceof Uint8Array&&(x?this.data_=w:(this.data_=new Uint8Array(w.length),this.data_.set(w)),F=w.length),this.size_=F,this.type_=z}return E.prototype.size=function(){return this.size_},E.prototype.type=function(){return this.type_},E.prototype.slice=function(w,x){if(De(this.data_)){var z=function _a(E,w,x){return E.webkitSlice?E.webkitSlice(w,x):E.mozSlice?E.mozSlice(w,x):E.slice?E.slice(w,x):null}(this.data_,w,x);return null===z?null:new E(z)}return new E(new Uint8Array(this.data_.buffer,w,x-w),!0)},E.getBlob=function(){for(var w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];if(Ht()){var F=w.map(function(Fe){return Fe instanceof E?Fe.data_:Fe});return new E(nu.apply(null,F))}var z=w.map(function(Fe){return Ne(Fe)?lt($n.RAW,Fe).data:Fe.data_}),re=0;z.forEach(function(Fe){re+=Fe.byteLength});var ye=new Uint8Array(re),Ge=0;return z.forEach(function(Fe){for(var Xe=0;Xe<Fe.length;Xe++)ye[Ge++]=Fe[Xe]}),new E(ye,!0)},E.prototype.uploadData=function(){return this.data_},E}();function jo(E){var w;try{w=JSON.parse(E)}catch{return null}return function he(E){return"object"==typeof E&&!Array.isArray(E)}(w)?w:null}function Q(E){var w=E.lastIndexOf("/",E.length-2);return-1===w?E:E.slice(w+1)}function ue(E,w){return w}var Z=function E(w,x,F,z){this.server=w,this.local=x||w,this.writable=!!F,this.xform=z||ue},ke=null;function Qt(){if(ke)return ke;var E=[];E.push(new Z("bucket")),E.push(new Z("generation")),E.push(new Z("metageneration")),E.push(new Z("name","fullPath",!0));var x=new Z("name");x.xform=function w(re,ye){return function mt(E){return!Ne(E)||E.length<2?E:Q(E)}(ye)},E.push(x);var z=new Z("size");return z.xform=function F(re,ye){return void 0!==ye?Number(ye):ye},E.push(z),E.push(new Z("timeCreated")),E.push(new Z("updated")),E.push(new Z("md5Hash",null,!0)),E.push(new Z("cacheControl",null,!0)),E.push(new Z("contentDisposition",null,!0)),E.push(new Z("contentEncoding",null,!0)),E.push(new Z("contentLanguage",null,!0)),E.push(new Z("contentType",null,!0)),E.push(new Z("metadata","customMetadata",!0)),ke=E}function Or(E,w,x){var F=jo(w);return null===F?null:function un(E,w,x){for(var F={type:"file"},z=x.length,re=0;re<z;re++){var ye=x[re];F[ye.local]=ye.xform(F,w[ye.server])}return function mn(E,w){Object.defineProperty(E,"ref",{get:function x(){var re=new It(E.bucket,E.fullPath);return w._makeStorageReference(re)}})}(F,E),F}(E,F,x)}function _t(E,w){for(var x={},F=w.length,z=0;z<F;z++){var re=w[z];re.writable&&(x[re.server]=E[re.local])}return JSON.stringify(x)}var go="prefixes",xr="items";var io=function E(w,x,F,z){this.url=w,this.method=x,this.handler=F,this.timeout=z,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function ur(E){if(!E)throw ve()}function ru(E,w){return function x(F,z){var re=Or(E,z,w);return ur(null!==re),re}}function Uo(E){return function w(x,F){var z;return z=401===x.getStatus()?x.getResponseText().includes("Firebase App Check token is invalid")?function Mt(){return new ce("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Ue(){return new ce("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===x.getStatus()?function Me(E){return new ce("quota-exceeded","Quota for bucket '"+E+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(E.bucket):403===x.getStatus()?function Ft(E){return new ce("unauthorized","User does not have permission to access '"+E+"'.")}(E.path):F,z.serverResponse=F.serverResponse,z}}function Un(E){var w=Uo(E);return function x(F,z){var re=w(F,z);return 404===F.getStatus()&&(re=function Oe(E){return new ce("object-not-found","Object '"+E+"' does not exist.")}(E.path)),re.serverResponse=z.serverResponse,re}}function iu(E,w,x){var z=Rt(w.fullServerUrl(),E.host),ye=E.maxOperationRetryTime,Ge=new io(z,"GET",ru(E,x),ye);return Ge.errorHandler=Un(w),Ge}function Tp(E,w,x,F,z){var re={};re.prefix=w.isRoot?"":w.path+"/",x&&x.length>0&&(re.delimiter=x),F&&(re.pageToken=F),z&&(re.maxResults=z);var Ge=Rt(w.bucketOnlyServerUrl(),E.host),Xe=E.maxOperationRetryTime,Ct=new io(Ge,"GET",function yl(E,w){return function x(F,z){var re=function ff(E,w,x){var F=jo(x);return null===F?null:function ht(E,w,x){var F={prefixes:[],items:[],nextPageToken:x.nextPageToken};if(x[go])for(var z=0,re=x[go];z<re.length;z++){var Ge=re[z].replace(/\/$/,""),Fe=E._makeStorageReference(new It(w,Ge));F.prefixes.push(Fe)}if(x[xr])for(var Xe=0,Ct=x[xr];Xe<Ct.length;Xe++)Fe=E._makeStorageReference(new It(w,Ct[Xe].name)),F.items.push(Fe);return F}(E,w,F)}(E,w,z);return ur(null!==re),re}}(E,w.bucket),Xe);return Ct.urlParams=re,Ct.errorHandler=Uo(w),Ct}function Ip(E,w,x){var F=Object.assign({},x);return F.fullPath=E.path,F.size=w.size(),F.contentType||(F.contentType=function ic(E,w){return E&&E.contentType||w&&w.type()||"application/octet-stream"}(null,w)),F}var se=function E(w,x,F,z){this.current=w,this.total=x,this.finalized=!!F,this.metadata=z||null};function Fs(E,w){var x=null;try{x=E.getResponseHeader("X-Goog-Upload-Status")}catch{ur(!1)}return ur(!!x&&-1!==(w||["active"]).indexOf(x)),x}var ya=function E(w,x,F){var z=function te(E){return"function"==typeof E}(w)||null!=x||null!=F;if(z)this.next=w,this.error=x,this.complete=F;else{var re=w;this.next=re.next,this.error=re.error,this.complete=re.complete}};function us(E){return function(){for(var w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];Promise.resolve().then(function(){return E.apply(void 0,w)})}}var Si=function(){function E(w,x,F){var z=this;void 0===F&&(F=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=w,this._blob=x,this._metadata=F,this._mappings=Qt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(re){z._request=void 0,z._chunkMultiplier=1,re._codeEquals("canceled")?(z._needToFetchStatus=!0,z.completeTransitions_()):(z._error=re,z._transition("error"))},this._metadataErrorHandler=function(re){z._request=void 0,re._codeEquals("canceled")?z.completeTransitions_():(z._error=re,z._transition("error"))},this._promise=new Promise(function(re,ye){z._resolve=re,z._reject=ye,z._start()}),this._promise.then(null,function(){})}return E.prototype._makeProgressCallback=function(){var w=this,x=this._transferred;return function(F){return w._updateProgress(x+F)}},E.prototype._shouldDoResumable=function(w){return w.size()>262144},E.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},E.prototype._resolveToken=function(w){var x=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(F){var z=F[0],re=F[1];switch(x._state){case"running":w(z,re);break;case"canceling":x._transition("canceled");break;case"pausing":x._transition("paused")}})},E.prototype._createResumable=function(){var w=this;this._resolveToken(function(x,F){var z=function Dt(E,w,x,F,z){var re=w.bucketOnlyServerUrl(),ye=Ip(w,F,z),Ge={name:ye.fullPath},Fe=Rt(re,E.host),Ct={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+F.size(),"X-Goog-Upload-Header-Content-Type":ye.contentType,"Content-Type":"application/json; charset=utf-8"},Et=_t(ye,x),Dn=new io(Fe,"POST",function cr(kn){var Tr;Fs(kn);try{Tr=kn.getResponseHeader("X-Goog-Upload-URL")}catch{ur(!1)}return ur(Ne(Tr)),Tr},E.maxUploadRetryTime);return Dn.urlParams=Ge,Dn.headers=Ct,Dn.body=Et,Dn.errorHandler=Uo(w),Dn}(w._ref.storage,w._ref._location,w._mappings,w._blob,w._metadata),re=w._ref.storage._makeRequest(z,x,F);w._request=re,re.getPromise().then(function(ye){w._request=void 0,w._uploadUrl=ye,w._needToFetchStatus=!1,w.completeTransitions_()},w._errorHandler)})},E.prototype._fetchStatus=function(){var w=this,x=this._uploadUrl;this._resolveToken(function(F,z){var re=function Jt(E,w,x,F){var Fe=new io(x,"POST",function re(Xe){var Ct=Fs(Xe,["active","final"]),Et=null;try{Et=Xe.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ur(!1)}Et||ur(!1);var nr=Number(Et);return ur(!isNaN(nr)),new se(nr,F.size(),"final"===Ct)},E.maxUploadRetryTime);return Fe.headers={"X-Goog-Upload-Command":"query"},Fe.errorHandler=Uo(w),Fe}(w._ref.storage,w._ref._location,x,w._blob),ye=w._ref.storage._makeRequest(re,F,z);w._request=ye,ye.getPromise().then(function(Ge){w._request=void 0,w._updateProgress(Ge.current),w._needToFetchStatus=!1,Ge.finalized&&(w._needToFetchMetadata=!0),w.completeTransitions_()},w._errorHandler)})},E.prototype._continueUpload=function(){var w=this,x=262144*this._chunkMultiplier,F=new se(this._transferred,this._blob.size()),z=this._uploadUrl;this._resolveToken(function(re,ye){var Ge;try{Ge=function A_(E,w,x,F,z,re,ye,Ge){var Fe=new se(0,0);if(ye?(Fe.current=ye.current,Fe.total=ye.total):(Fe.current=0,Fe.total=F.size()),F.size()!==Fe.total)throw function bn(){return new ce("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var Xe=Fe.total-Fe.current,Ct=Xe;z>0&&(Ct=Math.min(Ct,z));var Et=Fe.current,Dn={"X-Goog-Upload-Command":Ct===Xe?"upload, finalize":"upload","X-Goog-Upload-Offset":""+Fe.current},kn=F.slice(Et,Et+Ct);if(null===kn)throw Je();var $i=new io(x,"POST",function Tr(Ni,wa){var zi,Gi=Fs(Ni,["active","final"]),Vs=Fe.current+Ct,Ee=F.size();return zi="final"===Gi?ru(w,re)(Ni,wa):null,new se(Vs,Ee,"final"===Gi,zi)},w.maxUploadRetryTime);return $i.headers=Dn,$i.body=kn.uploadData(),$i.progressCallback=Ge||null,$i.errorHandler=Uo(E),$i}(w._ref._location,w._ref.storage,z,w._blob,x,w._mappings,F,w._makeProgressCallback())}catch(Xe){return w._error=Xe,void w._transition("error")}var Fe=w._ref.storage._makeRequest(Ge,re,ye);w._request=Fe,Fe.getPromise().then(function(Xe){w._increaseMultiplier(),w._request=void 0,w._updateProgress(Xe.current),Xe.finalized?(w._metadata=Xe.metadata,w._transition("success")):w.completeTransitions_()},w._errorHandler)})},E.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},E.prototype._fetchMetadata=function(){var w=this;this._resolveToken(function(x,F){var z=iu(w._ref.storage,w._ref._location,w._mappings),re=w._ref.storage._makeRequest(z,x,F);w._request=re,re.getPromise().then(function(ye){w._request=void 0,w._metadata=ye,w._transition("success")},w._metadataErrorHandler)})},E.prototype._oneShotUpload=function(){var w=this;this._resolveToken(function(x,F){var z=function va(E,w,x,F,z){var re=w.bucketOnlyServerUrl(),ye={"X-Goog-Upload-Protocol":"multipart"},Fe=function Ge(){for(var $i="",Ni=0;Ni<2;Ni++)$i+=Math.random().toString().slice(2);return $i}();ye["Content-Type"]="multipart/related; boundary="+Fe;var Xe=Ip(w,F,z),Ct=_t(Xe,x),cr=To.getBlob("--"+Fe+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ct+"\r\n--"+Fe+"\r\nContent-Type: "+Xe.contentType+"\r\n\r\n",F,"\r\n--"+Fe+"--");if(null===cr)throw Je();var Dn={name:Xe.fullPath},kn=Rt(re,E.host),ds=E.maxUploadRetryTime,Mi=new io(kn,"POST",ru(E,x),ds);return Mi.urlParams=Dn,Mi.headers=ye,Mi.body=cr.uploadData(),Mi.errorHandler=Uo(w),Mi}(w._ref.storage,w._ref._location,w._mappings,w._blob,w._metadata),re=w._ref.storage._makeRequest(z,x,F);w._request=re,re.getPromise().then(function(ye){w._request=void 0,w._metadata=ye,w._updateProgress(w._blob.size()),w._transition("success")},w._errorHandler)})},E.prototype._updateProgress=function(w){var x=this._transferred;this._transferred=w,this._transferred!==x&&this._notifyObservers()},E.prototype._transition=function(w){if(this._state!==w)switch(w){case"canceling":case"pausing":this._state=w,void 0!==this._request&&this._request.cancel();break;case"running":var x="paused"===this._state;this._state=w,x&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=w,this._notifyObservers();break;case"canceled":this._error=Yt(),this._state=w,this._notifyObservers()}},E.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(E.prototype,"snapshot",{get:function(){var w=Tt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:w,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),E.prototype.on=function(w,x,F,z){var re=this,ye=new ya(x,F,z);return this._addObserver(ye),function(){re._removeObserver(ye)}},E.prototype.then=function(w,x){return this._promise.then(w,x)},E.prototype.catch=function(w){return this.then(null,w)},E.prototype._addObserver=function(w){this._observers.push(w),this._notifyObserver(w)},E.prototype._removeObserver=function(w){var x=this._observers.indexOf(w);-1!==x&&this._observers.splice(x,1)},E.prototype._notifyObservers=function(){var w=this;this._finishPromise(),this._observers.slice().forEach(function(F){w._notifyObserver(F)})},E.prototype._finishPromise=function(){if(void 0!==this._resolve){var w=!0;switch(Tt(this._state)){case we.SUCCESS:us(this._resolve.bind(null,this.snapshot))();break;case we.CANCELED:case we.ERROR:us(this._reject.bind(null,this._error))();break;default:w=!1}w&&(this._resolve=void 0,this._reject=void 0)}},E.prototype._notifyObserver=function(w){switch(Tt(this._state)){case we.RUNNING:case we.PAUSED:w.next&&us(w.next.bind(w,this.snapshot))();break;case we.SUCCESS:w.complete&&us(w.complete.bind(w))();break;default:w.error&&us(w.error.bind(w,this._error))()}},E.prototype.resume=function(){var w="paused"===this._state||"pausing"===this._state;return w&&this._transition("running"),w},E.prototype.pause=function(){var w="running"===this._state;return w&&this._transition("pausing"),w},E.prototype.cancel=function(){var w="running"===this._state||"pausing"===this._state;return w&&this._transition("canceling"),w},E}(),Ho=function(){function E(w,x){this._service=w,this._location=x instanceof It?x:It.makeFromUrl(x,w.host)}return E.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},E.prototype._newRef=function(w,x){return new E(w,x)},Object.defineProperty(E.prototype,"root",{get:function(){var w=new It(this._location.bucket,"");return this._newRef(this._service,w)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"name",{get:function(){return Q(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"parent",{get:function(){var w=function H(E){if(0===E.length)return null;var w=E.lastIndexOf("/");return-1===w?"":E.slice(0,w)}(this._location.path);if(null===w)return null;var x=new It(this._location.bucket,w);return new E(this._service,x)},enumerable:!1,configurable:!0}),E.prototype._throwIfRoot=function(w){if(""===this._location.path)throw ro(w)},E}();function bl(E){var w={prefixes:[],items:[]};return $o(E,w).then(function(){return w})}function $o(E,w,x){return(0,I.mG)(this,void 0,void 0,function(){var z,re,ye;return(0,I.Jh)(this,function(Ge){switch(Ge.label){case 0:return[4,su(E,{pageToken:x})];case 1:return z=Ge.sent(),(re=w.prefixes).push.apply(re,z.prefixes),(ye=w.items).push.apply(ye,z.items),null==z.nextPageToken?[3,3]:[4,$o(E,w,z.nextPageToken)];case 2:Ge.sent(),Ge.label=3;case 3:return[2]}})})}function su(E,w){return(0,I.mG)(this,void 0,void 0,function(){var x,F;return(0,I.Jh)(this,function(z){switch(z.label){case 0:return null!=w&&"number"==typeof w.maxResults&&Kt("options.maxResults",1,1e3,w.maxResults),F=Tp(E.storage,E._location,"/",(x=w||{}).pageToken,x.maxResults),[4,E.storage.makeRequestWithTokens(F)];case 1:return[2,z.sent().getPromise()]}})})}function Np(E){return(0,I.mG)(this,void 0,void 0,function(){var w;return(0,I.Jh)(this,function(x){switch(x.label){case 0:return E._throwIfRoot("getDownloadURL"),w=function Pt(E,w,x){var z=Rt(w.fullServerUrl(),E.host),ye=E.maxOperationRetryTime,Ge=new io(z,"GET",function cn(E,w){return function x(F,z){var re=Or(E,z,w);return ur(null!==re),function hn(E,w,x){var F=jo(w);if(null===F||!Ne(F.downloadTokens))return null;var z=F.downloadTokens;if(0===z.length)return null;var re=encodeURIComponent;return z.split(",").map(function(Fe){var Ct=E.fullPath;return Rt("/b/"+re(E.bucket)+"/o/"+re(Ct),x)+ar({alt:"media",token:Fe})})[0]}(re,z,E.host)}}(E,x),ye);return Ge.errorHandler=Un(w),Ge}(E.storage,E._location,Qt()),[4,E.storage.makeRequestWithTokens(w)];case 1:return[2,x.sent().getPromise().then(function(F){if(null===F)throw function Yr(){return new ce("no-download-url","The given file does not have any download URLs.")}();return F})]}})})}function oc(E,w){var x=function U(E,w){var x=w.split("/").filter(function(F){return F.length>0}).join("/");return 0===E.length?x:E+"/"+x}(E._location.path,w),F=new It(E._location.bucket,x);return new Ho(E.storage,F)}function sc(E){return/^[A-Za-z]+:\/\//.test(E)}function Ii(E,w){if(E instanceof cu){var x=E;if(null==x._bucket)throw function jn(){return new ce("no-default-bucket","No default bucket found. Did you set the '"+Di+"' property when initializing the app?")}();var F=new Ho(x,x._bucket);return null!=w?Ii(F,w):F}return void 0!==w?oc(E,w):E}function gt(E,w){if(w&&sc(w)){if(E instanceof cu)return function gf(E,w){return new Ho(E,w)}(E,w);throw Zt("To use ref(service, url), the first argument must be a Storage instance.")}return Ii(E,w)}function uu(E,w){var x=w?.[Di];return null==x?null:It.makeFromBucketSpec(x,E)}var cu=function(){function E(w,x,F,z,re,ye){this.app=w,this._authProvider=x,this._appCheckProvider=F,this._pool=z,this._url=re,this._firebaseVersion=ye,this._bucket=null,this._host=xt,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=re?It.makeFromBucketSpec(re,this._host):uu(this._host,this.app.options)}return Object.defineProperty(E.prototype,"host",{get:function(){return this._host},set:function(w){this._host=w,this._bucket=null!=this._url?It.makeFromBucketSpec(this._url,w):uu(w,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(w){Kt("time",0,Number.POSITIVE_INFINITY,w),this._maxUploadRetryTime=w},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(w){Kt("time",0,Number.POSITIVE_INFINITY,w),this._maxOperationRetryTime=w},enumerable:!1,configurable:!0}),E.prototype._getAuthToken=function(){return(0,I.mG)(this,void 0,void 0,function(){var w,x;return(0,I.Jh)(this,function(F){switch(F.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(w=this._authProvider.getImmediate({optional:!0}))?[4,w.getToken()]:[3,2];case 1:if(null!==(x=F.sent()))return[2,x.accessToken];F.label=2;case 2:return[2,null]}})})},E.prototype._getAppCheckToken=function(){return(0,I.mG)(this,void 0,void 0,function(){var w;return(0,I.Jh)(this,function(F){switch(F.label){case 0:return(w=this._appCheckProvider.getImmediate({optional:!0}))?[4,w.getToken()]:[3,2];case 1:return[2,F.sent().token];case 2:return[2,null]}})})},E.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(w){return w.cancel()}),this._requests.clear()),Promise.resolve()},E.prototype._makeStorageReference=function(w){return new Ho(this,w)},E.prototype._makeRequest=function(w,x,F){var z=this;if(this._deleted)return new Cr(ai());var re=function fn(E,w,x,F,z,re){var ye=ar(E.urlParams),Ge=E.url+ye,Fe=Object.assign({},E.headers);return function li(E,w){w&&(E["X-Firebase-GMPID"]=w)}(Fe,w),function ks(E,w){null!==w&&w.length>0&&(E.Authorization="Firebase "+w)}(Fe,x),function Er(E,w){E["X-Firebase-Storage-Version"]="webjs/"+(w??"AppManager")}(Fe,re),function Mn(E,w){null!==w&&(E["X-Firebase-AppCheck"]=w)}(Fe,F),new Pn(Ge,E.method,Fe,E.body,E.successCodes,E.additionalRetryCodes,E.handler,E.errorHandler,E.timeout,E.progressCallback,z)}(w,this._appId,x,F,this._pool,this._firebaseVersion);return this._requests.add(re),re.getPromise().then(function(){return z._requests.delete(re)},function(){return z._requests.delete(re)}),re},E.prototype.makeRequestWithTokens=function(w){return(0,I.mG)(this,void 0,void 0,function(){var x;return(0,I.Jh)(this,function(re){switch(re.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return x=re.sent(),[2,this._makeRequest(w,x[0],x[1])]}})})},E}();function Ls(E,w){return gt(E=(0,We.m9)(E),w)}var ba=function(){function E(w,x,F){this._delegate=w,this.task=x,this.ref=F}return Object.defineProperty(E.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),E}(),_f=function(){function E(w,x){this._delegate=w,this._ref=x,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(E.prototype,"snapshot",{get:function(){return new ba(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),E.prototype.then=function(w,x){var F=this;return this._delegate.then(function(z){if(w)return w(new ba(z,F,F._ref))},x)},E.prototype.on=function(w,x,F,z){var re=this,ye=void 0;return x&&(ye="function"==typeof x?function(Ge){return x(new ba(Ge,re,re._ref))}:{next:x.next?function(Ge){return x.next(new ba(Ge,re,re._ref))}:void 0,complete:x.complete||void 0,error:x.error||void 0}),this._delegate.on(w,ye,F||void 0,z||void 0)},E}(),At=function(){function E(w,x){this._delegate=w,this._service=x}return Object.defineProperty(E.prototype,"prefixes",{get:function(){var w=this;return this._delegate.prefixes.map(function(x){return new cs(x,w._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"items",{get:function(){var w=this;return this._delegate.items.map(function(x){return new cs(x,w._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),E}(),cs=function(){function E(w,x){this._delegate=w,this.storage=x}return Object.defineProperty(E.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),E.prototype.toString=function(){return this._delegate.toString()},E.prototype.child=function(w){var x=function du(E,w){return oc(E,w)}(this._delegate,w);return new E(x,this.storage)},Object.defineProperty(E.prototype,"root",{get:function(){return new E(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"parent",{get:function(){var w=this._delegate.parent;return null==w?null:new E(w,this.storage)},enumerable:!1,configurable:!0}),E.prototype.put=function(w,x){return this._throwIfRoot("put"),new _f(function Re(E,w,x){return function pf(E,w,x){return E._throwIfRoot("uploadBytesResumable"),new Si(E,new To(w),x)}(E=(0,We.m9)(E),w,x)}(this._delegate,w,x),this)},E.prototype.putString=function(w,x,F){void 0===x&&(x=$n.RAW),this._throwIfRoot("putString");var z=lt(x,w),re=(0,I.pi)({},F);return null==re.contentType&&null!=z.contentType&&(re.contentType=z.contentType),new _f(new Si(this._delegate,new To(z.data,!0),re),this)},E.prototype.listAll=function(){var w=this;return function Ap(E){return bl(E=(0,We.m9)(E))}(this._delegate).then(function(x){return new At(x,w.storage)})},E.prototype.list=function(w){var x=this;return function lu(E,w){return su(E=(0,We.m9)(E),w)}(this._delegate,w||void 0).then(function(F){return new At(F,x.storage)})},E.prototype.getMetadata=function(){return function wl(E){return function Mp(E){return(0,I.mG)(this,void 0,void 0,function(){var w;return(0,I.Jh)(this,function(x){switch(x.label){case 0:return E._throwIfRoot("getMetadata"),w=iu(E.storage,E._location,Qt()),[4,E.storage.makeRequestWithTokens(w)];case 1:return[2,x.sent().getPromise()]}})})}(E=(0,We.m9)(E))}(this._delegate)},E.prototype.updateMetadata=function(w){return function Nt(E,w){return function Ti(E,w){return(0,I.mG)(this,void 0,void 0,function(){var x;return(0,I.Jh)(this,function(F){switch(F.label){case 0:return E._throwIfRoot("updateMetadata"),x=function pt(E,w,x,F){var re=Rt(w.fullServerUrl(),E.host),Ge=_t(x,F),Xe=E.maxOperationRetryTime,Ct=new io(re,"PATCH",ru(E,F),Xe);return Ct.headers={"Content-Type":"application/json; charset=utf-8"},Ct.body=Ge,Ct.errorHandler=Un(w),Ct}(E.storage,E._location,w,Qt()),[4,E.storage.makeRequestWithTokens(x)];case 1:return[2,F.sent().getPromise()]}})})}(E=(0,We.m9)(E),w)}(this._delegate,w)},E.prototype.getDownloadURL=function(){return function ac(E){return Np(E=(0,We.m9)(E))}(this._delegate)},E.prototype.delete=function(){return this._throwIfRoot("delete"),function uc(E){return function au(E){return(0,I.mG)(this,void 0,void 0,function(){var w;return(0,I.Jh)(this,function(x){switch(x.label){case 0:return E._throwIfRoot("deleteObject"),w=function ou(E,w){var F=Rt(w.fullServerUrl(),E.host),Ge=new io(F,"DELETE",function ye(Fe,Xe){},E.maxOperationRetryTime);return Ge.successCodes=[200,204],Ge.errorHandler=Un(w),Ge}(E.storage,E._location),[4,E.storage.makeRequestWithTokens(w)];case 1:return[2,x.sent().getPromise()]}})})}(E=(0,We.m9)(E))}(this._delegate)},E.prototype._throwIfRoot=function(w){if(""===this._delegate._location.path)throw ro(w)},E}(),fu=function(){function E(w,x){this.app=w,this._delegate=x}return Object.defineProperty(E.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),E.prototype.ref=function(w){if(sc(w))throw Zt("ref() expected a child path but got a URL, use refFromURL instead.");return new cs(Ls(this._delegate,w),this)},E.prototype.refFromURL=function(w){if(!sc(w))throw Zt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{It.makeFromUrl(w,this._delegate.host)}catch{throw Zt("refFromUrl() expected a valid full URL but got an invalid one.")}return new cs(Ls(this._delegate,w),this)},E.prototype.setMaxUploadRetryTime=function(w){this._delegate.maxUploadRetryTime=w},E.prototype.setMaxOperationRetryTime=function(w){this._delegate.maxOperationRetryTime=w},E.prototype.useEmulator=function(w,x,F){void 0===F&&(F={}),function cc(E,w,x,F){void 0===F&&(F={}),function mf(E,w,x,F){void 0===F&&(F={}),E.host="http://"+w+":"+x;var z=F.mockUserToken;z&&(E._overrideAuthToken="string"==typeof z?z:(0,We.Sg)(z,E.app.options.projectId))}(E,w,x,F)}(this._delegate,w,x,F)},E}();function Nn(E,w){var x=w.instanceIdentifier,F=E.getProvider("app").getImmediate(),z=E.getProvider("auth-internal"),re=E.getProvider("app-check-internal");return new fu(F,new cu(F,z,re,new wn,x,je.Z.SDK_VERSION))}!function yf(E){var w={TaskState:we,TaskEvent:pe,StringFormat:$n,Storage:cu,Reference:cs};E.INTERNAL.registerComponent(new nt.wA("storage",Nn,"PUBLIC").setServiceProps(w).setMultipleInstances(!0)),E.registerVersion("@firebase/storage","0.7.1")}(je.Z)},614:()=>{const po=":";const It=function($,...G){if(It.translate){const he=It.translate($,G);$=he[0],G=he[1]}let te=wt($[0],$.raw[0]);for(let he=1;he<$.length;he++)te+=G[he-1]+wt($[he],$.raw[he]);return te},Cr=":";function wt($,G){return G.charAt(0)===Cr?$.substring(function ae($,G){for(let te=1,he=1;te<$.length;te++,he++)if("\\"===G[he])he++;else if($[te]===po)return te;throw new Error(`Unterminated $localize metadata block in "${G}".`)}($,G)+1):$}globalThis.$localize=It},582:(po,Dr,Bt)=>{Bt.d(Dr,{CR:()=>Wt,FC:()=>Je,Jh:()=>Me,KL:()=>Yr,XA:()=>Ft,ZT:()=>I,ev:()=>jt,mG:()=>Oe,pi:()=>We,qq:()=>jn});var je=function(ne,ae){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,J){q.__proto__=J}||function(q,J){for(var ge in J)Object.prototype.hasOwnProperty.call(J,ge)&&(q[ge]=J[ge])})(ne,ae)};function I(ne,ae){if("function"!=typeof ae&&null!==ae)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function q(){this.constructor=ne}je(ne,ae),ne.prototype=null===ae?Object.create(ae):(q.prototype=ae.prototype,new q)}var We=function(){return We=Object.assign||function(ae){for(var q,J=1,ge=arguments.length;J<ge;J++)for(var pe in q=arguments[J])Object.prototype.hasOwnProperty.call(q,pe)&&(ae[pe]=q[pe]);return ae},We.apply(this,arguments)};function Oe(ne,ae,q,J){return new(q||(q=Promise))(function(pe,we){function Tt(an){try{Qe(J.next(an))}catch(wn){we(wn)}}function tt(an){try{Qe(J.throw(an))}catch(wn){we(wn)}}function Qe(an){an.done?pe(an.value):function ge(pe){return pe instanceof q?pe:new q(function(we){we(pe)})}(an.value).then(Tt,tt)}Qe((J=J.apply(ne,ae||[])).next())})}function Me(ne,ae){var J,ge,pe,we,q={label:0,sent:function(){if(1&pe[0])throw pe[1];return pe[1]},trys:[],ops:[]};return we={next:Tt(0),throw:Tt(1),return:Tt(2)},"function"==typeof Symbol&&(we[Symbol.iterator]=function(){return this}),we;function Tt(Qe){return function(an){return function tt(Qe){if(J)throw new TypeError("Generator is already executing.");for(;we&&(we=0,Qe[0]&&(q=0)),q;)try{if(J=1,ge&&(pe=2&Qe[0]?ge.return:Qe[0]?ge.throw||((pe=ge.return)&&pe.call(ge),0):ge.next)&&!(pe=pe.call(ge,Qe[1])).done)return pe;switch(ge=0,pe&&(Qe=[2&Qe[0],pe.value]),Qe[0]){case 0:case 1:pe=Qe;break;case 4:return q.label++,{value:Qe[1],done:!1};case 5:q.label++,ge=Qe[1],Qe=[0];continue;case 7:Qe=q.ops.pop(),q.trys.pop();continue;default:if(!(pe=(pe=q.trys).length>0&&pe[pe.length-1])&&(6===Qe[0]||2===Qe[0])){q=0;continue}if(3===Qe[0]&&(!pe||Qe[1]>pe[0]&&Qe[1]<pe[3])){q.label=Qe[1];break}if(6===Qe[0]&&q.label<pe[1]){q.label=pe[1],pe=Qe;break}if(pe&&q.label<pe[2]){q.label=pe[2],q.ops.push(Qe);break}pe[2]&&q.ops.pop(),q.trys.pop();continue}Qe=ae.call(ne,q)}catch(an){Qe=[6,an],ge=0}finally{J=pe=0}if(5&Qe[0])throw Qe[1];return{value:Qe[0]?Qe[1]:void 0,done:!0}}([Qe,an])}}}function Ft(ne){var ae="function"==typeof Symbol&&Symbol.iterator,q=ae&&ne[ae],J=0;if(q)return q.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&J>=ne.length&&(ne=void 0),{value:ne&&ne[J++],done:!ne}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wt(ne,ae){var q="function"==typeof Symbol&&ne[Symbol.iterator];if(!q)return ne;var ge,we,J=q.call(ne),pe=[];try{for(;(void 0===ae||ae-- >0)&&!(ge=J.next()).done;)pe.push(ge.value)}catch(Tt){we={error:Tt}}finally{try{ge&&!ge.done&&(q=J.return)&&q.call(J)}finally{if(we)throw we.error}}return pe}function jt(ne,ae,q){if(q||2===arguments.length)for(var pe,J=0,ge=ae.length;J<ge;J++)(pe||!(J in ae))&&(pe||(pe=Array.prototype.slice.call(ae,0,J)),pe[J]=ae[J]);return ne.concat(pe||Array.prototype.slice.call(ae))}function jn(ne){return this instanceof jn?(this.v=ne,this):new jn(ne)}function Je(ne,ae,q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,J=q.apply(ne,ae||[]),pe=[];return ge={},we("next"),we("throw"),we("return"),ge[Symbol.asyncIterator]=function(){return this},ge;function we(It){J[It]&&(ge[It]=function(Cr){return new Promise(function(wt,$){pe.push([It,Cr,wt,$])>1||Tt(It,Cr)})})}function Tt(It,Cr){try{!function tt(It){It.value instanceof jn?Promise.resolve(It.value.v).then(Qe,an):wn(pe[0][2],It)}(J[It](Cr))}catch(wt){wn(pe[0][3],wt)}}function Qe(It){Tt("next",It)}function an(It){Tt("throw",It)}function wn(It,Cr){It(Cr),pe.shift(),pe.length&&Tt(pe[0][0],pe[0][1])}}function Yr(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,ae=ne[Symbol.asyncIterator];return ae?ae.call(ne):(ne=Ft(ne),q={},J("next"),J("throw"),J("return"),q[Symbol.asyncIterator]=function(){return this},q);function J(pe){q[pe]=ne[pe]&&function(we){return new Promise(function(Tt,tt){!function ge(pe,we,Tt,tt){Promise.resolve(tt).then(function(Qe){pe({value:Qe,done:Tt})},we)}(Tt,tt,(we=ne[pe](we)).done,we.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},po=>{var Dr=je=>po(po.s=je);Dr(614),Dr(245)}]);